"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("react/jsx-runtime"),p=require("react"),$t=require("react-dom");function zg(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const ke=zg(p),p0=zg($t);class f0 extends Error{constructor(t,n){super(t),this.error=t,this.errorData=n}}const Vi=async(e,{onError:t,onLoading:n,onResult:r,params:s,rawText:o,...i})=>{try{n==null||n(!0);const l=s?new URLSearchParams(s).toString():"",c=l?`?${l}`:"",u=await fetch(`${e}${c}`,i);if(!u.ok){const f=await u.json();throw new f0(f.error||"Request failed!",f.errorData)}const d=o?await u.text():await u.json();return r==null||r(d),d}catch(l){const c=l instanceof Error?l:new Error(l);return t==null||t(c),c}finally{n==null||n(!1)}};class Xn{static async get(t,n){return Vi(t,{...n,method:"GET"})}static async post(t,n){return Vi(t,{...n,method:"POST"})}static async put(t,n){return Vi(t,{...n,method:"PUT"})}static async delete(t,n){return Vi(t,{...n,method:"DELETE"})}}function Le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var h0={};function al(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:h0}var Ug=Object.assign,Ta=Object.getOwnPropertyDescriptor,zn=Object.defineProperty,ll=Object.prototype,fu=[];Object.freeze(fu);var cd={};Object.freeze(cd);var g0=typeof Proxy<"u",m0=Object.toString();function Wg(){g0||Le("Proxy not available")}function Gg(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Ms=function(){};function Pn(e){return typeof e=="function"}function rs(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function cl(e){return e!==null&&typeof e=="object"}function mr(e){if(!cl(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===m0}function Kg(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function fi(e,t,n){zn(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function qg(e,t,n){zn(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function ps(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return cl(r)&&r[n]===!0}}function no(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function v0(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function or(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Yg=typeof Object.getOwnPropertySymbols<"u";function b0(e){var t=Object.keys(e);if(!Yg)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return ll.propertyIsEnumerable.call(e,r)})):t}var zs=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Yg?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Xg(e){return e===null?null:typeof e=="object"?""+e:e}function dr(e,t){return ll.hasOwnProperty.call(e,t)}var y0=Object.getOwnPropertyDescriptors||function(t){var n={};return zs(t).forEach(function(r){n[r]=Ta(t,r)}),n};function zt(e,t){return!!(e&t)}function Ut(e,t,n){return n?e|=t:e&=~t,e}function Kp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w0(r.key),r)}}function ro(e,t,n){return t&&qp(e.prototype,t),n&&qp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rs(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=S0(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ss.apply(null,arguments)}function Zg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hu(e,t)}function hu(e,t){return hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hu(e,t)}function x0(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w0(e){var t=x0(e,"string");return typeof t=="symbol"?t:t+""}function S0(e,t){if(e){if(typeof e=="string")return Kp(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kp(e,t):void 0}}var Bn=Symbol("mobx-stored-annotations");function Un(e){function t(n,r){if(gi(r))return e.decorate_20223_(n,r);hi(n,r,e)}return Object.assign(t,e)}function hi(e,t,n){dr(e,Bn)||fi(e,Bn,ss({},e[Bn])),M0(n)||(e[Bn][t]=n)}function j0(e){return dr(e,Bn)||fi(e,Bn,ss({},e[Bn])),e[Bn]}function gi(e){return typeof e=="object"&&typeof e.kind=="string"}var ge=Symbol("mobx administration"),Dr=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ie.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return fm(this)},t.reportChanged=function(){an(),hm(this),ln()},t.toString=function(){return this.name_},ro(e,[{key:"isBeingObserved",get:function(){return zt(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Ut(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return zt(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Ut(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return zt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ut(this.flags_,e.diffValueMask_,r===1)}}])}();Dr.isBeingObservedMask_=1;Dr.isPendingUnobservationMask_=2;Dr.diffValueMask_=4;var ud=ps("Atom",Dr);function Jg(e,t,n){t===void 0&&(t=Ms),n===void 0&&(n=Ms);var r=new Dr(e);return t!==Ms&&Ny(r,t),n!==Ms&&wm(r,n),r}function C0(e,t){return e===t}function E0(e,t){return gd(e,t)}function P0(e,t){return gd(e,t,1)}function O0(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Us={identity:C0,structural:E0,default:O0,shallow:P0};function os(e,t,n){return Pm(e)?e:Array.isArray(e)?yt.array(e,{name:n}):mr(e)?yt.object(e,void 0,{name:n}):no(e)?yt.map(e,{name:n}):or(e)?yt.set(e,{name:n}):typeof e=="function"&&!Jo(e)&&!Qo(e)?Kg(e)?as(e):Zo(n,e):e}function _0(e,t,n){if(e==null||ei(e)||ml(e)||hs(e)||Vn(e))return e;if(Array.isArray(e))return yt.array(e,{name:n,deep:!1});if(mr(e))return yt.object(e,void 0,{name:n,deep:!1});if(no(e))return yt.map(e,{name:n,deep:!1});if(or(e))return yt.set(e,{name:n,deep:!1})}function ul(e){return e}function T0(e,t){return gd(e,t)?t:e}var A0="override";function M0(e){return e.annotationType_===A0}function mi(e,t){return{annotationType_:e,options_:t,make_:R0,extend_:k0,decorate_20223_:L0}}function R0(e,t,n,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Jo(n.value))return 1;var o=Qg(e,this,t,n,!1);return zn(r,t,o),2}function k0(e,t,n,r){var s=Qg(e,this,t,n);return e.defineProperty_(t,s,r)}function L0(e,t){var n=t.kind,r=t.name,s=t.addInitializer,o=this,i=function(u){var d,f,h,g;return is((d=(f=o.options_)==null?void 0:f.name)!=null?d:r.toString(),u,(h=(g=o.options_)==null?void 0:g.autoAction)!=null?h:!1)};if(n=="field")return function(c){var u,d=c;return Jo(d)||(d=i(d)),(u=o.options_)!=null&&u.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(n=="method"){var l;return Jo(e)||(e=i(e)),(l=this.options_)!=null&&l.bound&&s(function(){var c=this,u=c[r].bind(c);u.isMobxAction=!0,c[r]=u}),e}Le("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function $0(e,t,n,r){t.annotationType_,r.value}function Qg(e,t,n,r,s){var o,i,l,c,u,d,f;s===void 0&&(s=ie.safeDescriptors),$0(e,t,n,r);var h=r.value;if((o=t.options_)!=null&&o.bound){var g;h=h.bind((g=e.proxy_)!=null?g:e.target_)}return{value:is((i=(l=t.options_)==null?void 0:l.name)!=null?i:n.toString(),h,(c=(u=t.options_)==null?void 0:u.autoAction)!=null?c:!1,(d=t.options_)!=null&&d.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function em(e,t){return{annotationType_:e,options_:t,make_:N0,extend_:D0,decorate_20223_:I0}}function N0(e,t,n,r){var s;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!dr(e.target_,t)||!Qo(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Qo(n.value))return 1;var o=tm(e,this,t,n,!1,!1);return zn(r,t,o),2}function D0(e,t,n,r){var s,o=tm(e,this,t,n,(s=this.options_)==null?void 0:s.bound);return e.defineProperty_(t,o,r)}function I0(e,t){var n,r=t.name,s=t.addInitializer;return Qo(e)||(e=as(e)),(n=this.options_)!=null&&n.bound&&s(function(){var o=this,i=o[r].bind(o);i.isMobXFlow=!0,o[r]=i}),e}function V0(e,t,n,r){t.annotationType_,r.value}function tm(e,t,n,r,s,o){o===void 0&&(o=ie.safeDescriptors),V0(e,t,n,r);var i=r.value;if(Qo(i)||(i=as(i)),s){var l;i=i.bind((l=e.proxy_)!=null?l:e.target_),i.isMobXFlow=!0}return{value:i,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function dd(e,t){return{annotationType_:e,options_:t,make_:H0,extend_:B0,decorate_20223_:F0}}function H0(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function B0(e,t,n,r){return z0(e,this,t,n),e.defineComputedProperty_(t,ss({},this.options_,{get:n.get,set:n.set}),r)}function F0(e,t){var n=this,r=t.name,s=t.addInitializer;return s(function(){var o=gs(this)[ge],i=ss({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),o.values_.set(r,new On(i))}),function(){return this[ge].getObservablePropValue_(r)}}function z0(e,t,n,r){t.annotationType_,r.get}function dl(e,t){return{annotationType_:e,options_:t,make_:U0,extend_:W0,decorate_20223_:G0}}function U0(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function W0(e,t,n,r){var s,o;return K0(e,this),e.defineObservableProperty_(t,n.value,(s=(o=this.options_)==null?void 0:o.enhancer)!=null?s:os,r)}function G0(e,t){var n=this,r=t.kind,s=t.name,o=new WeakSet;function i(l,c){var u,d,f=gs(l)[ge],h=new Qr(c,(u=(d=n.options_)==null?void 0:d.enhancer)!=null?u:os,"ObservableObject."+s.toString(),!1);f.values_.set(s,h),o.add(l)}if(r=="accessor")return{get:function(){return o.has(this)||i(this,e.get.call(this)),this[ge].getObservablePropValue_(s)},set:function(c){return o.has(this)||i(this,c),this[ge].setObservablePropValue_(s,c)},init:function(c){return o.has(this)||i(this,c),c}}}function K0(e,t,n,r){t.annotationType_}var q0="true",Y0=nm();function nm(e){return{annotationType_:q0,options_:e,make_:X0,extend_:Z0,decorate_20223_:J0}}function X0(e,t,n,r){var s,o;if(n.get)return pl.make_(e,t,n,r);if(n.set){var i=is(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:ie.safeDescriptors?e.isPlainObject_:!0,set:i})===null?0:2:(zn(r,t,{configurable:!0,set:i}),2)}if(r!==e.target_&&typeof n.value=="function"){var l;if(Kg(n.value)){var c,u=(c=this.options_)!=null&&c.autoBind?as.bound:as;return u.make_(e,t,n,r)}var d=(l=this.options_)!=null&&l.autoBind?Zo.bound:Zo;return d.make_(e,t,n,r)}var f=((s=this.options_)==null?void 0:s.deep)===!1?yt.ref:yt;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var h;n.value=n.value.bind((h=e.proxy_)!=null?h:e.target_)}return f.make_(e,t,n,r)}function Z0(e,t,n,r){var s,o;if(n.get)return pl.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:ie.safeDescriptors?e.isPlainObject_:!0,set:is(t.toString(),n.set)},r);if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var i;n.value=n.value.bind((i=e.proxy_)!=null?i:e.target_)}var l=((o=this.options_)==null?void 0:o.deep)===!1?yt.ref:yt;return l.extend_(e,t,n,r)}function J0(e,t){Le("'"+this.annotationType_+"' cannot be used as a decorator")}var Q0="observable",ey="observable.ref",ty="observable.shallow",ny="observable.struct",rm={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(rm);function Hi(e){return e||rm}var gu=dl(Q0),ry=dl(ey,{enhancer:ul}),sy=dl(ty,{enhancer:_0}),oy=dl(ny,{enhancer:T0}),sm=Un(gu);function Bi(e){return e.deep===!0?os:e.deep===!1?ul:ay(e.defaultDecorator)}function iy(e){var t;return e?(t=e.defaultDecorator)!=null?t:nm(e):void 0}function ay(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:os}function om(e,t,n){if(gi(t))return gu.decorate_20223_(e,t);if(rs(t)){hi(e,t,gu);return}return Pm(e)?e:mr(e)?yt.object(e,t,n):Array.isArray(e)?yt.array(e,t):no(e)?yt.map(e,t):or(e)?yt.set(e,t):typeof e=="object"&&e!==null?e:yt.box(e,t)}Ug(om,sm);var ly={box:function(t,n){var r=Hi(n);return new Qr(t,Bi(r),r.name,!0,r.equals)},array:function(t,n){var r=Hi(n);return(ie.useProxies===!1||r.proxy===!1?ix:Xy)(t,Bi(r),r.name)},map:function(t,n){var r=Hi(n);return new _m(t,Bi(r),r.name)},set:function(t,n){var r=Hi(n);return new Tm(t,Bi(r),r.name)},object:function(t,n,r){return Ir(function(){return jm(ie.useProxies===!1||(r==null?void 0:r.proxy)===!1?gs({},r):Gy({},r),t,n)})},ref:Un(ry),shallow:Un(sy),deep:sm,struct:Un(oy)},yt=Ug(om,ly),im="computed",cy="computed.struct",mu=dd(im),uy=dd(cy,{equals:Us.structural}),pl=function(t,n){if(gi(n))return mu.decorate_20223_(t,n);if(rs(n))return hi(t,n,mu);if(mr(t))return Un(dd(im,t));var r=mr(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new On(r)};Object.assign(pl,mu);pl.struct=Un(uy);var Yp,Xp,Aa=0,dy=1,py=(Yp=(Xp=Ta(function(){},"name"))==null?void 0:Xp.configurable)!=null?Yp:!1,Zp={value:"action",configurable:!0,writable:!1,enumerable:!1};function is(e,t,n,r){n===void 0&&(n=!1);function s(){return fy(e,n,t,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return t.toString()},py&&(Zp.value=e,zn(s,"name",Zp)),s}function fy(e,t,n,r,s){var o=hy(e,t);try{return n.apply(r,s)}catch(i){throw o.error_=i,i}finally{gy(o)}}function hy(e,t,n,r){var s=!1,o=0,i=ie.trackingDerivation,l=!t||!i;an();var c=ie.allowStateChanges;l&&(fs(),c=fl(!0));var u=pd(!0),d={runAsAction_:l,prevDerivation_:i,prevAllowStateChanges_:c,prevAllowStateReads_:u,notifySpy_:s,startTime_:o,actionId_:dy++,parentActionId_:Aa};return Aa=d.actionId_,d}function gy(e){Aa!==e.actionId_&&Le(30),Aa=e.parentActionId_,e.error_!==void 0&&(ie.suppressReactionErrors=!0),hl(e.prevAllowStateChanges_),No(e.prevAllowStateReads_),ln(),e.runAsAction_&&pr(e.prevDerivation_),ie.suppressReactionErrors=!1}function my(e,t){var n=fl(e);try{return t()}finally{hl(n)}}function fl(e){var t=ie.allowStateChanges;return ie.allowStateChanges=e,t}function hl(e){ie.allowStateChanges=e}var Qr=function(e){function t(r,s,o,i,l){var c;return o===void 0&&(o="ObservableValue"),l===void 0&&(l=Us.default),c=e.call(this,o)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=s,c.name_=o,c.equals=l,c.value_=s(r,void 0,o),c}Zg(t,e);var n=t.prototype;return n.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},n.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==ie.UNCHANGED&&this.setNewValue_(s)},n.prepareNewValue_=function(s){if(sn(this)){var o=on(this,{object:this,type:Wn,newValue:s});if(!o)return ie.UNCHANGED;s=o.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?ie.UNCHANGED:s},n.setNewValue_=function(s){var o=this.value_;this.value_=s,this.reportChanged(),jn(this)&&Cn(this,{type:Wn,object:this,newValue:s,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(s){return vi(this,s)},n.observe_=function(s,o){return o&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:Wn,newValue:this.value_,oldValue:void 0}),bi(this,s)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Xg(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Dr),On=function(){function e(n){this.dependenciesState_=Ie.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ie.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Ra(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ma.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Le(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=is("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Us.structural:Us.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){wy(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&Le(32,this.name_,this.derivation),ie.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)vu(this)&&(this.warnAboutUntrackedRead_(),an(),this.value_=this.computeValue_(!1),ln());else if(fm(this),vu(this)){var r=ie.trackingContext;this.keepAlive_&&!r&&(ie.trackingContext=this),this.trackAndCompute()&&xy(this),ie.trackingContext=r}var s=this.value_;if(wa(s))throw s.cause;return s},t.set=function(r){if(this.setter_){this.isRunningSetter&&Le(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Le(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===Ie.NOT_TRACKING_,o=this.computeValue_(!0),i=s||wa(r)||wa(o)||!this.equals_(r,o);return i&&(this.value_=o),i},t.computeValue_=function(r){this.isComputing=!0;var s=fl(!1),o;if(r)o=am(this,this.derivation,this.scope_);else if(ie.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(i){o=new Ra(i)}return hl(s),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(bu(this),this.value_=void 0)},t.observe_=function(r,s){var o=this,i=!0,l=void 0;return My(function(){var c=o.get();if(!i||s){var u=fs();r({observableKind:"computed",debugObjectName:o.name_,type:Wn,object:o,newValue:c,oldValue:l}),pr(u)}i=!1,l=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Xg(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},ro(e,[{key:"isComputing",get:function(){return zt(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Ut(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return zt(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Ut(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return zt(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Ut(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return zt(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Ut(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return zt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ut(this.flags_,e.diffValueMask_,r===1)}}])}();On.isComputingMask_=1;On.isRunningSetterMask_=2;On.isBeingObservedMask_=4;On.isPendingUnobservationMask_=8;On.diffValueMask_=16;var gl=ps("ComputedValue",On),Ie;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(Ie||(Ie={}));var Ma;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Ma||(Ma={}));var Ra=function(t){this.cause=void 0,this.cause=t};function wa(e){return e instanceof Ra}function vu(e){switch(e.dependenciesState_){case Ie.UP_TO_DATE_:return!1;case Ie.NOT_TRACKING_:case Ie.STALE_:return!0;case Ie.POSSIBLY_STALE_:{for(var t=pd(!0),n=fs(),r=e.observing_,s=r.length,o=0;o<s;o++){var i=r[o];if(gl(i)){if(ie.disableErrorBoundaries)i.get();else try{i.get()}catch{return pr(n),No(t),!0}if(e.dependenciesState_===Ie.STALE_)return pr(n),No(t),!0}}return cm(e),pr(n),No(t),!1}}}function am(e,t,n){var r=pd(!0);cm(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++ie.runId;var s=ie.trackingDerivation;ie.trackingDerivation=e,ie.inBatch++;var o;if(ie.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(i){o=new Ra(i)}return ie.inBatch--,ie.trackingDerivation=s,vy(e),No(r),o}function vy(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Ie.UP_TO_DATE_,s=0,o=e.unboundDepsCount_,i=0;i<o;i++){var l=n[i];l.diffValue===0&&(l.diffValue=1,s!==i&&(n[s]=l),s++),l.dependenciesState_>r&&(r=l.dependenciesState_)}for(n.length=s,e.newObserving_=null,o=t.length;o--;){var c=t[o];c.diffValue===0&&dm(c,e),c.diffValue=0}for(;s--;){var u=n[s];u.diffValue===1&&(u.diffValue=0,yy(u,e))}r!==Ie.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function bu(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)dm(t[n],e);e.dependenciesState_=Ie.NOT_TRACKING_}function lm(e){var t=fs();try{return e()}finally{pr(t)}}function fs(){var e=ie.trackingDerivation;return ie.trackingDerivation=null,e}function pr(e){ie.trackingDerivation=e}function pd(e){var t=ie.allowStateReads;return ie.allowStateReads=e,t}function No(e){ie.allowStateReads=e}function cm(e){if(e.dependenciesState_!==Ie.UP_TO_DATE_){e.dependenciesState_=Ie.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Ie.UP_TO_DATE_}}var Sa=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ja=!0,um=!1,ie=function(){var e=al();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ja=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Sa().version&&(ja=!1),ja?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Sa):(setTimeout(function(){um||Le(35)},1),new Sa)}();function by(){if((ie.pendingReactions.length||ie.inBatch||ie.isRunningReactions)&&Le(36),um=!0,ja){var e=al();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),ie=new Sa}}function yy(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function dm(e,t){e.observers_.delete(t),e.observers_.size===0&&pm(e)}function pm(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,ie.pendingUnobservations.push(e))}function an(){ie.inBatch++}function ln(){if(--ie.inBatch===0){gm();for(var e=ie.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof On&&n.suspend_())}ie.pendingUnobservations=[]}}function fm(e){var t=ie.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&ie.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&ie.inBatch>0&&pm(e),!1)}function hm(e){e.lowestObserverState_!==Ie.STALE_&&(e.lowestObserverState_=Ie.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Ie.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Ie.STALE_}))}function xy(e){e.lowestObserverState_!==Ie.STALE_&&(e.lowestObserverState_=Ie.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Ie.POSSIBLY_STALE_?t.dependenciesState_=Ie.STALE_:t.dependenciesState_===Ie.UP_TO_DATE_&&(e.lowestObserverState_=Ie.UP_TO_DATE_)}))}function wy(e){e.lowestObserverState_===Ie.UP_TO_DATE_&&(e.lowestObserverState_=Ie.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Ie.UP_TO_DATE_&&(t.dependenciesState_=Ie.POSSIBLY_STALE_,t.onBecomeStale_())}))}var qn=function(){function e(n,r,s,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ie.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Ma.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ie.pendingReactions.push(this),gm())},t.runReaction_=function(){if(!this.isDisposed){an(),this.isScheduled=!1;var r=ie.trackingContext;if(ie.trackingContext=this,vu(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}ie.trackingContext=r,ln()}},t.track=function(r){if(!this.isDisposed){an(),this.isRunning=!0;var s=ie.trackingContext;ie.trackingContext=this;var o=am(this,r,void 0);ie.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&bu(this),wa(o)&&this.reportExceptionInDerivation_(o.cause),ln()}},t.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(ie.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";ie.suppressReactionErrors||console.error(o,r),ie.globalReactionErrorHandlers.forEach(function(i){return i(r,s)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(an(),bu(this),ln()))},t.getDisposer_=function(r){var s=this,o=function i(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",i)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[ge]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},ro(e,[{key:"isDisposed",get:function(){return zt(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Ut(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return zt(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Ut(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return zt(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Ut(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return zt(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Ut(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return zt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ut(this.flags_,e.diffValueMask_,r===1)}}])}();qn.isDisposedMask_=1;qn.isScheduledMask_=2;qn.isTrackPendingMask_=4;qn.isRunningMask_=8;qn.diffValueMask_=16;var Sy=100,yu=function(t){return t()};function gm(){ie.inBatch>0||ie.isRunningReactions||yu(jy)}function jy(){ie.isRunningReactions=!0;for(var e=ie.pendingReactions,t=0;e.length>0;){++t===Sy&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,s=n.length;r<s;r++)n[r].runReaction_()}ie.isRunningReactions=!1}var ka=ps("Reaction",qn);function Cy(e){var t=yu;yu=function(r){return e(function(){return t(r)})}}function Do(){return!1}function Ey(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var mm="action",Py="action.bound",vm="autoAction",Oy="autoAction.bound",_y="<unnamed action>",xu=mi(mm),Ty=mi(Py,{bound:!0}),wu=mi(vm,{autoAction:!0}),Ay=mi(Oy,{autoAction:!0,bound:!0});function bm(e){var t=function(r,s){if(Pn(r))return is(r.name||_y,r,e);if(Pn(s))return is(r,s,e);if(gi(s))return(e?wu:xu).decorate_20223_(r,s);if(rs(s))return hi(r,s,e?wu:xu);if(rs(r))return Un(mi(e?vm:mm,{name:r,autoAction:e}))};return t}var Xr=bm(!1);Object.assign(Xr,xu);var Zo=bm(!0);Object.assign(Zo,wu);Xr.bound=Un(Ty);Zo.bound=Un(Ay);function Jo(e){return Pn(e)&&e.isMobxAction===!0}function My(e,t){var n,r,s,o;t===void 0&&(t=cd);var i=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",l=!t.scheduler&&!t.delay,c;if(l)c=new qn(i,function(){this.track(f)},t.onError,t.requiresObservable);else{var u=ym(t),d=!1;c=new qn(i,function(){d||(d=!0,u(function(){d=!1,c.isDisposed||c.track(f)}))},t.onError,t.requiresObservable)}function f(){e(c)}return(s=t)!=null&&(s=s.signal)!=null&&s.aborted||c.schedule_(),c.getDisposer_((o=t)==null?void 0:o.signal)}var Ry=function(t){return t()};function ym(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ry}function xm(e,t,n){var r,s,o;n===void 0&&(n=cd);var i=(r=n.name)!=null?r:"Reaction",l=Xr(i,n.onError?ky(n.onError,t):t),c=!n.scheduler&&!n.delay,u=ym(n),d=!0,f=!1,h,g=n.compareStructural?Us.structural:n.equals||Us.default,v=new qn(i,function(){d||c?m():f||(f=!0,u(m))},n.onError,n.requiresObservable);function m(){if(f=!1,!v.isDisposed){var b=!1,y=h;v.track(function(){var x=my(!1,function(){return e(v)});b=d||!g(h,x),h=x}),(d&&n.fireImmediately||!d&&b)&&l(h,y,v),d=!1}}return(s=n)!=null&&(s=s.signal)!=null&&s.aborted||v.schedule_(),v.getDisposer_((o=n)==null?void 0:o.signal)}function ky(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var Ly="onBO",$y="onBUO";function Ny(e,t,n){return Sm(Ly,e,t,n)}function wm(e,t,n){return Sm($y,e,t,n)}function Sm(e,t,n,r){var s=typeof r=="function"?Ws(t,n):Ws(t),o=Pn(r)?r:n,i=e+"L";return s[i]?s[i].add(o):s[i]=new Set([o]),function(){var l=s[i];l&&(l.delete(o),l.size===0&&delete s[i])}}var Dy="never",Fi="always",Iy="observed";function Vy(e){e.isolateGlobalState===!0&&by();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(ie.useProxies=t===Fi?!0:t===Dy?!1:typeof Proxy<"u"),t==="ifavailable"&&(ie.verifyProxies=!0),n!==void 0){var r=n===Fi?Fi:n===Iy;ie.enforceActions=r,ie.allowStateChanges=!(r===!0||r===Fi)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in e&&(ie[s]=!!e[s])}),ie.allowStateReads=!ie.observableRequiresReaction,e.reactionScheduler&&Cy(e.reactionScheduler)}function jm(e,t,n,r){var s=y0(t);return Ir(function(){var o=gs(e,r)[ge];zs(s).forEach(function(i){o.extend_(i,s[i],n&&i in n?n[i]:!0)})}),e}function Hy(e,t){return Cm(Ws(e,t))}function Cm(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=By(e.observing_).map(Cm)),t}function By(e){return Array.from(new Set(e))}var Fy=0;function Em(){this.message="FLOW_CANCELLED"}Em.prototype=Object.create(Error.prototype);var oc=em("flow"),zy=em("flow.bound",{bound:!0}),as=Object.assign(function(t,n){if(gi(n))return oc.decorate_20223_(t,n);if(rs(n))return hi(t,n,oc);var r=t,s=r.name||"<unnamed flow>",o=function(){var l=this,c=arguments,u=++Fy,d=Xr(s+" - runid: "+u+" - init",r).apply(l,c),f,h=void 0,g=new Promise(function(v,m){var b=0;f=m;function y(S){h=void 0;var j;try{j=Xr(s+" - runid: "+u+" - yield "+b++,d.next).call(d,S)}catch(C){return m(C)}w(j)}function x(S){h=void 0;var j;try{j=Xr(s+" - runid: "+u+" - yield "+b++,d.throw).call(d,S)}catch(C){return m(C)}w(j)}function w(S){if(Pn(S==null?void 0:S.then)){S.then(w,m);return}return S.done?v(S.value):(h=Promise.resolve(S.value),h.then(y,x))}y(void 0)});return g.cancel=Xr(s+" - runid: "+u+" - cancel",function(){try{h&&Jp(h);var v=d.return(void 0),m=Promise.resolve(v.value);m.then(Ms,Ms),Jp(m),f(new Em)}catch(b){f(b)}}),g};return o.isMobXFlow=!0,o},oc);as.bound=Un(zy);function Jp(e){Pn(e.cancel)&&e.cancel()}function Qo(e){return(e==null?void 0:e.isMobXFlow)===!0}function Uy(e,t){return e?t!==void 0?ei(e)?e[ge].values_.has(t):!1:ei(e)||!!e[ge]||ud(e)||ka(e)||gl(e):!1}function Pm(e){return Uy(e)}function ir(e,t){t===void 0&&(t=void 0),an();try{return e.apply(t)}finally{ln()}}function Ps(e){return e[ge]}var Wy={has:function(t,n){return Ps(t).has_(n)},get:function(t,n){return Ps(t).get_(n)},set:function(t,n,r){var s;return rs(n)?(s=Ps(t).set_(n,r,!0))!=null?s:!0:!1},deleteProperty:function(t,n){var r;return rs(n)?(r=Ps(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var s;return(s=Ps(t).defineProperty_(n,r))!=null?s:!0},ownKeys:function(t){return Ps(t).ownKeys_()},preventExtensions:function(t){Le(13)}};function Gy(e,t){var n,r;return Wg(),e=gs(e,t),(r=(n=e[ge]).proxy_)!=null?r:n.proxy_=new Proxy(e,Wy)}function sn(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function vi(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Gg(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function on(e,t){var n=fs();try{for(var r=[].concat(e.interceptors_||[]),s=0,o=r.length;s<o&&(t=r[s](t),t&&!t.type&&Le(14),!!t);s++);return t}finally{pr(n)}}function jn(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function bi(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Gg(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Cn(e,t){var n=fs(),r=e.changeListeners_;if(r){r=r.slice();for(var s=0,o=r.length;s<o;s++)r[s](t);pr(n)}}function Ky(e,t,n){return Ir(function(){var r,s=gs(e,n)[ge];(r=t)!=null||(t=j0(e)),zs(t).forEach(function(o){return s.make_(o,t[o])})}),e}var ic=Symbol("mobx-keys");function Bt(e,t,n){return mr(e)?jm(e,e,t,n):(Ir(function(){var r=gs(e,n)[ge];if(!e[ic]){var s=Object.getPrototypeOf(e),o=new Set([].concat(zs(e),zs(s)));o.delete("constructor"),o.delete(ge),fi(s,ic,o)}e[ic].forEach(function(i){return r.make_(i,t&&i in t?t[i]:!0)})}),e)}var Qp="splice",Wn="update",qy=1e4,Yy={get:function(t,n){var r=t[ge];return n===ge?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):dr(La,n)?La[n]:t[n]},set:function(t,n,r){var s=t[ge];return n==="length"&&s.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:s.set_(parseInt(n),r),!0},preventExtensions:function(){Le(15)}},fd=function(){function e(n,r,s,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=o,this.atom_=new Dr(n),this.enhancer_=function(i,l){return r(i,l,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return vi(this,r)},t.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),bi(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Le("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var o=new Array(r-s),i=0;i<r-s;i++)o[i]=void 0;this.spliceWithArray_(s,0,o)}else this.spliceWithArray_(r,s-r)},t.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&Le(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&km(r+s+1)},t.spliceWithArray_=function(r,s,o){var i=this;this.atom_;var l=this.values_.length;if(r===void 0?r=0:r>l?r=l:r<0&&(r=Math.max(0,l+r)),arguments.length===1?s=l-r:s==null?s=0:s=Math.max(0,Math.min(s,l-r)),o===void 0&&(o=fu),sn(this)){var c=on(this,{object:this.proxy_,type:Qp,index:r,removedCount:s,added:o});if(!c)return fu;s=c.removedCount,o=c.added}if(o=o.length===0?o:o.map(function(f){return i.enhancer_(f,void 0)}),this.legacyMode_){var u=o.length-s;this.updateArrayLength_(l,u)}var d=this.spliceItemsIntoValues_(r,s,o);return(s!==0||o.length!==0)&&this.notifyArraySplice_(r,o,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(r,s,o){if(o.length<qy){var i;return(i=this.values_).splice.apply(i,[r,s].concat(o))}else{var l=this.values_.slice(r,r+s),c=this.values_.slice(r+s);this.values_.length+=o.length-s;for(var u=0;u<o.length;u++)this.values_[r+u]=o[u];for(var d=0;d<c.length;d++)this.values_[r+o.length+d]=c[d];return l}},t.notifyArrayChildUpdate_=function(r,s,o){var i=!this.owned_&&Do(),l=jn(this),c=l||i?{observableKind:"array",object:this.proxy_,type:Wn,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:o}:null;this.atom_.reportChanged(),l&&Cn(this,c)},t.notifyArraySplice_=function(r,s,o){var i=!this.owned_&&Do(),l=jn(this),c=l||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Qp,index:r,removed:o,added:s,removedCount:o.length,addedCount:s.length}:null;this.atom_.reportChanged(),l&&Cn(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,s){var o=this.values_;if(this.legacyMode_&&r>o.length&&Le(17,r,o.length),r<o.length){this.atom_;var i=o[r];if(sn(this)){var l=on(this,{type:Wn,object:this.proxy_,index:r,newValue:s});if(!l)return;s=l.newValue}s=this.enhancer_(s,i);var c=s!==i;c&&(o[r]=s,this.notifyArrayChildUpdate_(r,s,i))}else{for(var u=new Array(r+1-o.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=s,this.spliceWithArray_(o.length,0,u)}},e}();function Xy(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),Wg(),Ir(function(){var s=new fd(n,t,r,!1);qg(s.values_,ge,s);var o=new Proxy(s.values_,Yy);return s.proxy_=o,e&&e.length&&s.spliceWithArray_(0,0,e),o})}var La={clear:function(){return this.splice(0)},replace:function(t){var n=this[ge];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];var i=this[ge];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,n)}return i.spliceWithArray_(t,n,s)},spliceWithArray:function(t,n,r){return this[ge].spliceWithArray_(t,n,r)},push:function(){for(var t=this[ge],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[ge].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[ge],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return ie.trackingDerivation&&Le(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ie.trackingDerivation&&Le(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[ge],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Xe("at",Xt);Xe("concat",Xt);Xe("flat",Xt);Xe("includes",Xt);Xe("indexOf",Xt);Xe("join",Xt);Xe("lastIndexOf",Xt);Xe("slice",Xt);Xe("toString",Xt);Xe("toLocaleString",Xt);Xe("toSorted",Xt);Xe("toSpliced",Xt);Xe("with",Xt);Xe("every",_n);Xe("filter",_n);Xe("find",_n);Xe("findIndex",_n);Xe("findLast",_n);Xe("findLastIndex",_n);Xe("flatMap",_n);Xe("forEach",_n);Xe("map",_n);Xe("some",_n);Xe("toReversed",_n);Xe("reduce",Om);Xe("reduceRight",Om);function Xe(e,t){typeof Array.prototype[e]=="function"&&(La[e]=t(e))}function Xt(e){return function(){var t=this[ge];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function _n(e){return function(t,n){var r=this,s=this[ge];s.atom_.reportObserved();var o=s.dehanceValues_(s.values_);return o[e](function(i,l){return t.call(n,i,l,r)})}}function Om(e){return function(){var t=this,n=this[ge];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(o,i,l){return s(o,i,l,t)},r[e].apply(r,arguments)}}var Zy=ps("ObservableArrayAdministration",fd);function ml(e){return cl(e)&&Zy(e[ge])}var Jy={},Ar="add",$a="delete",_m=function(){function e(n,r,s){var o=this;r===void 0&&(r=os),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ge]=Jy,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,Pn(Map)||Le(18),Ir(function(){o.keysAtom_=Jg("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var s=this;if(!ie.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var i=o=new Qr(this.has_(r),ul,"ObservableMap.key?",!1);this.hasMap_.set(r,i),wm(i,function(){return s.hasMap_.delete(r)})}return o.get()},t.set=function(r,s){var o=this.has_(r);if(sn(this)){var i=on(this,{type:o?Wn:Ar,object:this,newValue:s,name:r});if(!i)return this;s=i.newValue}return o?this.updateValue_(r,s):this.addValue_(r,s),this},t.delete=function(r){var s=this;if(this.keysAtom_,sn(this)){var o=on(this,{type:$a,object:this,name:r});if(!o)return!1}if(this.has_(r)){var i=Do(),l=jn(this),c=l||i?{observableKind:"map",debugObjectName:this.name_,type:$a,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return ir(function(){var u;s.keysAtom_.reportChanged(),(u=s.hasMap_.get(r))==null||u.setNewValue_(!1);var d=s.data_.get(r);d.setNewValue_(void 0),s.data_.delete(r)}),l&&Cn(this,c),!0}return!1},t.updateValue_=function(r,s){var o=this.data_.get(r);if(s=o.prepareNewValue_(s),s!==ie.UNCHANGED){var i=Do(),l=jn(this),c=l||i?{observableKind:"map",debugObjectName:this.name_,type:Wn,object:this,oldValue:o.value_,name:r,newValue:s}:null;o.setNewValue_(s),l&&Cn(this,c)}},t.addValue_=function(r,s){var o=this;this.keysAtom_,ir(function(){var u,d=new Qr(s,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,d),s=d.value_,(u=o.hasMap_.get(r))==null||u.setNewValue_(!0),o.keysAtom_.reportChanged()});var i=Do(),l=jn(this),c=l||i?{observableKind:"map",debugObjectName:this.name_,type:Ar,object:this,name:r,newValue:s}:null;l&&Cn(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,s=this.keys();return ef({next:function(){var i=s.next(),l=i.done,c=i.value;return{done:l,value:l?void 0:r.get(c)}}})},t.entries=function(){var r=this,s=this.keys();return ef({next:function(){var i=s.next(),l=i.done,c=i.value;return{done:l,value:l?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,s){for(var o=Rs(this),i;!(i=o()).done;){var l=i.value,c=l[0],u=l[1];r.call(s,u,c,this)}},t.merge=function(r){var s=this;return hs(r)&&(r=new Map(r)),ir(function(){mr(r)?b0(r).forEach(function(o){return s.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var i=o[0],l=o[1];return s.set(i,l)}):no(r)?(v0(r)||Le(19,r),r.forEach(function(o,i){return s.set(i,o)})):r!=null&&Le(20,r)}),this},t.clear=function(){var r=this;ir(function(){lm(function(){for(var s=Rs(r.keys()),o;!(o=s()).done;){var i=o.value;r.delete(i)}})})},t.replace=function(r){var s=this;return ir(function(){for(var o=Qy(r),i=new Map,l=!1,c=Rs(s.data_.keys()),u;!(u=c()).done;){var d=u.value;if(!o.has(d)){var f=s.delete(d);if(f)l=!0;else{var h=s.data_.get(d);i.set(d,h)}}}for(var g=Rs(o.entries()),v;!(v=g()).done;){var m=v.value,b=m[0],y=m[1],x=s.data_.has(b);if(s.set(b,y),s.data_.has(b)){var w=s.data_.get(b);i.set(b,w),x||(l=!0)}}if(!l)if(s.data_.size!==i.size)s.keysAtom_.reportChanged();else for(var S=s.data_.keys(),j=i.keys(),C=S.next(),O=j.next();!C.done;){if(C.value!==O.value){s.keysAtom_.reportChanged();break}C=S.next(),O=j.next()}s.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,s){return bi(this,r)},t.intercept_=function(r){return vi(this,r)},ro(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),hs=ps("ObservableMap",_m);function ef(e){return e[Symbol.toStringTag]="MapIterator",md(e)}function Qy(e){if(no(e)||hs(e))return e;if(Array.isArray(e))return new Map(e);if(mr(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Le(21,e)}var ex={},Tm=function(){function e(n,r,s){var o=this;r===void 0&&(r=os),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[ge]=ex,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,Pn(Set)||Le(22),this.enhancer_=function(i,l){return r(i,l,s)},Ir(function(){o.atom_=Jg(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;ir(function(){lm(function(){for(var s=Rs(r.data_.values()),o;!(o=s()).done;){var i=o.value;r.delete(i)}})})},t.forEach=function(r,s){for(var o=Rs(this),i;!(i=o()).done;){var l=i.value;r.call(s,l,l,this)}},t.add=function(r){var s=this;if(this.atom_,sn(this)){var o=on(this,{type:Ar,object:this,newValue:r});if(!o)return this}if(!this.has(r)){ir(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var i=!1,l=jn(this),c=l||i?{observableKind:"set",debugObjectName:this.name_,type:Ar,object:this,newValue:r}:null;l&&Cn(this,c)}return this},t.delete=function(r){var s=this;if(sn(this)){var o=on(this,{type:$a,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var i=!1,l=jn(this),c=l||i?{observableKind:"set",debugObjectName:this.name_,type:$a,object:this,oldValue:r}:null;return ir(function(){s.atom_.reportChanged(),s.data_.delete(r)}),l&&Cn(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,s=Array.from(this.keys()),o=Array.from(this.values());return tf({next:function(){var l=r;return r+=1,l<o.length?{value:[s[l],o[l]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,s=0,o=Array.from(this.data_.values());return tf({next:function(){return s<o.length?{value:r.dehanceValue_(o[s++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(r){if(or(r)&&!Vn(r))return r.intersection(this);var s=new Set(this);return s.intersection(r)},t.union=function(r){if(or(r)&&!Vn(r))return r.union(this);var s=new Set(this);return s.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(or(r)&&!Vn(r))return r.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(or(r)&&!Vn(r))return r.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(r)},t.replace=function(r){var s=this;return Vn(r)&&(r=new Set(r)),ir(function(){Array.isArray(r)?(s.clear(),r.forEach(function(o){return s.add(o)})):or(r)?(s.clear(),r.forEach(function(o){return s.add(o)})):r!=null&&Le("Cannot initialize set from "+r)}),this},t.observe_=function(r,s){return bi(this,r)},t.intercept_=function(r){return vi(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},ro(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Vn=ps("ObservableSet",Tm);function tf(e){return e[Symbol.toStringTag]="SetIterator",md(e)}var nf=Object.create(null),rf="remove",Am=function(){function e(n,r,s,o){r===void 0&&(r=new Map),o===void 0&&(o=Y0),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=s,this.defaultAnnotation_=o,this.keysAtom_=new Dr("ObservableObject.keys"),this.isPlainObject_=mr(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,s){var o=this.values_.get(r);if(o instanceof On)return o.set(s),!0;if(sn(this)){var i=on(this,{type:Wn,object:this.proxy_||this.target_,name:r,newValue:s});if(!i)return null;s=i.newValue}if(s=o.prepareNewValue_(s),s!==ie.UNCHANGED){var l=jn(this),c=!1,u=l||c?{type:Wn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:s}:null;o.setNewValue_(s),l&&Cn(this,u)}return!0},t.get_=function(r){return ie.trackingDerivation&&!dr(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,s,o){return o===void 0&&(o=!1),dr(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):o?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(r){if(!ie.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new Qr(r in this.target_,ul,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},t.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var o;if((o=this.target_[Bn])!=null&&o[r])return;Le(1,s.annotationType_,this.name_+"."+r.toString())}for(var i=this.target_;i&&i!==ll;){var l=Ta(i,r);if(l){var c=s.make_(this,r,l,i);if(c===0)return;if(c===1)break}i=Object.getPrototypeOf(i)}of(this,s,r)}},t.extend_=function(r,s,o,i){if(i===void 0&&(i=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,s,i);var l=o.extend_(this,r,s,i);return l&&of(this,o,r),l},t.defineProperty_=function(r,s,o){o===void 0&&(o=!1),this.keysAtom_;try{an();var i=this.delete_(r);if(!i)return i;if(sn(this)){var l=on(this,{object:this.proxy_||this.target_,name:r,type:Ar,newValue:s.value});if(!l)return null;var c=l.newValue;s.value!==c&&(s=ss({},s,{value:c}))}if(o){if(!Reflect.defineProperty(this.target_,r,s))return!1}else zn(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{ln()}return!0},t.defineObservableProperty_=function(r,s,o,i){i===void 0&&(i=!1),this.keysAtom_;try{an();var l=this.delete_(r);if(!l)return l;if(sn(this)){var c=on(this,{object:this.proxy_||this.target_,name:r,type:Ar,newValue:s});if(!c)return null;s=c.newValue}var u=sf(r),d={configurable:ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(i){if(!Reflect.defineProperty(this.target_,r,d))return!1}else zn(this.target_,r,d);var f=new Qr(s,o,"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{ln()}return!0},t.defineComputedProperty_=function(r,s,o){o===void 0&&(o=!1),this.keysAtom_;try{an();var i=this.delete_(r);if(!i)return i;if(sn(this)){var l=on(this,{object:this.proxy_||this.target_,name:r,type:Ar,newValue:void 0});if(!l)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var c=sf(r),u={configurable:ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else zn(this.target_,r,u);this.values_.set(r,new On(s)),this.notifyPropertyAddition_(r,void 0)}finally{ln()}return!0},t.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!dr(this.target_,r))return!0;if(sn(this)){var o=on(this,{object:this.proxy_||this.target_,name:r,type:rf});if(!o)return null}try{var i;an();var l=jn(this),c=!1,u=this.values_.get(r),d=void 0;if(!u&&(l||c)){var f;d=(f=Ta(this.target_,r))==null?void 0:f.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Qr&&(d=u.value_),hm(u)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(r in this.target_),l||c){var h={type:rf,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};l&&Cn(this,h)}}finally{ln()}return!0},t.observe_=function(r,s){return bi(this,r)},t.intercept_=function(r){return vi(this,r)},t.notifyPropertyAddition_=function(r,s){var o,i=jn(this),l=!1;if(i||l){var c=i||l?{type:Ar,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;i&&Cn(this,c)}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),zs(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function gs(e,t){var n;if(dr(e,ge))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",s=new Am(e,new Map,String(r),iy(t));return fi(e,ge,s),e}var tx=ps("ObservableObjectAdministration",Am);function sf(e){return nf[e]||(nf[e]={get:function(){return this[ge].getObservablePropValue_(e)},set:function(n){return this[ge].setObservablePropValue_(e,n)}})}function ei(e){return cl(e)?tx(e[ge]):!1}function of(e,t,n){var r;(r=e.target_[Bn])==null||delete r[n]}var nx=Rm(0),rx=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),ac=0,Mm=function(){};function sx(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}sx(Mm,Array.prototype);var hd=function(e){function t(r,s,o,i){var l;return o===void 0&&(o="ObservableArray"),i===void 0&&(i=!1),l=e.call(this)||this,Ir(function(){var c=new fd(o,s,i,!0);c.proxy_=l,qg(l,ge,c),r&&r.length&&l.spliceWithArray(0,0,r),rx&&Object.defineProperty(l,"0",nx)}),l}Zg(t,e);var n=t.prototype;return n.concat=function(){this[ge].atom_.reportObserved();for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return Array.prototype.concat.apply(this.slice(),o.map(function(l){return ml(l)?l.slice():l}))},n[Symbol.iterator]=function(){var r=this,s=0;return md({next:function(){return s<r.length?{value:r[s++],done:!1}:{done:!0,value:void 0}}})},ro(t,[{key:"length",get:function(){return this[ge].getArrayLength_()},set:function(s){this[ge].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Mm);Object.entries(La).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&fi(hd.prototype,t,n)});function Rm(e){return{enumerable:!1,configurable:!0,get:function(){return this[ge].get_(e)},set:function(n){this[ge].set_(e,n)}}}function ox(e){zn(hd.prototype,""+e,Rm(e))}function km(e){if(e>ac){for(var t=ac;t<e+100;t++)ox(t);ac=e}}km(1e3);function ix(e,t,n){return new hd(e,t,n)}function Ws(e,t){if(typeof e=="object"&&e!==null){if(ml(e))return t!==void 0&&Le(23),e[ge].atom_;if(Vn(e))return e.atom_;if(hs(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||Le(25,t,Su(e)),n}if(ei(e)){if(!t)return Le(26);var r=e[ge].values_.get(t);return r||Le(27,t,Su(e)),r}if(ud(e)||gl(e)||ka(e))return e}else if(Pn(e)&&ka(e[ge]))return e[ge];Le(28)}function Lm(e,t){if(e||Le(29),t!==void 0)return Lm(Ws(e,t));if(ud(e)||gl(e)||ka(e)||hs(e)||Vn(e))return e;if(e[ge])return e[ge];Le(24,e)}function Su(e,t){var n;if(t!==void 0)n=Ws(e,t);else{if(Jo(e))return e.name;ei(e)||hs(e)||Vn(e)?n=Lm(e):n=Ws(e)}return n.name_}function Ir(e){var t=fs(),n=fl(!0);an();try{return e()}finally{ln(),hl(n),pr(t)}}var af=ll.toString;function gd(e,t,n){return n===void 0&&(n=-1),ju(e,t,n)}function ju(e,t,n,r,s){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var i=af.call(e);if(i!==af.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=lf(e),t=lf(t);var l=i==="[object Array]";if(!l){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,u=t.constructor;if(c!==u&&!(Pn(c)&&c instanceof c&&Pn(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],s=s||[];for(var d=r.length;d--;)if(r[d]===e)return s[d]===t;if(r.push(e),s.push(t),l){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!ju(e[d],t[d],n-1,r,s))return!1}else{var f=Object.keys(e),h;if(d=f.length,Object.keys(t).length!==d)return!1;for(;d--;)if(h=f[d],!(dr(t,h)&&ju(e[h],t[h],n-1,r,s)))return!1}return r.pop(),s.pop(),!0}function lf(e){return ml(e)?e.slice():no(e)||hs(e)||or(e)||Vn(e)?Array.from(e.entries()):e}var cf,ax=((cf=al().Iterator)==null?void 0:cf.prototype)||{};function md(e){return e[Symbol.iterator]=lx,Object.assign(Object.create(ax),e)}function lx(){return this}["Symbol","Map","Set"].forEach(function(e){var t=al();typeof t[e]>"u"&&Le("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ey,extras:{getDebugName:Su},$mobx:ge});const $m="app.grapesjs.com",Nm="app-stage.grapesjs.com",Dm="gs-studio-root",uf=[$m,Nm,"localhost","127.0.0.1",".local-credentialless.webcontainer.io",".local.webcontainer.io","-sandpack.codesandbox.io"],cx="license:check:start",df="license:check:end",Zn=()=>typeof window<"u",ti=e=>e&&e.stopPropagation(),ux=(e,t)=>{const n=r=>r.key===e&&t();return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},dx=(e="")=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},px=e=>ux("Escape",e),fx=(e,t={})=>{const n=xt(e)?{id:e,src:e}:e;return new Promise((r,s)=>{var c,u;const o=document.querySelector(`script[src="${n.src}"]`),{id:i}=n;if(o)return(c=t.onScript)==null||c.call(t,o),r(i);const l=document.createElement("script");l.src=n.src,l.onload=()=>r(i),l.onerror=()=>s(i),document.head.appendChild(l),(u=t.onScript)==null||u.call(t,l)})},hx=e=>{const t=e.map(n=>fx(n));return Promise.allSettled(t)};function gx(e){const t=e.ownerDocument.createElement("script");return t.text=e.innerHTML,Array.from(e.attributes).forEach(n=>t.setAttribute(n.nodeName,n.nodeValue)),t}function pf(e){const t=r=>{var s;if(r.length){const o=r.shift(),i=gx(o);i.onerror=i.onload=t.bind(null,r),(s=o.parentNode)==null||s.replaceChild(i,o)}},n=Array.from(e.querySelectorAll("script"));t(n)}const Im=e=>new DOMParser().parseFromString(e,"text/html"),mx=(e="")=>Im(`<body>${e}</body>`).body.innerHTML,vx=(e="")=>Im(`<head>${e}</head>`).head.innerHTML,bx=(e="",t)=>{const r=new DOMParser().parseFromString(e,"text/html");if(t){const o=r.querySelectorAll("svg")[0].style||{},i=Cx(t)?`${t}px`:t;o.width=i,o.height=i,o.fill="currentColor"}return new XMLSerializer().serializeToString(r)},yx=({isDev:e,isStage:t})=>`${e?"":`https://${t?Nm:$m}`}/api`,Vm=(e={})=>{const{width:t=300,height:n,text:r="IMAGE",bg:s="777",fg:o="white"}=e,i=n?`x${n}`:"";return`https://placehold.co/${t}${i}/${s}/${o}.png?text=${r}`},xx=Vm(),vd=()=>{const e=Zn()&&window.location.hostname;return!!e&&(uf.includes(e)||uf.some(t=>e.endsWith(t)))},lr=e=>e&&e.charAt(0).toUpperCase()+e.substring(1),wx=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase()),Sx=()=>{},jx=240,fr=e=>typeof e<"u",xt=e=>typeof e=="string",Cx=e=>typeof e=="number";function rt(e){return typeof e=="function"}function Gs(e){return e&&!Array.isArray(e)&&typeof e=="object"}const Ex=e=>!e||Object.keys(e).length===0,Cu=(e,t)=>{const n={...e},r={...t};for(const s in r){const o=n[s],i=r[s];Gs(o)&&Gs(i)?n[s]=Cu(o,i):n[s]=i}return n},Ns=(e,t)=>{const n=(e||"").toLocaleLowerCase(),r=(t||"").toLocaleLowerCase();return n.includes(r)},Px=(e="")=>{const t=e[0]==="?"?e.substring(1):e,n=new URLSearchParams(t);return Object.fromEntries(n)},Ox=(e=16)=>{let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;for(let s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*r));return t},bd=e=>(e||"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-._]+/g,"").replace(/--+/g,"-").trim();var zi,_x=new Uint8Array(16);function Tx(){if(!zi&&(zi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!zi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zi(_x)}const Ax=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Mx(e){return typeof e=="string"&&Ax.test(e)}var vt=[];for(var lc=0;lc<256;++lc)vt.push((lc+256).toString(16).substr(1));function Rx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(vt[e[t+0]]+vt[e[t+1]]+vt[e[t+2]]+vt[e[t+3]]+"-"+vt[e[t+4]]+vt[e[t+5]]+"-"+vt[e[t+6]]+vt[e[t+7]]+"-"+vt[e[t+8]]+vt[e[t+9]]+"-"+vt[e[t+10]]+vt[e[t+11]]+vt[e[t+12]]+vt[e[t+13]]+vt[e[t+14]]+vt[e[t+15]]).toLowerCase();if(!Mx(n))throw TypeError("Stringified UUID is invalid");return n}function Hm(e,t,n){e=e||{};var r=e.random||(e.rng||Tx)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return Rx(r)}const yd=()=>{const{baseApiUrl:e}=Is();return`${e}/assets/sdk`},kx=e=>`${yd()}/${e}`,Lx=async(e,t,n)=>{const r=await Xn.get(yd(),{params:{projectId:t,identityId:n,d:window.location.hostname,licenseKey:e}});return((r==null?void 0:r.result)??[]).map(({asset:s,cdnUrl:o})=>({...s,size:parseInt(s.size),src:o}))},$x=async(e,t,n,r)=>{const s=await Xn.post(yd(),{body:JSON.stringify({fileMetadata:e,projectId:n,identityId:r}),params:{d:window.location.hostname,licenseKey:t}});return s==null?void 0:s.result},Nx=async(e,t)=>await Xn.put(t,{body:e,rawText:!0}),Dx=async(e,t,n,r)=>Promise.all(e.map(s=>$x({name:s.name,size:s.size,type:s.type},t,n,r).then(async o=>{if(!o)throw new Error("No asset");const{asset:i,cdnUrl:l,uploadUrl:c}=o,u=await Nx(s,c);if(u instanceof Error)throw console.error(u),new Error("Upload failed");return{...i,size:parseInt(i.size),src:l}}))),Ix=async(e,t,n,r)=>{const s=await Xn.delete(kx(e),{body:JSON.stringify({projectId:n,identityId:r}),params:{d:window.location.hostname,licenseKey:t}});return s==null?void 0:s.result},ff=async(e,t,n,r)=>Promise.all(e.map(s=>Ix(s.id||s.src,t,n,r)));var fe=(e=>(e.toastAdd="studio:toastAdd",e.dialogOpen="studio:dialogOpen",e.dialogClose="studio:dialogClose",e.sidebarLeftSet="studio:sidebarLeft:set",e.sidebarLeftGet="studio:sidebarLeft:get",e.sidebarLeftToggle="studio:sidebarLeft:toggle",e.sidebarRightSet="studio:sidebarRight:set",e.sidebarRightGet="studio:sidebarRight:get",e.sidebarRightToggle="studio:sidebarRight:toggle",e.sidebarTopSet="studio:sidebarTop:set",e.sidebarTopGet="studio:sidebarTop:get",e.sidebarTopToggle="studio:sidebarTop:toggle",e.sidebarBottomSet="studio:sidebarBottom:set",e.sidebarBottomGet="studio:sidebarBottom:get",e.sidebarBottomToggle="studio:sidebarBottom:toggle",e.symbolAdd="studio:symbolAdd",e.symbolDetach="studio:symbolDetach",e.symbolOverride="studio:symbolOverride",e.symbolPropagateStyles="studio:propagateStyles",e.getPagesConfig="studio:getPagesConfig",e.setPagesConfig="studio:setPagesConfig",e.getPageSettings="studio:getPageSettings",e.setPageSettings="studio:setPageSettings",e.projectFiles="studio:projectFiles",e.canvasReload="studio:canvasReload",e.getBlocksPanel="studio:getBlocksPanel",e.setBlocksPanel="studio:setBlocksPanel",e.getStateContextMenu="studio:getStateContextMenu",e.setStateContextMenu="studio:setStateContextMenu",e.contextMenuComponent="studio:contextMenuComponent",e.layoutAdd="studio:layoutAdd",e.layoutRemove="studio:layoutRemove",e.layoutToggle="studio:layoutToggle",e.getStateTheme="studio:getStateTheme",e.setStateTheme="studio:setStateTheme",e.assetProviderGet="studio:assetProviderGet",e.assetProviderAdd="studio:assetProviderAdd",e.assetProviderRemove="studio:assetProviderRemove",e))(fe||{}),vr=(e=>(e.layoutToggleId="studio:layoutToggle:",e.toggleBlocksPanel="studio:toggleBlocksPanel",e.pageSettingsUpdate="studio:pageSettingsUpdate",e))(vr||{});const Bm=new Set,Gt=new WeakMap,Ds=new WeakMap,ls=new WeakMap,Eu=new WeakMap,Vx=new WeakMap,Ks=new WeakMap,Na=new WeakMap;let Lr;const Zr="__aa_tgt",Pu="__aa_del",Hx=e=>{const t=Wx(e);t&&t.forEach(n=>Gx(n))},Bx=e=>{e.forEach(t=>{t.target===Lr&&zx(),Gt.has(t.target)&&ms(t.target)})};function Fx(e){const t=Eu.get(e);t==null||t.disconnect();let n=Gt.get(e),r=0;const s=5;n||(n=qs(e),Gt.set(e,n));const{offsetWidth:o,offsetHeight:i}=Lr,c=[n.top-s,o-(n.left+s+n.width),i-(n.top+s+n.height),n.left-s].map(d=>`${-1*Math.floor(d)}px`).join(" "),u=new IntersectionObserver(()=>{++r>1&&ms(e)},{root:Lr,threshold:1,rootMargin:c});u.observe(e),Eu.set(e,u)}function ms(e){clearTimeout(Na.get(e));const t=vl(e),n=typeof t=="function"?500:t.duration;Na.set(e,setTimeout(()=>{const r=ls.get(e);(!r||r.finished)&&(Gt.set(e,qs(e)),Fx(e))},n))}function zx(){clearTimeout(Na.get(Lr)),Na.set(Lr,setTimeout(()=>{Bm.forEach(e=>Um(e,t=>Fm(()=>ms(t))))},100))}function Ux(e){setTimeout(()=>{Vx.set(e,setInterval(()=>Fm(ms.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function Fm(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let Ou,ks;typeof window<"u"&&(Lr=document.documentElement,Ou=new MutationObserver(Hx),ks=new ResizeObserver(Bx),ks.observe(Lr));function Wx(e){return e.reduce((t,n)=>{if(t===!1)return!1;if(n.target instanceof Element){if(cc(n.target),!t.has(n.target)){t.add(n.target);for(let r=0;r<n.target.children.length;r++){const s=n.target.children.item(r);if(s){if(Pu in s)return!1;cc(n.target,s),t.add(s)}}}if(n.removedNodes.length)for(let r=0;r<n.removedNodes.length;r++){const s=n.removedNodes[r];if(Pu in s)return!1;s instanceof Element&&(t.add(s),cc(n.target,s),Ds.set(s,[n.previousSibling,n.nextSibling]))}}return t},new Set)}function cc(e,t){!t&&!(Zr in e)?Object.defineProperty(e,Zr,{value:e}):t&&!(Zr in t)&&Object.defineProperty(t,Zr,{value:e})}function Gx(e){var t;const n=Lr.contains(e),r=Gt.has(e);n&&Ds.has(e)&&Ds.delete(e),ls.has(e)&&((t=ls.get(e))===null||t===void 0||t.cancel()),r&&n?Kx(e):r&&!n?Yx(e):qx(e)}function Ln(e){return Number(e.replace(/[^0-9.\-]/g,""))}function qs(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function zm(e,t,n){let r=t.width,s=t.height,o=n.width,i=n.height;const l=getComputedStyle(e);if(l.getPropertyValue("box-sizing")==="content-box"){const u=Ln(l.paddingTop)+Ln(l.paddingBottom)+Ln(l.borderTopWidth)+Ln(l.borderBottomWidth),d=Ln(l.paddingLeft)+Ln(l.paddingRight)+Ln(l.borderRightWidth)+Ln(l.borderLeftWidth);r-=d,o-=d,s-=u,i-=u}return[r,o,s,i].map(Math.round)}function vl(e){return Zr in e&&Ks.has(e[Zr])?Ks.get(e[Zr]):{duration:250,easing:"ease-in-out"}}function Um(e,...t){t.forEach(n=>n(e,Ks.has(e)));for(let n=0;n<e.children.length;n++){const r=e.children.item(n);r&&t.forEach(s=>s(r,Ks.has(r)))}}function Kx(e){const t=Gt.get(e),n=qs(e);let r;if(!t)return;const s=vl(e);if(typeof s!="function"){const o=t.left-n.left,i=t.top-n.top,[l,c,u,d]=zm(e,t,n),f={transform:`translate(${o}px, ${i}px)`},h={transform:"translate(0, 0)"};l!==c&&(f.width=`${l}px`,h.width=`${c}px`),u!==d&&(f.height=`${u}px`,h.height=`${d}px`),r=e.animate([f,h],s)}else r=new Animation(s(e,"remain",t,n)),r.play();ls.set(e,r),Gt.set(e,n),r.addEventListener("finish",ms.bind(null,e))}function qx(e){const t=qs(e);Gt.set(e,t);const n=vl(e);let r;typeof n!="function"?r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(r=new Animation(n(e,"add",t)),r.play()),ls.set(e,r),r.addEventListener("finish",ms.bind(null,e))}function Yx(e){if(!Ds.has(e)||!Gt.has(e))return;const[t,n]=Ds.get(e);Object.defineProperty(e,Pu,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(e,n):t&&t.parentNode&&t.parentNode.appendChild(e);const[r,s,o,i]=Xx(e),l=vl(e),c=Gt.get(e);let u;Object.assign(e.style,{position:"absolute",top:`${r}px`,left:`${s}px`,width:`${o}px`,height:`${i}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof l!="function"?u=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:l.duration,easing:"ease-out"}):(u=new Animation(l(e,"remove",c)),u.play()),ls.set(e,u),u.addEventListener("finish",()=>{var d;e.remove(),Gt.delete(e),Ds.delete(e),ls.delete(e),(d=Eu.get(e))===null||d===void 0||d.disconnect()})}function Xx(e){const t=Gt.get(e),[n,,r]=zm(e,t,qs(e));let s=e.parentElement;for(;s&&(getComputedStyle(s).position==="static"||s instanceof HTMLBodyElement);)s=s.parentElement;s||(s=document.body);const o=getComputedStyle(s),i=Gt.get(s)||qs(s),l=Math.round(t.top-i.top)-Ln(o.borderTopWidth),c=Math.round(t.left-i.left)-Ln(o.borderLeftWidth);return[l,c,n,r]}function Zx(e,t={}){Ou&&ks&&(getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),Um(e,ms,Ux,n=>ks==null?void 0:ks.observe(n)),typeof t=="function"?Ks.set(e,t):Ks.set(e,{duration:250,easing:"ease-in-out",...t}),Ou.observe(e,{childList:!0}),Bm.add(e))}function Jx(e){const t=p.useRef(null);return p.useEffect(()=>{t.current instanceof HTMLElement&&Zx(t.current,e)},[t]),t}if(!p.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Ky)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Qx(e){e()}function ew(e){e||(e=Qx),Vy({reactionScheduler:e})}function tw(e){return Hy(e)}var nw=1e4,rw=1e4,sw=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=nw),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var s=Date.now();n.registrations.forEach(function(o,i){s-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(i))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,rw))}}),e}(),ow=typeof FinalizationRegistry<"u"?FinalizationRegistry:sw,_u=new ow(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null});function xd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wm={exports:{}},uc={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function iw(){if(hf)return uc;hf=1;var e=p;function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function l(f,h){var g=h(),v=r({inst:{value:g,getSnapshot:h}}),m=v[0].inst,b=v[1];return o(function(){m.value=g,m.getSnapshot=h,c(m)&&b({inst:m})},[f,g,h]),s(function(){return c(m)&&b({inst:m}),f(function(){c(m)&&b({inst:m})})},[f]),i(g),g}function c(f){var h=f.getSnapshot;f=f.value;try{var g=h();return!n(f,g)}catch{return!0}}function u(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return uc.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,uc}Wm.exports=iw();var aw=Wm.exports;function gf(e){e.reaction=new qn("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function lw(e,t){t===void 0&&(t="observed");var n=p.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(l){return _u.unregister(r),r.onStoreChange=l,r.reaction||(gf(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var s=n.current;s.reaction||(gf(s),_u.register(n,s,s)),p.useDebugValue(s.reaction,tw),aw.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getSnapshot);var o,i;if(s.reaction.track(function(){try{o=e()}catch(l){i=l}}),i)throw i;return o}var dc,pc,Gm=typeof Symbol=="function"&&Symbol.for,cw=(pc=(dc=Object.getOwnPropertyDescriptor(function(){},"name"))===null||dc===void 0?void 0:dc.configurable)!==null&&pc!==void 0?pc:!1,mf=Gm?Symbol.for("react.forward_ref"):typeof p.forwardRef=="function"&&p.forwardRef(function(e){return null}).$$typeof,vf=Gm?Symbol.for("react.memo"):typeof p.memo=="function"&&p.memo(function(e){return null}).$$typeof;function re(e,t){var n;if(vf&&e.$$typeof===vf)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=t==null?void 0:t.forwardRef)!==null&&n!==void 0?n:!1,s=e,o=e.displayName||e.name;if(mf&&e.$$typeof===mf&&(r=!0,s=e.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var i=function(l,c){return lw(function(){return s(l,c)},o)};return i.displayName=e.displayName,cw&&Object.defineProperty(i,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(i.contextTypes=e.contextTypes),r&&(i=p.forwardRef(i)),i=p.memo(i),dw(e,i),i}var uw={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function dw(e,t){Object.keys(e).forEach(function(n){uw[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var fc;ew($t.unstable_batchedUpdates);fc=_u.finalizeAllImmediately;const F=R;function R(...e){return(Array.isArray(e[0])?e[0]:[...e]).filter(Boolean).flatMap(s=>typeof s=="string"?s.split(" ").map(o=>{if(o=o.replace(/gjs-/g,"gs-utl-"),!o.includes("gs-utl-")&&!o.startsWith("gs-")){const i=o.split(":"),l=i.pop(),c=i.join(":"),u=l==null?void 0:l.startsWith("!"),f=`gs-utl-${u?l==null?void 0:l.slice(1):l}`,h=u?`!${f}`:f;return c?`${c}:${h}`:h}return o}):s).join(" ")}var pw="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M11 7H13V13H11V7M11 15H13V17H11V15Z",fw="M11 2H13V7H21V10H13V14H18V17H13V22H11V17H6V14H11V10H3V7H11V2Z",hw="M4 22H2V2H4V22M22 7H6V10H22V7M16 14H6V17H16V14Z",gw="M20 2H22V22H20V2M2 10H18V7H2V10M8 17H18V14H8V17Z",mw="M9.5,8.5L11,10L8,13L11,16L9.5,17.5L5,13L9.5,8.5M14.5,17.5L13,16L16,13L13,10L14.5,8.5L19,13L14.5,17.5M21,2H3A2,2 0 0,0 1,4V20A2,2 0 0,0 3,22H21A2,2 0 0,0 23,20V4A2,2 0 0,0 21,2M21,20H3V6H21V20Z",vw="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z",bw="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",yw="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z",xw="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z",ww="M3,21V3H21V21H3M5,5V19H19V5H5Z",Sw="M3 16C3 18.8 5.2 21 8 21H10V19H8C6.3 19 5 17.7 5 16V14H3V16M21 8C21 5.2 18.8 3 16 3H14V5H16C17.7 5 19 6.3 19 8V10H21V8M16 21C18.8 21 21 18.8 21 16V14H19V16C19 17.7 17.7 19 16 19H14V21H16M8 3C5.2 3 3 5.2 3 8V10H5V8C5 6.3 6.3 5 8 5H10V3H8Z",jw="M15,21H17V19H15M19,21H21V19H19M7,21H9V19H7M11,21H13V19H11M19,17H21V15H19M19,13H21V11H19M3,3V21H5V5H21V3M19,9H21V7H19",Cw="M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z",Ew="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",Pw="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z",Ow="M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",_w="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",Tw="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",Aw="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",Mw="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",Rw="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",kw="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",Lw="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",$w="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",Nw="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",Dw="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",Iw="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",Vw="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z",Hw="M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z",Bw="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z",Fw="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z",zw="M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z",Uw="M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z",Ww="M6.92,19L5,17.08L13.06,9L15,10.94M20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L13.84,6.41L11.91,4.5L10.5,5.91L11.92,7.33L3,16.25V21H7.75L16.67,12.08L18.09,13.5L19.5,12.09L17.58,10.17L20.7,7.05C21.1,6.65 21.1,6 20.71,5.63Z",Gw="M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z",Kw="M7,11H1V13H7V11M9.17,7.76L7.05,5.64L5.64,7.05L7.76,9.17L9.17,7.76M13,1H11V7H13V1M18.36,7.05L16.95,5.64L14.83,7.76L16.24,9.17L18.36,7.05M17,11V13H23V11H17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M14.83,16.24L16.95,18.36L18.36,16.95L16.24,14.83L14.83,16.24M5.64,16.95L7.05,18.36L9.17,16.24L7.76,14.83L5.64,16.95M11,23H13V17H11V23Z",qw="M5,3A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5.5L18.5,3H17V9A1,1 0 0,1 16,10H8A1,1 0 0,1 7,9V3H5M12,4V9H15V4H12M7,12H17A1,1 0 0,1 18,13V19H6V13A1,1 0 0,1 7,12Z",Yw="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",Xw="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",Zw="M11,9H13V11H11V9M9,11H11V13H9V11M13,11H15V13H13V11M15,9H17V11H15V9M7,9H9V11H7V9M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M9,18H7V16H9V18M13,18H11V16H13V18M17,18H15V16H17V18M19,11H17V13H19V15H17V13H15V15H13V13H11V15H9V13H7V15H5V13H7V11H5V5H19V11Z",Jw="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",Qw="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z",eS="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",tS="M13.5,4A1.5,1.5 0 0,0 12,5.5A1.5,1.5 0 0,0 13.5,7A1.5,1.5 0 0,0 15,5.5A1.5,1.5 0 0,0 13.5,4M13.14,8.77C11.95,8.87 8.7,11.46 8.7,11.46C8.5,11.61 8.56,11.6 8.72,11.88C8.88,12.15 8.86,12.17 9.05,12.04C9.25,11.91 9.58,11.7 10.13,11.36C12.25,10 10.47,13.14 9.56,18.43C9.2,21.05 11.56,19.7 12.17,19.3C12.77,18.91 14.38,17.8 14.54,17.69C14.76,17.54 14.6,17.42 14.43,17.17C14.31,17 14.19,17.12 14.19,17.12C13.54,17.55 12.35,18.45 12.19,17.88C12,17.31 13.22,13.4 13.89,10.71C14,10.07 14.3,8.67 13.14,8.77Z",nS="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z",rS="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z",sS="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",oS="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",iS="M18 1C15.24 1 13 3.24 13 6V8H4C2.9 8 2 8.89 2 10V20C2 21.11 2.9 22 4 22H16C17.11 22 18 21.11 18 20V10C18 8.9 17.11 8 16 8H15V6C15 4.34 16.34 3 18 3C19.66 3 21 4.34 21 6V8H23V6C23 3.24 20.76 1 18 1M10 13C11.1 13 12 13.89 12 15C12 16.11 11.11 17 10 17C8.9 17 8 16.11 8 15C8 13.9 8.9 13 10 13Z",aS="M7,10L12,15L17,10H7Z",lS="M20 5L20 19L4 19L4 5H20M20 3H4C2.89 3 2 3.89 2 5V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V5C22 3.89 21.11 3 20 3M18 15H6V17H18V15M10 7H6V13H10V7M12 9H18V7H12V9M18 11H12V13H18V11Z",cS="M2.53,19.65L3.87,20.21V11.18L1.44,17.04C1.03,18.06 1.5,19.23 2.53,19.65M22.03,15.95L17.07,4C16.76,3.23 16.03,2.77 15.26,2.75C15,2.75 14.73,2.79 14.47,2.9L7.1,5.95C6.35,6.26 5.89,7 5.87,7.75C5.86,8 5.91,8.29 6,8.55L11,20.5C11.29,21.28 12.03,21.74 12.81,21.75C13.07,21.75 13.33,21.7 13.58,21.6L20.94,18.55C21.96,18.13 22.45,16.96 22.03,15.95M7.88,8.75A1,1 0 0,1 6.88,7.75A1,1 0 0,1 7.88,6.75C8.43,6.75 8.88,7.2 8.88,7.75C8.88,8.3 8.43,8.75 7.88,8.75M5.88,19.75A2,2 0 0,0 7.88,21.75H9.33L5.88,13.41V19.75Z",uS="M12,2.5L8,7H16L12,2.5M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M8,17L12,21.5L16,17H8Z",dS="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z",pS="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",fS="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",hS="M16,7V3H14V7H10V3H8V7H8C7,7 6,8 6,9V14.5L9.5,18V21H14.5V18L18,14.5V9C18,8 17,7 16,7Z",gS="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",mS="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L20 12L12 20L4 12Z",vS="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",bS="M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z",yS="M22.08,11.04H20.08V4H13.05V2H11.04V4H4V11.04H2V13.05H4V20.08H11.04V22.08H13.05V20.08H20.08V13.05H22.08V11.04M18.07,18.07H13.05V16.06H11.04V18.07H6V13.05H8.03V11.04H6V6H11.04V8.03H13.05V6H18.07V11.04H16.06V13.05H18.07V18.07M13.05,12.05A1,1 0 0,1 12.05,13.05C11.5,13.05 11.04,12.6 11.04,12.05C11.04,11.5 11.5,11.04 12.05,11.04C12.6,11.04 13.05,11.5 13.05,12.05Z",xS="M16,15H9V13H16M19,11H9V9H19M19,7H9V5H19M21,1H7C5.89,1 5,1.89 5,3V17C5,18.11 5.9,19 7,19H21C22.11,19 23,18.11 23,17V3C23,1.89 22.1,1 21,1M3,5V21H19V23H3A2,2 0 0,1 1,21V5H3Z",wS="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z",SS="M16.59,5.41L15.17,4L12,7.17L8.83,4L7.41,5.41L12,10M7.41,18.59L8.83,20L12,16.83L15.17,20L16.58,18.59L12,14L7.41,18.59Z",jS="M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",CS="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z",ES="M13 3V11H21V3H13M3 21H11V13H3V21M3 3V11H11V3H3M13 16H16V13H18V16H21V18H18V21H16V18H13V16Z",PS="M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",OS="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z";const D=p.forwardRef(function({as:t,children:n,className:r,col:s,revert:o,full:i,nowrap:l,space:c,justify:u,items:d,...f},h){const g=t||"div";return a.jsx(g,{ref:h,className:R(["gs-utl-flex",r,s&&!o&&"gs-utl-flex-col",s&&o&&"gs-utl-flex-col-reverse",!s&&o&&"gs-utl-flex-row-reverse",i&&!s&&"gs-utl-w-full",i&&s&&"gs-utl-h-full",l?"gs-utl-flex-nowrap":"gs-utl-flex-wrap",c==="x2s"&&(s?"gs-utl-space-y-0.5":"gs-utl-space-x-0.5"),c==="xs"&&(s?"gs-utl-space-y-1":"gs-utl-space-x-1"),c==="s"&&(s?"gs-utl-space-y-2":"gs-utl-space-x-2"),c==="m"&&(s?"gs-utl-space-y-4":"gs-utl-space-x-4"),c==="l"&&(s?"gs-utl-space-y-6":"gs-utl-space-x-6"),c==="xl"&&(s?"gs-utl-space-y-8":"gs-utl-space-x-8"),d==="start"&&"gs-utl-items-start",d==="end"&&"gs-utl-items-end",d==="center"&&"gs-utl-items-center",u==="start"&&"gs-utl-justify-start",u==="end"&&"gs-utl-justify-end",u==="center"&&"gs-utl-justify-center",u==="between"&&"gs-utl-justify-between"]),...f,children:n})}),L=p.forwardRef(function({children:t,className:n,grow:r,...s},o){return a.jsx("div",{ref:o,className:R([n,r&&"flex-1"]),...s,children:t})});var hc={exports:{}},gc,bf;function _S(){if(bf)return gc;bf=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gc=e,gc}var mc,yf;function TS(){if(yf)return mc;yf=1;var e=_S();function t(){}function n(){}return n.resetWarningCache=t,mc=function(){function r(i,l,c,u,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},mc}var xf;function AS(){return xf||(xf=1,hc.exports=TS()()),hc.exports}var MS=function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(r,s,o){n.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,s){if(1&s&&(r=n(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var i in r)n.d(o,i,(function(l){return r[l]}).bind(null,i));return o},n.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(s,"a",s),s},n.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},n.p="",n(n.s=2)}([function(e,t){e.exports=AS()},function(e,t){e.exports=p},function(e,t,n){n.r(t);var r=n(1),s=n(0),o=function(){return(o=Object.assign||function(v){for(var m,b=1,y=arguments.length;b<y;b++)for(var x in m=arguments[b])Object.prototype.hasOwnProperty.call(m,x)&&(v[x]=m[x]);return v}).apply(this,arguments)},i=function(v,m){var b={};for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&m.indexOf(y)<0&&(b[y]=v[y]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function"){var x=0;for(y=Object.getOwnPropertySymbols(v);x<y.length;x++)m.indexOf(y[x])<0&&Object.prototype.propertyIsEnumerable.call(v,y[x])&&(b[y[x]]=v[y[x]])}return b},l=0,c=r.forwardRef(function(v,m){var b=v.title,y=b===void 0?null:b,x=v.description,w=x===void 0?null:x,S=v.size,j=S===void 0?null:S,C=v.color,O=C===void 0?"currentColor":C,E=v.horizontal,T=E===void 0?null:E,_=v.vertical,M=_===void 0?null:_,k=v.rotate,B=k===void 0?null:k,z=v.spin,P=z===void 0?null:z,A=v.style,$=A===void 0?{}:A,N=v.children,I=i(v,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);l++;var V,U=P!==null&&P,X=r.Children.map(N,function(ce){var te=ce;U!==!0&&(U=(P===null?te.props.spin:P)===!0);var G=te.props.size;typeof j=="number"&&typeof te.props.size=="number"&&(G=te.props.size/j);var Z={size:G,color:O===null?te.props.color:O,horizontal:T===null?te.props.horizontal:T,vertical:M===null?te.props.vertical:M,rotate:B===null?te.props.rotate:B,spin:P===null?te.props.spin:P,inStack:!0};return r.cloneElement(te,Z)});j!==null&&($.width=typeof j=="string"?j:1.5*j+"rem");var ne,K="stack_labelledby_"+l,Q="stack_describedby_"+l;if(y)V=w?K+" "+Q:K;else if(ne="presentation",w)throw new Error("title attribute required when description is set");return r.createElement("svg",o({ref:m,viewBox:"0 0 24 24",style:$,role:ne,"aria-labelledby":V},I),y&&r.createElement("title",{id:K},y),w&&r.createElement("desc",{id:Q},w),U&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),X)});c.displayName="Stack",c.propTypes={size:s.oneOfType([s.number,s.string]),color:s.string,horizontal:s.bool,vertical:s.bool,rotate:s.number,spin:s.oneOfType([s.bool,s.number]),children:s.oneOfType([s.arrayOf(s.node),s.node]).isRequired,className:s.string,style:s.object},c.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var u=c;n.d(t,"Icon",function(){return g}),n.d(t,"Stack",function(){return u});var d=function(){return(d=Object.assign||function(v){for(var m,b=1,y=arguments.length;b<y;b++)for(var x in m=arguments[b])Object.prototype.hasOwnProperty.call(m,x)&&(v[x]=m[x]);return v}).apply(this,arguments)},f=function(v,m){var b={};for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&m.indexOf(y)<0&&(b[y]=v[y]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function"){var x=0;for(y=Object.getOwnPropertySymbols(v);x<y.length;x++)m.indexOf(y[x])<0&&Object.prototype.propertyIsEnumerable.call(v,y[x])&&(b[y[x]]=v[y[x]])}return b},h=0,g=r.forwardRef(function(v,m){var b=v.path,y=v.id,x=y===void 0?++h:y,w=v.title,S=w===void 0?null:w,j=v.description,C=j===void 0?null:j,O=v.size,E=O===void 0?null:O,T=v.color,_=T===void 0?"currentColor":T,M=v.horizontal,k=M!==void 0&&M,B=v.vertical,z=B!==void 0&&B,P=v.rotate,A=P===void 0?0:P,$=v.spin,N=$!==void 0&&$,I=v.style,V=I===void 0?{}:I,U=v.inStack,X=U!==void 0&&U,ne=f(v,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),K={},Q=[];E!==null&&(X?Q.push("scale("+E+")"):(V.width=typeof E=="string"?E:1.5*E+"rem",V.height=V.width)),k&&Q.push("scaleX(-1)"),z&&Q.push("scaleY(-1)"),A!==0&&Q.push("rotate("+A+"deg)"),_!==null&&(K.fill=_);var ce=r.createElement("path",d({d:b,style:K},X?ne:{})),te=ce;Q.length>0&&(V.transform=Q.join(" "),V.transformOrigin="center",X&&(te=r.createElement("g",{style:V},ce,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var G,Z=te,le=N===!0||typeof N!="number"?2:N,se=!X&&(k||z);if(le<0&&(se=!se),N&&(Z=r.createElement("g",{style:{animation:"spin"+(se?"-inverse":"")+" linear "+Math.abs(le)+"s infinite",transformOrigin:"center"}},te,!(k||z||A!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),X)return Z;var me,ye="icon_labelledby_"+x,Ze="icon_describedby_"+x;if(S)G=C?ye+" "+Ze:ye;else if(me="presentation",C)throw new Error("title attribute required when description is set");return r.createElement("svg",d({ref:m,viewBox:"0 0 24 24",style:V,role:me,"aria-labelledby":G},ne),S&&r.createElement("title",{id:ye},S),C&&r.createElement("desc",{id:Ze},C),!X&&N&&(se?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),Z)});g.displayName="Icon",g.propTypes={path:s.string.isRequired,size:s.oneOfType([s.number,s.string]),color:s.string,horizontal:s.bool,vertical:s.bool,rotate:s.number,spin:s.oneOfType([s.bool,s.number]),style:s.object,inStack:s.bool,className:s.string},g.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=g}]);const RS=xd(MS);var Km={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var l=arguments[i];l&&(o=s(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var l in o)t.call(o,l)&&o[l]&&(i=s(i,l));return i}function s(o,i){return i?o?o+" "+i:o+i:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Km);var kS=Km.exports;const W=xd(kS),wf=new Map,wd=p.forwardRef(function({svg:t,iconSize:n,...r},s){let o=wf.get(t);return o||(o=bx(t,n),wf.set(t,o)),a.jsx("div",{...r,ref:s,dangerouslySetInnerHTML:{__html:o}})});var Y=(e=>(e.alertRhombus="alertRhombus",e.alignHorizontalCenter="alignHorizontalCenter",e.alignHorizontalLeft="alignHorizontalLeft",e.alignHorizontalRight="alignHorizontalRight",e.applicationBracketsOutline="applicationBracketsOutline",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowULeftTop="arrowULeftTop",e.arrowURightTop="arrowURightTop",e.borderAllVariant="borderAllVariant",e.borderRadius="borderRadius",e.borderStyle="borderStyle",e.cellphoneLink="cellphoneLink",e.check="check",e.checkBold="checkBold",e.checkboxBlank="checkboxBlank",e.chevronUp="chevronUp",e.chevronDown="chevronDown",e.chevronLeft="chevronLeft",e.chevronRight="chevronRight",e.close="close",e.codeBraces="codeBraces",e.cog="cog",e.contentCopy="contentCopy",e.contentSave="contentSave",e.delete="delete",e.dotsVertical="dotsVertical",e.email="email",e.emailOutline="emailOutline",e.eye="eye",e.eyedropperVariant="eyedropperVariant",e.eyeOff="eyeOff",e.eyeOffOutline="eyeOffOutline",e.eyeOutline="eyeOutline",e.fire="fire",e.flare="flare",e.floppy="floppy",e.folder="folder",e.fullscreen="fullscreen",e.gradientVertical="gradientVertical",e.helpCircle="helpCircle",e.image="image",e.information="information",e.informationVariant="informationVariant",e.layers="layers",e.link="link",e.lock="lock",e.lockOpenVariant="lockOpenVariant",e.menuDown="menuDown",e.newspaperVariantOutline="newspaperVariantOutline",e.paletteSwatch="paletteSwatch",e.panVertical="panVertical",e.phone="phone",e.plus="plus",e.plusBox="plusBox",e.powerPlug="powerPlug",e.refresh="refresh",e.rhombusOutline="rhombusOutline",e.tag="tag",e.target="target",e.targetVariant="targetVariant",e.textBoxMultiple="textBoxMultiple",e.trayArrowDown="trayArrowDown",e.unfoldLessHorizontal="unfoldLessHorizontal",e.unfoldMoreHorizontal="unfoldMoreHorizontal",e.viewDayOutline="viewDayOutline",e.viewGridPlus="viewGridPlus",e.web="web",e.xml="xml",e))(Y||{});const vc={alertRhombus:pw,alignHorizontalCenter:fw,alignHorizontalLeft:hw,alignHorizontalRight:gw,applicationBracketsOutline:mw,arrowDown:vw,arrowRight:bw,arrowULeftTop:yw,arrowURightTop:xw,borderAllVariant:ww,borderRadius:Sw,borderStyle:jw,cellphoneLink:Cw,check:Ew,checkBold:Pw,checkboxBlank:Ow,chevronUp:Mw,chevronDown:_w,chevronLeft:Tw,chevronRight:Aw,close:Rw,codeBraces:kw,cog:Lw,contentCopy:$w,contentSave:Nw,delete:Dw,dotsVertical:Iw,email:Vw,emailOutline:Hw,eye:Bw,eyedropperVariant:Ww,eyeOff:Fw,eyeOffOutline:zw,eyeOutline:Uw,fire:Gw,flare:Kw,floppy:qw,folder:Yw,fullscreen:Xw,gradientVertical:Zw,helpCircle:Jw,image:Qw,information:eS,informationVariant:tS,layers:nS,link:rS,lock:oS,lockOpenVariant:iS,menuDown:aS,newspaperVariantOutline:lS,paletteSwatch:cS,panVertical:uS,phone:dS,plus:pS,plusBox:fS,powerPlug:hS,refresh:gS,rhombusOutline:mS,tag:vS,target:bS,targetVariant:yS,textBoxMultiple:xS,trayArrowDown:wS,unfoldLessHorizontal:SS,unfoldMoreHorizontal:jS,viewDayOutline:CS,viewGridPlus:ES,web:PS,xml:OS},LS="gs-cmp-icon",J=re(function({className:t,icon:n,size:r,rotate:s,horizontal:o,vertical:i}){var f;const l=(f=mR())==null?void 0:f.sdkCustomIcons,c=(l==null?void 0:l[n])||(vc==null?void 0:vc[n])||n,u=[o&&"scaleX(-1)",i&&"scaleY(-1)",s&&`rotate(${s}deg)`].filter(h=>!!h).join(" ");if(!c)return null;const d=W(LS,t);return c.startsWith("<svg")||c.startsWith("<?xml")?a.jsx(wd,{className:d,style:{transform:u||void 0},svg:c,iconSize:r}):a.jsx(RS,{className:d,path:c,size:r,rotate:s,horizontal:o,vertical:i})}),qm=150;var _e=(e=>(e.txt="gs-theme-cl-txt",e.bg="gs-theme-cl-bg",e.br="gs-theme-cl-br",e.bgA="gs-theme-cl-bgA",e.bgA2="gs-theme-cl-bgA2",e.hBgAct="gs-theme-cl-hBgAct",e.hBgA2="gs-theme-cl-hBgA2",e.tA="gs-theme-cl-tA",e.tAo="gs-theme-cl-tAo",e.hTAo="gs-theme-cl-hTAo",e.grouphTAo="gs-theme-cl-grouphTAo",e.bA="gs-theme-cl-bA",e.bg0="gs-theme-cl-bg0",e.bgH="gs-theme-cl-bgH",e.hBgH="gs-theme-cl-hBgH",e.bgH2="gs-theme-cl-bgH2",e.hBgH2="gs-theme-cl-hBgH2",e.sel="gs-theme-cl-sel",e.selBr="gs-theme-cl-selBr",e.cmp="gs-theme-cl-cmp",e.cmpBgSoft="gs-theme-cl-cmpBgSoft",e.cmpBgSoftX="gs-theme-cl-cmpBgSoftX",e.cmpBr="gs-theme-cl-cmpBr",e.cmpSymbol="gs-theme-cl-cmpSymbol",e.cmpBgSymbolSoft="gs-theme-cl-cmpBgSymbolSoft",e.cmpBgSymbolSoftX="gs-theme-cl-cmpBgSymbolSoftX",e.cmpSymbolBr="gs-theme-cl-cmpSymbolBr",e.cmpTxtActive="gs-theme-cl-cmpTxtActive",e.focus="gs-theme-ring-focus",e.inputText="gs-theme-elStyles-inputText",e))(_e||{});const H={bgTr:"gs-utl-bg-transparent",txt:"gs-theme-cl-txt gs-utl-text-gray-900 dark:gs-utl-text-gray-400",txtLowEmphasis:"gs-utl-text-neutral-500 dark:gs-utl-text-neutral-500",txtHighEmphasis:"gs-utl-text-black dark:gs-utl-text-gray-200",txtHighEmphasisH:"hover:gs-utl-text-black hover:dark:gs-utl-text-gray-200",tA:"gs-theme-cl-tA gs-utl-text-violet-400",tAo:"gs-theme-cl-tAo gs-utl-text-violet-800 dark:gs-utl-text-violet-400",hTAo:"gs-theme-cl-hTAo hover:gs-utl-text-violet-800 hover:dark:gs-utl-text-violet-400",grouphTAo:"gs-theme-cl-grouphTAo group-hover:gs-utl-text-violet-800 group-hover:dark:gs-utl-text-violet-400",bA:"gs-theme-cl-bA gs-utl-border-violet-400",bgA:"gs-theme-cl-bgA gs-utl-bg-violet-400 gs-utl-text-white dark:gs-utl-bg-violet-500",bgA2:"gs-theme-cl-bgA2 gs-utl-bg-violet-500 gs-utl-text-white",bgO:"gs-theme-cl-bg0 gs-utl-bg-violet-50 gs-utl-text-violet-900 dark:gs-utl-bg-zinc-800 dark:gs-utl-text-violet-400",bg:"gs-theme-cl-bg gs-utl-bg-white dark:gs-utl-bg-zinc-900",bgBlur:"gs-utl-bg-white/50 dark:gs-utl-bg-zinc-900/50 gs-utl-backdrop-blur-sm",bgH:"gs-theme-cl-bgH gs-utl-bg-gray-100 dark:gs-utl-bg-zinc-700",bgH75:"gs-utl-bg-gray-100/75 dark:gs-utl-bg-zinc-700/75",hBgH:"gs-theme-cl-hBgH hover:gs-utl-bg-gray-50 hover:dark:gs-utl-bg-zinc-800",bgH2:"gs-theme-cl-bgH2 gs-utl-bg-gray-25 dark:gs-utl-bg-zinc-800",hBgH2:"gs-theme-cl-hBgH2 hover:gs-utl-bg-gray-25 hover:dark:gs-utl-bg-zinc-800",hBgAct:"gs-theme-cl-hBgAct hover:gs-utl-bg-violet-800 hover:dark:gs-utl-bg-violet-400",hBgA2:"gs-theme-cl-hBgA2 hover:gs-utl-bg-violet-500 hover:dark:gs-utl-bg-violet-600",hBgDark:"hover:gs-utl-bg-black/10",sel:"gs-theme-cl-sel gs-utl-bg-pink-200 gs-utl-text-pink-900",selBr:"gs-theme-cl-selBr gs-utl-border-pink-900",cmp:"gs-theme-cl-cmp gs-utl-bg-blue-450 gs-utl-text-white",cmpSymbol:"gs-theme-cl-cmpSymbol gs-utl-bg-[#7b61ff] gs-utl-text-white",cmpBgSoft:"gs-theme-cl-cmpBgSoft gs-utl-bg-blue-100 dark:gs-utl-bg-sky-800",cmpBgSymbolSoft:"gs-theme-cl-cmpBgSymbolSoft gs-utl-bg-violet-200 dark:gs-utl-bg-violet-800",cmpBgSoftX:"gs-theme-cl-cmpBgSoftX gs-utl-bg-blue-50 dark:gs-utl-bg-gray-800",cmpBgSymbolSoftX:"gs-theme-cl-cmpBgSymbolSoftX gs-utl-bg-[#edebff] dark:gs-utl-bg-[#2d1b4b]",cmpTxtActive:"gs-theme-cl-cmpTxtActive dark:gs-utl-text-gray-300",cmpBr:"gs-theme-cl-cmpBr gs-utl-border-blue-450",cmpSymbolBr:"gs-theme-cl-cmpSymbolBr gs-utl-border-[#7b61ff]",cmpTargetBg:"gs-utl-bg-amber-500 gs-utl-text-white",cmpTargetBgOpac:"gs-utl-bg-amber-500/5",cmpTargetBr:"gs-utl-border-amber-500",tW:"gs-utl-text-amber-500",bgW:"gs-utl-bg-amber-500",bgRed:"gs-utl-bg-red-500",hBgRed:"hover:gs-utl-bg-red-600",hBgW:"hover:gs-utl-bg-amber-600",br:"gs-theme-cl-br gs-utl-border-gray-300 dark:gs-utl-border-zinc-700",brRed:"gs-utl-border-red-500",brLight:"gs-utl-border-white/25"},Sd={enter:"gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",enterFrom:"gs-utl-scale-95 gs-utl-opacity-0",enterTo:"gs-utl-opacity-100",leave:"gs-utl-transition gs-utl-ease-in gs-utl-duration-100",leaveFrom:"gs-utl-scale-100 gs-utl-opacity-100",leaveTo:"gs-utl-scale-95 gs-utl-opacity-0"},Ym={enter:"gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",enterFrom:"gs-utl-opacity-0",enterTo:"gs-utl-opacity-100"},$S={leave:"gs-utl-transition gs-utl-ease-in gs-utl-duration-100",leaveFrom:"gs-utl-opacity-100",leaveTo:"gs-utl-opacity-0"},yi={...Ym,...$S},Pe={xy:"gs-utl-px-4 gs-utl-py-2",xyS:"gs-utl-px-2 gs-utl-py-1",xyS2:"gs-utl-px-2 gs-utl-py-0.5",x:"gs-utl-px-4",xS:"gs-utl-px-2",y:"gs-utl-py-2",s:"gs-utl-p-2"},jd={bg:H.bg,bgH:H.bgH},Sf={bg:"gs-utl-bg-zinc-700",txt:"gs-utl-text-white",block:"gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-rounded gs-utl-px-2 gs-utl-py-1"},ee={rnd:"gs-utl-rounded",pill:"gs-utl-rounded-full",b:"gs-utl-border",bT:"gs-utl-border-transparent",bS:"gs-utl-border-2",bt:"gs-utl-border-t",bb:"gs-utl-border-b",br:"gs-utl-border-r",bl:"gs-utl-border-l",bA:"gs-theme-cl-bA gs-utl-border-violet-400 dark:gs-utl-border-violet-500"},ni={focus:"gs-theme-ring-focus focus:gs-utl-outline-none focus-visible:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80",deepFocus:"focus:gs-utl-outline-none [&:has(:focus-visible)]:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80"},oe={s3x:"13px",s2x:"14px",sx:"16px",s:"18px"},qe={click:"gs-utl-cursor-pointer gs-utl-transition-opacity gs-utl-opacity-75 hover:gs-utl-opacity-100",hover:"gs-utl-transition-opacity gs-utl-opacity-50 hover:gs-utl-opacity-100",hoverGroup:"group-hover:gs-utl-opacity-100 gs-utl-opacity-0 gs-utl-transition-opacity",dot:"gs-utl-w-[6px] gs-utl-h-[6px] gs-utl-rounded-full",scrollY:"gs-utl-overflow-y-auto gs-utl-overflow-x-hidden",txtEllips:"gs-utl-text-ellipsis gs-utl-overflow-hidden gs-utl-whitespace-nowrap",coverAbs:"gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-w-full gs-utl-h-full",disabled:"gs-utl-opacity-50 gs-utl-pointer-events-none",noFocusOut:"focus:gs-utl-outline-none",spin:"gs-utl-animate-spin-fast"},cs={link:R(H.tAo),inputText:"gs-theme-elStyles-inputText focus:gs-utl-outline-none gs-utl-placeholder:text-neutral-400 placeholder:dark:gs-utl-text-neutral-500"},Cd={itemList:({index:e=0,open:t=!1,length:n=0}={})=>R(H.bgH2,Pe.xyS,H.br,e&&ee.bt,(t||e===n-1)&&ee.bb)},Xm=e=>({bg:e?"#18181b":"#f9f9f9",text:e?"#9ca3af":"#111827",link:e?"#a78bfa":"#5b21b6"}),bl=e=>{let t={isSymbol:!1,bg:H.cmp,bgSoft:`${H.cmpBgSoft} ${H.cmpTxtActive}`,bgSoftX:H.cmpBgSoftX,border:H.cmpBr,txt:""};if(!(e!=null&&e.em))return t;const{isSymbol:n}=e.em.Components.getSymbolInfo(e);return n&&(t={isSymbol:n,bg:H.cmpSymbol,bgSoft:`${H.cmpBgSymbolSoft} ${H.cmpTxtActive}`,bgSoftX:H.cmpBgSymbolSoftX,border:H.cmpSymbolBr,txt:""}),t},Zm=({variant:e,size:t="m",className:n,active:r,border:s=!0,rounded:o=!0,disabled:i=!1,withBg:l,block:c,full:u})=>{const d=e==="pr",f=e==="out",h=e==="out-clear",g=e==="warn",v=e==="danger",m=s&&(f||h||!e);return["gs-utl-transition-colors gs-utl-cursor-pointer",c&&"block",t==="s"&&"gjs-p-1 text-sm",t==="m"&&"gjs-p-1 gjs-px-2",t==="m2"&&"gjs-p-1 gjs-px-3",t==="lg"&&"gjs-p-2 gjs-px-4 text-lg",n,o&&ee.rnd,m&&`${ee.b} ${H.br}`,l&&H.bg,m&&R(ee.b,f&&H.bA,f&&H.tAo,!i&&H.hBgH),g&&R(H.bgW,H.hBgW,!i&&H.hBgW,"text-white"),v&&R(H.bgRed,!i&&H.hBgRed,"text-white"),d&&R(H.bgA2,!i&&H.hBgAct),r&&H.bgA,i&&"disabled:gs-utl-opacity-80 cursor-not-allowed",u&&"w-full",ni.focus]};function ze({children:e,...t}){const{variant:n,size:r,active:s,border:o,rounded:i,block:l,full:c,className:u,icon:d,loading:f,withBg:h,type:g="button",...v}=t,m=f?{icon:sS,size:"18px",className:R("animate-spin-fast")}:xt(d)?{icon:d,size:"18px"}:d;return a.jsx("button",{className:R(Zm(t)),disabled:t.disabled,type:g,...v,children:m?a.jsxs(D,{className:R("gap-2"),items:"center",nowrap:!0,children:[a.jsx(L,{children:a.jsx(J,{...m})}),e&&a.jsx(L,{children:e})]}):e})}function Os(e,t,n){let r=n.initialDeps??[],s;return()=>{var o,i,l,c;let u;n.key&&((o=n.debug)!=null&&o.call(n))&&(u=Date.now());const d=e();if(!(d.length!==r.length||d.some((g,v)=>r[v]!==g)))return s;r=d;let h;if(n.key&&((i=n.debug)!=null&&i.call(n))&&(h=Date.now()),s=t(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const g=Math.round((Date.now()-u)*100)/100,v=Math.round((Date.now()-h)*100)/100,m=v/16,b=(y,x)=>{for(y=String(y);y.length<x;)y=" "+y;return y};console.info(`%c⏱ ${b(v,5)} /${b(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,s),s}}function bc(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const NS=(e,t)=>Math.abs(e-t)<1,DS=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},IS=e=>e,VS=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},HS=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=i=>{const{width:l,height:c}=i;t({width:Math.round(l),height:Math.round(c)})};if(s(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(i=>{const l=i[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){s({width:c.inlineSize,height:c.blockSize});return}}s(n.getBoundingClientRect())});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},jf={passive:!0},BS=typeof window>"u"?!0:"onscrollend"in window,FS=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const o=BS?()=>{}:DS(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),i=u=>()=>{const{horizontal:d,isRtl:f}=e.options;s=d?n.scrollLeft*(f&&-1||1):n.scrollTop,o(),t(s,u)},l=i(!0),c=i(!1);return c(),n.addEventListener("scroll",l,jf),n.addEventListener("scrollend",c,jf),()=>{n.removeEventListener("scroll",l),n.removeEventListener("scrollend",c)}},zS=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},US=(e,{adjustments:t=0,behavior:n},r)=>{var s,o;const i=e+t;(o=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||o.call(s,{[r.options.horizontal?"left":"top"]:i,behavior:n})};class WS{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(o=>{this._measureElement(o.target,o)})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var o;return(o=r())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:s=>{var o;return(o=r())==null?void 0:o.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:IS,rangeExtractor:VS,onChange:()=>{},measureElement:zS,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Os(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,o=new Map;for(let i=r-1;i>=0;i--){const l=n[i];if(s.has(l.lane))continue;const c=o.get(l.lane);if(c==null||l.end>c.end?o.set(l.lane,l):l.end<c.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=Os(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,s,o,i)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:o,enabled:i}),{key:!1}),this.getMeasurements=Os(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:o,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<n;d++){const f=o(d),h=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),g=h?h.end+this.options.gap:r+s,v=l.get(f),m=typeof v=="number"?v:this.options.estimateSize(d),b=g+m,y=h?h.lane:d%this.options.lanes;u[d]={index:d,start:g,size:m,end:b,key:f,lane:y}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Os(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,s)=>this.range=n.length>0&&r>0?GS({measurements:n,outerSize:r,scrollOffset:s}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Os(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,s,o)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:s,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),o=this.measurementsCache[s];if(!o)return;const i=o.key,l=this.elementsCache.get(i);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(i,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const o=this.itemSizeCache.get(s.key)??s.size,i=r-o;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,i,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Os(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let o=0,i=n.length;o<i;o++){const l=n[o],c=r[l];s.push(c)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return bc(r[Jm(0,r.length-1,s=>bc(r[s]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const s=this.getSize(),o=this.getScrollOffset();r==="auto"&&(n<=o?r="start":n>=o+s?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-s:r==="center"&&(n=n-s/2);const i=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-s;return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const o=this.getSize(),i=this.getScrollOffset();if(r==="auto")if(s.end>=i+o-this.options.scrollPaddingEnd)r="end";else if(s.start<=i+this.options.scrollPaddingStart)r="start";else return[i,r];const l=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,r);if(!o)return;const[i,l]=o;this._scrollToOffset(i,{adjustments:void 0,behavior:s}),s!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=bc(this.getOffsetForIndex(n,l));NS(u,this.getScrollOffset())||this.scrollToIndex(n,{align:l,behavior:s})}else this.scrollToIndex(n,{align:l,behavior:s})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;return r.length===0?s=this.options.paddingStart:s=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Jm=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,o=n(s);if(o<r)e=s+1;else if(o>r)t=s-1;else return s}return e>0?e-1:0};function GS({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=Jm(0,r,l=>e[l].start,n);let i=o;for(;i<r&&e[i].end<n+t;)i++;return{startIndex:o,endIndex:i}}const KS=typeof document<"u"?ke.useLayoutEffect:ke.useEffect;function qS(e){const t=ke.useReducer(()=>({}),{})[1],n={...e,onChange:(s,o)=>{var i;o?$t.flushSync(t):t(),(i=e.onChange)==null||i.call(e,s,o)}},[r]=ke.useState(()=>new WS(n));return r.setOptions(n),ke.useEffect(()=>r._didMount(),[]),KS(()=>r._willUpdate()),r}function YS(e){return qS({observeElementRect:HS,observeElementOffset:FS,scrollToFn:US,...e})}var XS=Object.defineProperty,ZS=(e,t,n)=>t in e?XS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yc=(e,t,n)=>(ZS(e,typeof t!="symbol"?t+"":t,n),n);let JS=class{constructor(){yc(this,"current",this.detect()),yc(this,"handoffState","pending"),yc(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},hr=new JS,Ee=(e,t)=>{hr.isServer?p.useEffect(e,t):p.useLayoutEffect(e,t)};function dt(e){let t=p.useRef(e);return Ee(()=>{t.current=e},[e]),t}function xi(e,t){let[n,r]=p.useState(e),s=dt(e);return Ee(()=>r(s.current),[s,r,...t]),n}let q=function(e){let t=dt(e);return p.useCallback((...n)=>t.current(...n),[t])};function yl(e,t,n){let[r,s]=p.useState(n),o=e!==void 0,i=p.useRef(o),l=p.useRef(!1),c=p.useRef(!1);return o&&!i.current&&!l.current?(l.current=!0,i.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&i.current&&!c.current&&(c.current=!0,i.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:r,q(u=>(o||s(u),t==null?void 0:t(u)))]}function wi(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function pn(){let e=[],t={addEventListener(n,r,s,o){return n.addEventListener(r,s,o),t.add(()=>n.removeEventListener(r,s,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return wi(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=pn();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function fn(){let[e]=p.useState(pn);return p.useEffect(()=>()=>e.dispose(),[e]),e}function QS(){let e=typeof document>"u";return"useSyncExternalStore"in ke?(t=>t.useSyncExternalStore)(ke)(()=>()=>{},()=>!1,()=>!e):!1}function so(){let e=QS(),[t,n]=ke.useState(hr.isHandoffComplete);return t&&hr.isHandoffComplete===!1&&n(!1),ke.useEffect(()=>{t!==!0&&n(!0)},[t]),ke.useEffect(()=>hr.handoff(),[]),e?!1:t}var Cf;let Fe=(Cf=p.useId)!=null?Cf:function(){let e=so(),[t,n]=p.useState(e?()=>hr.nextId():null);return Ee(()=>{t===null&&n(hr.nextId())},[t]),t!=null?""+t:void 0};function be(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,be),r}function Vr(e){return hr.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Tu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Be=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Be||{}),Sn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Sn||{}),ej=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(ej||{});function xl(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Tu)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var wl=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(wl||{});function Ed(e,t=0){var n;return e===((n=Vr(e))==null?void 0:n.body)?!1:be(t,{0(){return e.matches(Tu)},1(){let r=e;for(;r!==null;){if(r.matches(Tu))return!0;r=r.parentElement}return!1}})}var tj=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(tj||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function es(e){e==null||e.focus({preventScroll:!0})}let nj=["textarea","input"].join(",");function rj(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,nj))!=null?n:!1}function cr(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),o=t(r);if(s===null||o===null)return 0;let i=s.compareDocumentPosition(o);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ut(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?n?cr(e):e:xl(e);s.length>0&&i.length>1&&(i=i.filter(g=>!s.includes(g))),r=r??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(r))-1;if(t&4)return Math.max(0,i.indexOf(r))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=i.length,h;do{if(d>=f||d+f<=0)return 0;let g=c+d;if(t&16)g=(g+f)%f;else{if(g<0)return 3;if(g>=f)return 1}h=i[g],h==null||h.focus(u),d+=l}while(h!==o.activeElement);return t&6&&rj(h)&&h.select(),2}function Qm(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function sj(){return/Android/gi.test(window.navigator.userAgent)}function e1(){return Qm()||sj()}function Ui(e,t,n){let r=dt(t);p.useEffect(()=>{function s(o){r.current(o)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[e,n])}function t1(e,t,n){let r=dt(t);p.useEffect(()=>{function s(o){r.current(o)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[e,n])}function Sl(e,t,n=!0){let r=p.useRef(!1);p.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function s(i,l){if(!r.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!Ed(c,wl.Loose)&&c.tabIndex!==-1&&i.preventDefault(),t(i,c)}let o=p.useRef(null);Ui("pointerdown",i=>{var l,c;r.current&&(o.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Ui("mousedown",i=>{var l,c;r.current&&(o.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Ui("click",i=>{e1()||o.current&&(s(i,()=>o.current),o.current=null)},!0),Ui("touchend",i=>s(i,()=>i.target instanceof HTMLElement?i.target:null),!0),t1("blur",i=>s(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function jr(...e){return p.useMemo(()=>Vr(...e),[...e])}function Ef(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function oo(e,t){let[n,r]=p.useState(()=>Ef(e));return Ee(()=>{r(Ef(e))},[e.type,e.as]),Ee(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let n1=Symbol();function Pd(e,t=!0){return Object.assign(e,{[n1]:t})}function je(...e){let t=p.useRef(e);p.useEffect(()=>{t.current=e},[e]);let n=q(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[n1]))?void 0:n}function Pf(e){return[e.screenX,e.screenY]}function r1(){let e=p.useRef([-1,-1]);return{wasMoved(t){let n=Pf(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Pf(t)}}}function s1({container:e,accept:t,walk:n,enabled:r=!0}){let s=p.useRef(t),o=p.useRef(n);p.useEffect(()=>{s.current=t,o.current=n},[t,n]),Ee(()=>{if(!e||!r)return;let i=Vr(e);if(!i)return;let l=s.current,c=o.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[e,r,s,o])}function ri(e,t){let n=p.useRef([]),r=q(e);p.useEffect(()=>{let s=[...n.current];for(let[o,i]of t.entries())if(n.current[o]!==i){let l=r(t,s);return n.current=t,l}},[r,...t])}function Da(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Et=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Et||{}),Mr=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Mr||{});function xe({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:o=!0,name:i,mergeRefs:l}){l=l??oj;let c=o1(t,e);if(o)return Wi(c,n,r,i,l);let u=s??0;if(u&2){let{static:d=!1,...f}=c;if(d)return Wi(f,n,r,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return be(d?0:1,{0(){return null},1(){return Wi({...f,hidden:!0,style:{display:"none"}},n,r,i,l)}})}return Wi(c,n,r,i,l)}function Wi(e,t={},n,r,s){let{as:o=n,children:i,refName:l="ref",...c}=xc(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof i=="function"?i(t):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let f={};if(t){let h=!1,g=[];for(let[v,m]of Object.entries(t))typeof m=="boolean"&&(h=!0),m===!0&&g.push(v);h&&(f["data-headlessui-state"]=g.join(" "))}if(o===p.Fragment&&Object.keys(Ys(c)).length>0){if(!p.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let h=d.props,g=typeof(h==null?void 0:h.className)=="function"?(...m)=>Da(h==null?void 0:h.className(...m),c.className):Da(h==null?void 0:h.className,c.className),v=g?{className:g}:{};return p.cloneElement(d,Object.assign({},o1(d.props,Ys(xc(c,["ref"]))),f,u,{ref:s(d.ref,u.ref)},v))}return p.createElement(o,Object.assign({},xc(c,["ref"]),o!==p.Fragment&&u,o!==p.Fragment&&f),d)}function Od(){let e=p.useRef([]),t=p.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function oj(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function o1(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](s,...o){let i=n[r];for(let l of i){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...o)}}});return t}function we(e){var t;return Object.assign(p.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ys(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function xc(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let ij="div";var Kt=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Kt||{});function aj(e,t){var n;let{features:r=1,...s}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return xe({ourProps:o,theirProps:s,slot:{},defaultTag:ij,name:"Hidden"})}let qt=we(aj),_d=p.createContext(null);_d.displayName="OpenClosedContext";var Ve=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ve||{});function Hr(){return p.useContext(_d)}function Si({value:e,children:t}){return p.createElement(_d.Provider,{value:e},t)}function lj(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Hn=[];lj(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Hn[0]!==t.target&&(Hn.unshift(t.target),Hn=Hn.filter(n=>n!=null&&n.isConnected),Hn.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function br(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&cj(n)?!1:r}function cj(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function uj(e){throw new Error("Unexpected object: "+e)}var De=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(De||{});function Au(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),s=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{for(let o=s-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=s+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:uj(e)}}function jl(e={},t=null,n=[]){for(let[r,s]of Object.entries(e))a1(n,i1(t,r),s);return n}function i1(e,t){return e?e+"["+t+"]":t}function a1(e,t,n){if(Array.isArray(n))for(let[r,s]of n.entries())a1(e,i1(t,r.toString()),s);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):jl(n,t,e)}function l1(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let s of r.elements)if(s!==e&&(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image")){s.click();return}(n=r.requestSubmit)==null||n.call(r)}}var ue=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ue||{}),dj=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(dj||{}),pj=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(pj||{}),fj=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(fj||{}),hj=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualOptions=7]="UpdateVirtualOptions",e))(hj||{});function wc(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),s=r.length>0&&r[0].dataRef.current.order!==null?r.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):cr(r,i=>i.dataRef.current.domRef.current),o=n?s.indexOf(n):null;return o===-1&&(o=null),{options:s,activeOptionIndex:o}}let gj={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0}}return{...e,comboboxState:0}},2(e,t){var n,r,s,o,i;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((s=e.dataRef.current)!=null&&s.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let d=t.focus===De.Specific?t.idx:Au(t,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var h,g;return(g=(h=e.activeOptionIndex)!=null?h:e.virtual.options.findIndex(v=>!e.virtual.disabled(v)))!=null?g:null},resolveDisabled:e.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===d&&e.activationTrigger===f?e:{...e,activeOptionIndex:d,activationTrigger:f}}let l=wc(e);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=t.focus===De.Specific?t.idx:Au(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===c&&e.activationTrigger===u?e:{...e,...l,activeOptionIndex:c,activationTrigger:u}},3:(e,t)=>{var n,r,s;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let o=t.payload,i=wc(e,c=>(c.push(o),c));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(o));let l={...e,...i,activationTrigger:2};return(s=e.dataRef.current)!=null&&s.__demoMode&&e.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(s=>s.id!==t.id)};let r=wc(e,s=>{let o=s.findIndex(i=>i.id===t.id);return o!==-1&&s.splice(o,1),s});return{...e,...r,activationTrigger:2}},5:(e,t)=>e.labelId===t.id?e:{...e,labelId:t.id},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n;if(((n=e.virtual)==null?void 0:n.options)===t.options)return e;let r=e.activeOptionIndex;if(e.activeOptionIndex!==null){let s=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);s!==-1?r=s:r=null}return{...e,activeOptionIndex:r,virtual:Object.assign({},e.virtual,{options:t.options})}}},Td=p.createContext(null);Td.displayName="ComboboxActionsContext";function ji(e){let t=p.useContext(Td);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ji),n}return t}let c1=p.createContext(null);function mj(e){var t;let n=vs("VirtualProvider"),[r,s]=p.useMemo(()=>{let c=n.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[n.optionsRef.current]),o=YS({scrollPaddingStart:r,scrollPaddingEnd:s,count:n.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=n.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=p.useState(0);return Ee(()=>{l(c=>c+1)},[(t=n.virtual)==null?void 0:t.options]),p.createElement(c1.Provider,{value:o},p.createElement("div",{style:{position:"relative",width:"100%",height:`${o.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&{NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.32"}.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&n.virtual.options.length>n.activeOptionIndex&&o.scrollToIndex(n.activeOptionIndex)}}},o.getVirtualItems().map(c=>{var u;return p.createElement(p.Fragment,{key:c.key},p.cloneElement((u=e.children)==null?void 0:u.call(e,{option:n.virtual.options[c.index],open:n.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":n.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let Ad=p.createContext(null);Ad.displayName="ComboboxDataContext";function vs(e){let t=p.useContext(Ad);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vs),n}return t}function vj(e,t){return be(t.type,gj,e,t)}let bj=p.Fragment;function yj(e,t){let{value:n,defaultValue:r,onChange:s,form:o,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:h=!1,virtual:g=null,...v}=e,m=!1,b=null,[y=f?[]:void 0,x]=yl(n,s,r),[w,S]=p.useReducer(vj,{dataRef:p.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),j=p.useRef(!1),C=p.useRef({static:!1,hold:!1}),O=p.useRef(null),E=p.useRef(null),T=p.useRef(null),_=p.useRef(null),M=q(typeof l=="string"?(Z,le)=>{let se=l;return(Z==null?void 0:Z[se])===(le==null?void 0:le[se])}:l??((Z,le)=>Z===le)),k=q(Z=>w.options.findIndex(le=>M(le.dataRef.current.value,Z))),B=p.useCallback(Z=>be(P.mode,{1:()=>y.some(le=>M(le,Z)),0:()=>M(y,Z)}),[y]),z=q(Z=>w.activeOptionIndex===k(Z)),P=p.useMemo(()=>({...w,immediate:m,optionsPropsRef:C,labelRef:O,inputRef:E,buttonRef:T,optionsRef:_,value:y,defaultValue:r,disabled:c,mode:f?1:0,virtual:w.virtual,get activeOptionIndex(){if(j.current&&w.activeOptionIndex===null&&w.options.length>0){let Z=w.options.findIndex(le=>!le.dataRef.current.disabled);if(Z!==-1)return Z}return w.activeOptionIndex},calculateIndex:k,compare:M,isSelected:B,isActive:z,nullable:d,__demoMode:u}),[y,r,c,f,d,u,w,b]);Ee(()=>{},[b,void 0]),Ee(()=>{w.dataRef.current=P},[P]),Sl([P.buttonRef,P.inputRef,P.optionsRef],()=>Q.closeCombobox(),P.comboboxState===0);let A=p.useMemo(()=>{var Z,le,se;return{open:P.comboboxState===0,disabled:c,activeIndex:P.activeOptionIndex,activeOption:P.activeOptionIndex===null?null:P.virtual?P.virtual.options[(Z=P.activeOptionIndex)!=null?Z:0]:(se=(le=P.options[P.activeOptionIndex])==null?void 0:le.dataRef.current.value)!=null?se:null,value:y}},[P,c,y]),$=q(()=>{if(P.activeOptionIndex!==null){if(P.virtual)ne(P.virtual.options[P.activeOptionIndex]);else{let{dataRef:Z}=P.options[P.activeOptionIndex];ne(Z.current.value)}Q.goToOption(De.Specific,P.activeOptionIndex)}}),N=q(()=>{S({type:0}),j.current=!0}),I=q(()=>{S({type:1}),j.current=!1}),V=q((Z,le,se)=>(j.current=!1,Z===De.Specific?S({type:2,focus:De.Specific,idx:le,trigger:se}):S({type:2,focus:Z,trigger:se}))),U=q((Z,le)=>(S({type:3,payload:{id:Z,dataRef:le}}),()=>{P.isActive(le.current.value)&&(j.current=!0),S({type:4,id:Z})})),X=q(Z=>(S({type:5,id:Z}),()=>S({type:5,id:null}))),ne=q(Z=>be(P.mode,{0(){return x==null?void 0:x(Z)},1(){let le=P.value.slice(),se=le.findIndex(me=>M(me,Z));return se===-1?le.push(Z):le.splice(se,1),x==null?void 0:x(le)}})),K=q(Z=>{S({type:6,trigger:Z})}),Q=p.useMemo(()=>({onChange:ne,registerOption:U,registerLabel:X,goToOption:V,closeCombobox:I,openCombobox:N,setActivationTrigger:K,selectActiveOption:$}),[]),ce=t===null?{}:{ref:t},te=p.useRef(null),G=fn();return p.useEffect(()=>{te.current&&r!==void 0&&G.addEventListener(te.current,"reset",()=>{x==null||x(r)})},[te,x]),p.createElement(Td.Provider,{value:Q},p.createElement(Ad.Provider,{value:P},p.createElement(Si,{value:be(P.comboboxState,{0:Ve.Open,1:Ve.Closed})},i!=null&&y!=null&&jl({[i]:y}).map(([Z,le],se)=>p.createElement(qt,{features:Kt.Hidden,ref:se===0?me=>{var ye;te.current=(ye=me==null?void 0:me.closest("form"))!=null?ye:null}:void 0,...Ys({key:Z,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:o,disabled:c,name:Z,value:le})})),xe({ourProps:ce,theirProps:v,slot:A,defaultTag:bj,name:"Combobox"}))))}let xj="input";function wj(e,t){var n,r,s,o,i;let l=Fe(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...h}=e,g=vs("Combobox.Input"),v=ji("Combobox.Input"),m=je(g.inputRef,t),b=jr(g.inputRef),y=p.useRef(!1),x=fn(),w=q(()=>{v.onChange(null),g.optionsRef.current&&(g.optionsRef.current.scrollTop=0),v.goToOption(De.Nothing)}),S=function(){var P;return typeof d=="function"&&g.value!==void 0?(P=d(g.value))!=null?P:"":typeof g.value=="string"?g.value:""}();ri(([P,A],[$,N])=>{if(y.current)return;let I=g.inputRef.current;I&&((N===0&&A===1||P!==$)&&(I.value=P),requestAnimationFrame(()=>{if(y.current||!I||(b==null?void 0:b.activeElement)!==I)return;let{selectionStart:V,selectionEnd:U}=I;Math.abs((U??0)-(V??0))===0&&V===0&&I.setSelectionRange(I.value.length,I.value.length)}))},[S,g.comboboxState,b]),ri(([P],[A])=>{if(P===0&&A===1){if(y.current)return;let $=g.inputRef.current;if(!$)return;let N=$.value,{selectionStart:I,selectionEnd:V,selectionDirection:U}=$;$.value="",$.value=N,U!==null?$.setSelectionRange(I,V,U):$.setSelectionRange(I,V)}},[g.comboboxState]);let j=p.useRef(!1),C=q(()=>{j.current=!0}),O=q(()=>{x.nextFrame(()=>{j.current=!1})}),E=q(P=>{switch(y.current=!0,P.key){case ue.Enter:if(y.current=!1,g.comboboxState!==0||j.current)return;if(P.preventDefault(),P.stopPropagation(),g.activeOptionIndex===null){v.closeCombobox();return}v.selectActiveOption(),g.mode===0&&v.closeCombobox();break;case ue.ArrowDown:return y.current=!1,P.preventDefault(),P.stopPropagation(),be(g.comboboxState,{0:()=>v.goToOption(De.Next),1:()=>v.openCombobox()});case ue.ArrowUp:return y.current=!1,P.preventDefault(),P.stopPropagation(),be(g.comboboxState,{0:()=>v.goToOption(De.Previous),1:()=>{v.openCombobox(),x.nextFrame(()=>{g.value||v.goToOption(De.Last)})}});case ue.Home:if(P.shiftKey)break;return y.current=!1,P.preventDefault(),P.stopPropagation(),v.goToOption(De.First);case ue.PageUp:return y.current=!1,P.preventDefault(),P.stopPropagation(),v.goToOption(De.First);case ue.End:if(P.shiftKey)break;return y.current=!1,P.preventDefault(),P.stopPropagation(),v.goToOption(De.Last);case ue.PageDown:return y.current=!1,P.preventDefault(),P.stopPropagation(),v.goToOption(De.Last);case ue.Escape:return y.current=!1,g.comboboxState!==0?void 0:(P.preventDefault(),g.optionsRef.current&&!g.optionsPropsRef.current.static&&P.stopPropagation(),g.nullable&&g.mode===0&&g.value===null&&w(),v.closeCombobox());case ue.Tab:if(y.current=!1,g.comboboxState!==0)return;g.mode===0&&g.activationTrigger!==1&&v.selectActiveOption(),v.closeCombobox();break}}),T=q(P=>{u==null||u(P),g.nullable&&g.mode===0&&P.target.value===""&&w(),v.openCombobox()}),_=q(P=>{var A,$,N;let I=(A=P.relatedTarget)!=null?A:Hn.find(V=>V!==P.currentTarget);if(y.current=!1,!(($=g.optionsRef.current)!=null&&$.contains(I))&&!((N=g.buttonRef.current)!=null&&N.contains(I))&&g.comboboxState===0)return P.preventDefault(),g.mode===0&&(g.nullable&&g.value===null?w():g.activationTrigger!==1&&v.selectActiveOption()),v.closeCombobox()}),M=q(P=>{var A,$,N;let I=(A=P.relatedTarget)!=null?A:Hn.find(V=>V!==P.currentTarget);($=g.buttonRef.current)!=null&&$.contains(I)||(N=g.optionsRef.current)!=null&&N.contains(I)||g.disabled||g.immediate&&g.comboboxState!==0&&(v.openCombobox(),x.nextFrame(()=>{v.setActivationTrigger(1)}))}),k=xi(()=>{if(g.labelId)return[g.labelId].join(" ")},[g.labelId]),B=p.useMemo(()=>({open:g.comboboxState===0,disabled:g.disabled}),[g]),z={ref:m,id:c,role:"combobox",type:f,"aria-controls":(n=g.optionsRef.current)==null?void 0:n.id,"aria-expanded":g.comboboxState===0,"aria-activedescendant":g.activeOptionIndex===null?void 0:g.virtual?(r=g.options.find(P=>{var A;return!((A=g.virtual)!=null&&A.disabled(P.dataRef.current.value))&&g.compare(P.dataRef.current.value,g.virtual.options[g.activeOptionIndex])}))==null?void 0:r.id:(s=g.options[g.activeOptionIndex])==null?void 0:s.id,"aria-labelledby":k,"aria-autocomplete":"list",defaultValue:(i=(o=e.defaultValue)!=null?o:g.defaultValue!==void 0?d==null?void 0:d(g.defaultValue):null)!=null?i:g.defaultValue,disabled:g.disabled,onCompositionStart:C,onCompositionEnd:O,onKeyDown:E,onChange:T,onFocus:M,onBlur:_};return xe({ourProps:z,theirProps:h,slot:B,defaultTag:xj,name:"Combobox.Input"})}let Sj="button";function jj(e,t){var n;let r=vs("Combobox.Button"),s=ji("Combobox.Button"),o=je(r.buttonRef,t),i=Fe(),{id:l=`headlessui-combobox-button-${i}`,...c}=e,u=fn(),d=q(m=>{switch(m.key){case ue.ArrowDown:return m.preventDefault(),m.stopPropagation(),r.comboboxState===1&&s.openCombobox(),u.nextFrame(()=>{var b;return(b=r.inputRef.current)==null?void 0:b.focus({preventScroll:!0})});case ue.ArrowUp:return m.preventDefault(),m.stopPropagation(),r.comboboxState===1&&(s.openCombobox(),u.nextFrame(()=>{r.value||s.goToOption(De.Last)})),u.nextFrame(()=>{var b;return(b=r.inputRef.current)==null?void 0:b.focus({preventScroll:!0})});case ue.Escape:return r.comboboxState!==0?void 0:(m.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&m.stopPropagation(),s.closeCombobox(),u.nextFrame(()=>{var b;return(b=r.inputRef.current)==null?void 0:b.focus({preventScroll:!0})}));default:return}}),f=q(m=>{if(br(m.currentTarget))return m.preventDefault();r.comboboxState===0?s.closeCombobox():(m.preventDefault(),s.openCombobox()),u.nextFrame(()=>{var b;return(b=r.inputRef.current)==null?void 0:b.focus({preventScroll:!0})})}),h=xi(()=>{if(r.labelId)return[r.labelId,l].join(" ")},[r.labelId,l]),g=p.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),v={ref:o,id:l,type:oo(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":h,disabled:r.disabled,onClick:f,onKeyDown:d};return xe({ourProps:v,theirProps:c,slot:g,defaultTag:Sj,name:"Combobox.Button"})}let Cj="label";function Ej(e,t){let n=Fe(),{id:r=`headlessui-combobox-label-${n}`,...s}=e,o=vs("Combobox.Label"),i=ji("Combobox.Label"),l=je(o.labelRef,t);Ee(()=>i.registerLabel(r),[r]);let c=q(()=>{var d;return(d=o.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=p.useMemo(()=>({open:o.comboboxState===0,disabled:o.disabled}),[o]);return xe({ourProps:{ref:l,id:r,onClick:c},theirProps:s,slot:u,defaultTag:Cj,name:"Combobox.Label"})}let Pj="ul",Oj=Et.RenderStrategy|Et.Static;function _j(e,t){let n=Fe(),{id:r=`headlessui-combobox-options-${n}`,hold:s=!1,...o}=e,i=vs("Combobox.Options"),l=je(i.optionsRef,t),c=Hr(),u=(()=>c!==null?(c&Ve.Open)===Ve.Open:i.comboboxState===0)();Ee(()=>{var g;i.optionsPropsRef.current.static=(g=e.static)!=null?g:!1},[i.optionsPropsRef,e.static]),Ee(()=>{i.optionsPropsRef.current.hold=s},[i.optionsPropsRef,s]),s1({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(g){return g.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:g.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(g){g.setAttribute("role","none")}});let d=xi(()=>{var g,v;return(v=i.labelId)!=null?v:(g=i.buttonRef.current)==null?void 0:g.id},[i.labelId,i.buttonRef.current]),f=p.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),h={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:r,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(o,{children:p.createElement(mj,null,o.children)}),xe({ourProps:h,theirProps:o,slot:f,defaultTag:Pj,features:Oj,visible:u,name:"Combobox.Options"})}let Tj="li";function Aj(e,t){var n;let r=Fe(),{id:s=`headlessui-combobox-option-${r}`,disabled:o=!1,value:i,order:l=null,...c}=e,u=vs("Combobox.Option"),d=ji("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((n=u.options[u.activeOptionIndex])==null?void 0:n.id)===s,h=u.isSelected(i),g=p.useRef(null),v=dt({disabled:o,value:i,domRef:g,order:l}),m=p.useContext(c1),b=je(t,g,m?m.measureElement:null),y=q(()=>d.onChange(i));Ee(()=>d.registerOption(s,v),[v,s]);let x=p.useRef(!(u.virtual||u.__demoMode));Ee(()=>{if(!u.virtual||!u.__demoMode)return;let _=pn();return _.requestAnimationFrame(()=>{x.current=!0}),_.dispose},[u.virtual,u.__demoMode]),Ee(()=>{if(!x.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let _=pn();return _.requestAnimationFrame(()=>{var M,k;(k=(M=g.current)==null?void 0:M.scrollIntoView)==null||k.call(M,{block:"nearest"})}),_.dispose},[g,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let w=q(_=>{var M;if(o||(M=u.virtual)!=null&&M.disabled(i))return _.preventDefault();y(),e1()||requestAnimationFrame(()=>{var k;return(k=u.inputRef.current)==null?void 0:k.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),S=q(()=>{var _;if(o||(_=u.virtual)!=null&&_.disabled(i))return d.goToOption(De.Nothing);let M=u.calculateIndex(i);d.goToOption(De.Specific,M)}),j=r1(),C=q(_=>j.update(_)),O=q(_=>{var M;if(!j.wasMoved(_)||o||(M=u.virtual)!=null&&M.disabled(i)||f)return;let k=u.calculateIndex(i);d.goToOption(De.Specific,k,0)}),E=q(_=>{var M;j.wasMoved(_)&&(o||(M=u.virtual)!=null&&M.disabled(i)||f&&(u.optionsPropsRef.current.hold||d.goToOption(De.Nothing)))}),T=p.useMemo(()=>({active:f,selected:h,disabled:o}),[f,h,o]);return xe({ourProps:{id:s,ref:b,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":h,disabled:void 0,onClick:w,onFocus:S,onPointerEnter:C,onMouseEnter:C,onPointerMove:O,onMouseMove:O,onPointerLeave:E,onMouseLeave:E},theirProps:c,slot:T,defaultTag:Tj,name:"Combobox.Option"})}let Mj=we(yj),Rj=we(jj),kj=we(wj),Lj=we(Ej),$j=we(_j),Nj=we(Aj),_s=Object.assign(Mj,{Input:kj,Button:Rj,Label:Lj,Options:$j,Option:Nj});function Md(e,t,n,r){let s=dt(n);p.useEffect(()=>{e=e??window;function o(i){s.current(i)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function io(){let e=p.useRef(!1);return Ee(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function u1(e){let t=q(e),n=p.useRef(!1);p.useEffect(()=>(n.current=!1,()=>{n.current=!0,wi(()=>{n.current&&t()})}),[t])}var Wt=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Wt||{});function Rd(){let e=p.useRef(0);return t1("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function d1(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let Dj="div";var p1=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(p1||{});function Ij(e,t){let n=p.useRef(null),r=je(n,t),{initialFocus:s,containers:o,features:i=30,...l}=e;so()||(i=1);let c=jr(n);Bj({ownerDocument:c},!!(i&16));let u=Fj({ownerDocument:c,container:n,initialFocus:s},!!(i&2));zj({ownerDocument:c,container:n,containers:o,previousActiveElement:u},!!(i&8));let d=Rd(),f=q(m=>{let b=n.current;b&&(y=>y())(()=>{be(d.current,{[Wt.Forwards]:()=>{ut(b,Be.First,{skipElements:[m.relatedTarget]})},[Wt.Backwards]:()=>{ut(b,Be.Last,{skipElements:[m.relatedTarget]})}})})}),h=fn(),g=p.useRef(!1),v={ref:r,onKeyDown(m){m.key=="Tab"&&(g.current=!0,h.requestAnimationFrame(()=>{g.current=!1}))},onBlur(m){let b=d1(o);n.current instanceof HTMLElement&&b.add(n.current);let y=m.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(f1(b,y)||(g.current?ut(n.current,be(d.current,{[Wt.Forwards]:()=>Be.Next,[Wt.Backwards]:()=>Be.Previous})|Be.WrapAround,{relativeTo:m.target}):m.target instanceof HTMLElement&&es(m.target)))}};return p.createElement(p.Fragment,null,!!(i&4)&&p.createElement(qt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Kt.Focusable}),xe({ourProps:v,theirProps:l,defaultTag:Dj,name:"FocusTrap"}),!!(i&4)&&p.createElement(qt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Kt.Focusable}))}let Vj=we(Ij),So=Object.assign(Vj,{features:p1});function Hj(e=!0){let t=p.useRef(Hn.slice());return ri(([n],[r])=>{r===!0&&n===!1&&wi(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Hn.slice())},[e,Hn,t]),q(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Bj({ownerDocument:e},t){let n=Hj(t);ri(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&es(n())},[t]),u1(()=>{t&&es(n())})}function Fj({ownerDocument:e,container:t,initialFocus:n},r){let s=p.useRef(null),o=io();return ri(()=>{if(!r)return;let i=t.current;i&&wi(()=>{if(!o.current)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){s.current=l;return}}else if(i.contains(l)){s.current=l;return}n!=null&&n.current?es(n.current):ut(i,Be.First)===Sn.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=e==null?void 0:e.activeElement})},[r]),s}function zj({ownerDocument:e,container:t,containers:n,previousActiveElement:r},s){let o=io();Md(e==null?void 0:e.defaultView,"focus",i=>{if(!s||!o.current)return;let l=d1(n);t.current instanceof HTMLElement&&l.add(t.current);let c=r.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?f1(l,u)?(r.current=u,es(u)):(i.preventDefault(),i.stopPropagation(),es(c)):es(r.current)},!0)}function f1(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let h1=p.createContext(!1);function Uj(){return p.useContext(h1)}function Mu(e){return p.createElement(h1.Provider,{value:e.force},e.children)}function Wj(e){let t=Uj(),n=p.useContext(g1),r=jr(e),[s,o]=p.useState(()=>{if(!t&&n!==null||hr.isServer)return null;let i=r==null?void 0:r.getElementById("headlessui-portal-root");if(i)return i;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return p.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),p.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),s}let Gj=p.Fragment;function Kj(e,t){let n=e,r=p.useRef(null),s=je(Pd(d=>{r.current=d}),t),o=jr(r),i=Wj(r),[l]=p.useState(()=>{var d;return hr.isServer?null:(d=o==null?void 0:o.createElement("div"))!=null?d:null}),c=p.useContext(Ru),u=so();return Ee(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),Ee(()=>{if(l&&c)return c.register(l)},[c,l]),u1(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:$t.createPortal(xe({ourProps:{ref:s},theirProps:n,defaultTag:Gj,name:"Portal"}),l):null}let qj=p.Fragment,g1=p.createContext(null);function Yj(e,t){let{target:n,...r}=e,s={ref:je(t)};return p.createElement(g1.Provider,{value:n},xe({ourProps:s,theirProps:r,defaultTag:qj,name:"Popover.Group"}))}let Ru=p.createContext(null);function m1(){let e=p.useContext(Ru),t=p.useRef([]),n=q(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=q(o=>{let i=t.current.indexOf(o);i!==-1&&t.current.splice(i,1),e&&e.unregister(o)}),s=p.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,p.useMemo(()=>function({children:o}){return p.createElement(Ru.Provider,{value:s},o)},[s])]}let Xj=we(Kj),Zj=we(Yj),ku=Object.assign(Xj,{Group:Zj});function Jj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Qj=typeof Object.is=="function"?Object.is:Jj,{useState:e2,useEffect:t2,useLayoutEffect:n2,useDebugValue:r2}=ke;function s2(e,t,n){const r=t(),[{inst:s},o]=e2({inst:{value:r,getSnapshot:t}});return n2(()=>{s.value=r,s.getSnapshot=t,Sc(s)&&o({inst:s})},[e,r,t]),t2(()=>(Sc(s)&&o({inst:s}),e(()=>{Sc(s)&&o({inst:s})})),[e]),r2(r),r}function Sc(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!Qj(n,r)}catch{return!0}}function o2(e,t,n){return t()}const i2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a2=!i2,l2=a2?o2:s2,c2="useSyncExternalStore"in ke?(e=>e.useSyncExternalStore)(ke):l2;function u2(e){return c2(e.subscribe,e.getSnapshot,e.getSnapshot)}function d2(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...o){let i=t[s].call(n,...o);i&&(n=i,r.forEach(l=>l()))}}}function p2(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,s=r.clientWidth-r.offsetWidth,o=e-s;n.style(r,"paddingRight",`${o}px`)}}}function f2(){return Qm()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(o=>o()).some(o=>o.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=pn();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,i=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);d&&!r(d)&&(i=d)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;o!==c&&window.scrollTo(0,o),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function h2(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function g2(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Jr=d2(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:pn(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:g2(n)},s=[f2(),p2(),h2()];s.forEach(({before:o})=>o==null?void 0:o(r)),s.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Jr.subscribe(()=>{let e=Jr.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Jr.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Jr.dispatch("TEARDOWN",n)}});function m2(e,t,n){let r=u2(Jr),s=e?r.get(e):void 0,o=s?s.count>0:!1;return Ee(()=>{if(!(!e||!t))return Jr.dispatch("PUSH",e,n),()=>Jr.dispatch("POP",e,n)},[t,e]),o}let jc=new Map,jo=new Map;function Of(e,t=!0){Ee(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function s(){var i;if(!r)return;let l=(i=jo.get(r))!=null?i:1;if(l===1?jo.delete(r):jo.set(r,l-1),l!==1)return;let c=jc.get(r);c&&(c["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",c["aria-hidden"]),r.inert=c.inert,jc.delete(r))}let o=(n=jo.get(r))!=null?n:0;return jo.set(r,o+1),o!==0||(jc.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),s},[e,t])}function v1({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let s=p.useRef((r=n==null?void 0:n.current)!=null?r:null),o=jr(s),i=q(()=>{var l,c,u;let d=[];for(let f of e)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(t!=null&&t.current)for(let f of t.current)d.push(f);for(let f of(l=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(s.current)||f.contains((u=(c=s.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(h=>f.contains(h))||d.push(f));return d});return{resolveContainers:i,contains:q(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:s,MainTreeNode:p.useMemo(()=>function(){return n!=null?null:p.createElement(qt,{features:Kt.Hidden,ref:s})},[s,n])}}function v2(){let e=p.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:p.useMemo(()=>function(){return p.createElement(qt,{features:Kt.Hidden,ref:e})},[e])}}let kd=p.createContext(()=>{});kd.displayName="StackContext";var Lu=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Lu||{});function b2(){return p.useContext(kd)}function y2({children:e,onUpdate:t,type:n,element:r,enabled:s}){let o=b2(),i=q((...l)=>{t==null||t(...l),o(...l)});return Ee(()=>{let l=s===void 0||s===!0;return l&&i(0,n,r),()=>{l&&i(1,n,r)}},[i,n,r,s]),p.createElement(kd.Provider,{value:i},e)}let b1=p.createContext(null);function y1(){let e=p.useContext(b1);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,y1),t}return e}function Cl(){let[e,t]=p.useState([]);return[e.length>0?e.join(" "):void 0,p.useMemo(()=>function(n){let r=q(o=>(t(i=>[...i,o]),()=>t(i=>{let l=i.slice(),c=l.indexOf(o);return c!==-1&&l.splice(c,1),l}))),s=p.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return p.createElement(b1.Provider,{value:s},n.children)},[t])]}let x2="p";function w2(e,t){let n=Fe(),{id:r=`headlessui-description-${n}`,...s}=e,o=y1(),i=je(t);Ee(()=>o.register(r),[r,o.register]);let l={ref:i,...o.props,id:r};return xe({ourProps:l,theirProps:s,slot:o.slot||{},defaultTag:x2,name:o.name||"Description"})}let S2=we(w2),Ld=Object.assign(S2,{});var j2=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(j2||{}),C2=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(C2||{});let E2={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Ia=p.createContext(null);Ia.displayName="DialogContext";function Ci(e){let t=p.useContext(Ia);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ci),n}return t}function P2(e,t,n=()=>[document.body]){m2(e,t,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],n]}})}function O2(e,t){return be(t.type,E2,e,t)}let _2="div",T2=Et.RenderStrategy|Et.Static;function A2(e,t){let n=Fe(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:o,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=e,[d,f]=p.useState(0),h=p.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(h.current||(h.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=Hr();s===void 0&&g!==null&&(s=(g&Ve.Open)===Ve.Open);let v=p.useRef(null),m=je(v,t),b=jr(v),y=e.hasOwnProperty("open")||g!==null,x=e.hasOwnProperty("onClose");if(!y&&!x)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!y)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!x)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let w=s?0:1,[S,j]=p.useReducer(O2,{titleId:null,descriptionId:null,panelRef:p.createRef()}),C=q(()=>o(!1)),O=q(se=>j({type:0,id:se})),E=so()?c?!1:w===0:!1,T=d>1,_=p.useContext(Ia)!==null,[M,k]=m1(),B={get current(){var se;return(se=S.panelRef.current)!=null?se:v.current}},{resolveContainers:z,mainTreeNodeRef:P,MainTreeNode:A}=v1({portals:M,defaultContainers:[B]}),$=T?"parent":"leaf",N=g!==null?(g&Ve.Closing)===Ve.Closing:!1,I=(()=>_||N?!1:E)(),V=p.useCallback(()=>{var se,me;return(me=Array.from((se=b==null?void 0:b.querySelectorAll("body > *"))!=null?se:[]).find(ye=>ye.id==="headlessui-portal-root"?!1:ye.contains(P.current)&&ye instanceof HTMLElement))!=null?me:null},[P]);Of(V,I);let U=(()=>T?!0:E)(),X=p.useCallback(()=>{var se,me;return(me=Array.from((se=b==null?void 0:b.querySelectorAll("[data-headlessui-portal]"))!=null?se:[]).find(ye=>ye.contains(P.current)&&ye instanceof HTMLElement))!=null?me:null},[P]);Of(X,U);let ne=(()=>!(!E||T))();Sl(z,se=>{se.preventDefault(),C()},ne);let K=(()=>!(T||w!==0))();Md(b==null?void 0:b.defaultView,"keydown",se=>{K&&(se.defaultPrevented||se.key===ue.Escape&&(se.preventDefault(),se.stopPropagation(),C()))});let Q=(()=>!(N||w!==0||_))();P2(b,Q,z),p.useEffect(()=>{if(w!==0||!v.current)return;let se=new ResizeObserver(me=>{for(let ye of me){let Ze=ye.target.getBoundingClientRect();Ze.x===0&&Ze.y===0&&Ze.width===0&&Ze.height===0&&C()}});return se.observe(v.current),()=>se.disconnect()},[w,v,C]);let[ce,te]=Cl(),G=p.useMemo(()=>[{dialogState:w,close:C,setTitleId:O},S],[w,S,C,O]),Z=p.useMemo(()=>({open:w===0}),[w]),le={ref:m,id:r,role:l,"aria-modal":w===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":ce};return p.createElement(y2,{type:"Dialog",enabled:w===0,element:v,onUpdate:q((se,me)=>{me==="Dialog"&&be(se,{[Lu.Add]:()=>f(ye=>ye+1),[Lu.Remove]:()=>f(ye=>ye-1)})})},p.createElement(Mu,{force:!0},p.createElement(ku,null,p.createElement(Ia.Provider,{value:G},p.createElement(ku.Group,{target:v},p.createElement(Mu,{force:!1},p.createElement(te,{slot:Z,name:"Dialog.Description"},p.createElement(So,{initialFocus:i,containers:z,features:E?be($,{parent:So.features.RestoreFocus,leaf:So.features.All&~So.features.FocusLock}):So.features.None},p.createElement(k,null,xe({ourProps:le,theirProps:u,slot:Z,defaultTag:_2,features:T2,visible:w===0,name:"Dialog"}))))))))),p.createElement(A,null))}let M2="div";function R2(e,t){let n=Fe(),{id:r=`headlessui-dialog-overlay-${n}`,...s}=e,[{dialogState:o,close:i}]=Ci("Dialog.Overlay"),l=je(t),c=q(d=>{if(d.target===d.currentTarget){if(br(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=p.useMemo(()=>({open:o===0}),[o]);return xe({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:c},theirProps:s,slot:u,defaultTag:M2,name:"Dialog.Overlay"})}let k2="div";function L2(e,t){let n=Fe(),{id:r=`headlessui-dialog-backdrop-${n}`,...s}=e,[{dialogState:o},i]=Ci("Dialog.Backdrop"),l=je(t);p.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=p.useMemo(()=>({open:o===0}),[o]);return p.createElement(Mu,{force:!0},p.createElement(ku,null,xe({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:s,slot:c,defaultTag:k2,name:"Dialog.Backdrop"})))}let $2="div";function N2(e,t){let n=Fe(),{id:r=`headlessui-dialog-panel-${n}`,...s}=e,[{dialogState:o},i]=Ci("Dialog.Panel"),l=je(t,i.panelRef),c=p.useMemo(()=>({open:o===0}),[o]),u=q(d=>{d.stopPropagation()});return xe({ourProps:{ref:l,id:r,onClick:u},theirProps:s,slot:c,defaultTag:$2,name:"Dialog.Panel"})}let D2="h2";function I2(e,t){let n=Fe(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:o,setTitleId:i}]=Ci("Dialog.Title"),l=je(t);p.useEffect(()=>(i(r),()=>i(null)),[r,i]);let c=p.useMemo(()=>({open:o===0}),[o]);return xe({ourProps:{ref:l,id:r},theirProps:s,slot:c,defaultTag:D2,name:"Dialog.Title"})}let V2=we(A2),H2=we(L2),B2=we(N2),F2=we(R2),z2=we(I2),Co=Object.assign(V2,{Backdrop:H2,Panel:B2,Overlay:F2,Title:z2,Description:Ld});var _f;let U2=(_f=p.startTransition)!=null?_f:function(e){e()};var W2=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(W2||{}),G2=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(G2||{});let K2={0:e=>({...e,disclosureState:be(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},$d=p.createContext(null);$d.displayName="DisclosureContext";function Nd(e){let t=p.useContext($d);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Nd),n}return t}let Dd=p.createContext(null);Dd.displayName="DisclosureAPIContext";function x1(e){let t=p.useContext(Dd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,x1),n}return t}let Id=p.createContext(null);Id.displayName="DisclosurePanelContext";function q2(){return p.useContext(Id)}function Y2(e,t){return be(t.type,K2,e,t)}let X2=p.Fragment;function Z2(e,t){let{defaultOpen:n=!1,...r}=e,s=p.useRef(null),o=je(t,Pd(b=>{s.current=b},e.as===void 0||e.as===p.Fragment)),i=p.useRef(null),l=p.useRef(null),c=p.useReducer(Y2,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:l,panelRef:i,buttonId:null,panelId:null}),[{disclosureState:u,buttonId:d},f]=c,h=q(b=>{f({type:1});let y=Vr(s);if(!y||!d)return;let x=(()=>b?b instanceof HTMLElement?b:b.current instanceof HTMLElement?b.current:y.getElementById(d):y.getElementById(d))();x==null||x.focus()}),g=p.useMemo(()=>({close:h}),[h]),v=p.useMemo(()=>({open:u===0,close:h}),[u,h]),m={ref:o};return p.createElement($d.Provider,{value:c},p.createElement(Dd.Provider,{value:g},p.createElement(Si,{value:be(u,{0:Ve.Open,1:Ve.Closed})},xe({ourProps:m,theirProps:r,slot:v,defaultTag:X2,name:"Disclosure"}))))}let J2="button";function Q2(e,t){let n=Fe(),{id:r=`headlessui-disclosure-button-${n}`,...s}=e,[o,i]=Nd("Disclosure.Button"),l=q2(),c=l===null?!1:l===o.panelId,u=p.useRef(null),d=je(u,t,c?null:o.buttonRef),f=Od();p.useEffect(()=>{if(!c)return i({type:2,buttonId:r}),()=>{i({type:2,buttonId:null})}},[r,i,c]);let h=q(x=>{var w;if(c){if(o.disclosureState===1)return;switch(x.key){case ue.Space:case ue.Enter:x.preventDefault(),x.stopPropagation(),i({type:0}),(w=o.buttonRef.current)==null||w.focus();break}}else switch(x.key){case ue.Space:case ue.Enter:x.preventDefault(),x.stopPropagation(),i({type:0});break}}),g=q(x=>{switch(x.key){case ue.Space:x.preventDefault();break}}),v=q(x=>{var w;br(x.currentTarget)||e.disabled||(c?(i({type:0}),(w=o.buttonRef.current)==null||w.focus()):i({type:0}))}),m=p.useMemo(()=>({open:o.disclosureState===0}),[o]),b=oo(e,u),y=c?{ref:d,type:b,onKeyDown:h,onClick:v}:{ref:d,id:r,type:b,"aria-expanded":o.disclosureState===0,"aria-controls":o.linkedPanel?o.panelId:void 0,onKeyDown:h,onKeyUp:g,onClick:v};return xe({mergeRefs:f,ourProps:y,theirProps:s,slot:m,defaultTag:J2,name:"Disclosure.Button"})}let eC="div",tC=Et.RenderStrategy|Et.Static;function nC(e,t){let n=Fe(),{id:r=`headlessui-disclosure-panel-${n}`,...s}=e,[o,i]=Nd("Disclosure.Panel"),{close:l}=x1("Disclosure.Panel"),c=Od(),u=je(t,o.panelRef,v=>{U2(()=>i({type:v?4:5}))});p.useEffect(()=>(i({type:3,panelId:r}),()=>{i({type:3,panelId:null})}),[r,i]);let d=Hr(),f=(()=>d!==null?(d&Ve.Open)===Ve.Open:o.disclosureState===0)(),h=p.useMemo(()=>({open:o.disclosureState===0,close:l}),[o,l]),g={ref:u,id:r};return p.createElement(Id.Provider,{value:o.panelId},xe({mergeRefs:c,ourProps:g,theirProps:s,slot:h,defaultTag:eC,features:tC,visible:f,name:"Disclosure.Panel"}))}let rC=we(Z2),sC=we(Q2),oC=we(nC),Cc=Object.assign(rC,{Button:sC,Panel:oC}),Tf=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Af(e){var t,n;let r=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return r;let o=!1;for(let l of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),o=!0;let i=o?(n=s.innerText)!=null?n:"":r;return Tf.test(i)&&(i=i.replace(Tf,"")),i}function iC(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let i=o.getAttribute("aria-label");return typeof i=="string"?i.trim():Af(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Af(e).trim()}function aC(e){let t=p.useRef(""),n=p.useRef("");return q(()=>{let r=e.current;if(!r)return"";let s=r.innerText;if(t.current===s)return n.current;let o=iC(r).trim().toLowerCase();return t.current=s,n.current=o,o})}var lC=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(lC||{}),cC=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(cC||{}),uC=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(uC||{}),dC=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(dC||{});function Ec(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=cr(t(e.options.slice()),o=>o.dataRef.current.domRef.current),s=n?r.indexOf(n):null;return s===-1&&(s=null),{options:r,activeOptionIndex:s}}let pC={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(s=>n(s.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=Ec(e),s=Au(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:s,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),s=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(i=>{var l;return!i.dataRef.current.disabled&&((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(r))}),o=s?e.options.indexOf(s):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=Ec(e,s=>[...s,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=Ec(e,r=>{let s=r.findIndex(o=>o.id===t.id);return s!==-1&&r.splice(s,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},Vd=p.createContext(null);Vd.displayName="ListboxActionsContext";function Ei(e){let t=p.useContext(Vd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ei),n}return t}let Hd=p.createContext(null);Hd.displayName="ListboxDataContext";function Pi(e){let t=p.useContext(Hd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pi),n}return t}function fC(e,t){return be(t.type,pC,e,t)}let hC=p.Fragment;function gC(e,t){let{value:n,defaultValue:r,form:s,name:o,onChange:i,by:l=(K,Q)=>K===Q,disabled:c=!1,horizontal:u=!1,multiple:d=!1,...f}=e;const h=u?"horizontal":"vertical";let g=je(t),[v=d?[]:void 0,m]=yl(n,i,r),[b,y]=p.useReducer(fC,{dataRef:p.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),x=p.useRef({static:!1,hold:!1}),w=p.useRef(null),S=p.useRef(null),j=p.useRef(null),C=q(typeof l=="string"?(K,Q)=>{let ce=l;return(K==null?void 0:K[ce])===(Q==null?void 0:Q[ce])}:l),O=p.useCallback(K=>be(E.mode,{1:()=>v.some(Q=>C(Q,K)),0:()=>C(v,K)}),[v]),E=p.useMemo(()=>({...b,value:v,disabled:c,mode:d?1:0,orientation:h,compare:C,isSelected:O,optionsPropsRef:x,labelRef:w,buttonRef:S,optionsRef:j}),[v,c,d,b]);Ee(()=>{b.dataRef.current=E},[E]),Sl([E.buttonRef,E.optionsRef],(K,Q)=>{var ce;y({type:1}),Ed(Q,wl.Loose)||(K.preventDefault(),(ce=E.buttonRef.current)==null||ce.focus())},E.listboxState===0);let T=p.useMemo(()=>({open:E.listboxState===0,disabled:c,value:v}),[E,c,v]),_=q(K=>{let Q=E.options.find(ce=>ce.id===K);Q&&$(Q.dataRef.current.value)}),M=q(()=>{if(E.activeOptionIndex!==null){let{dataRef:K,id:Q}=E.options[E.activeOptionIndex];$(K.current.value),y({type:2,focus:De.Specific,id:Q})}}),k=q(()=>y({type:0})),B=q(()=>y({type:1})),z=q((K,Q,ce)=>K===De.Specific?y({type:2,focus:De.Specific,id:Q,trigger:ce}):y({type:2,focus:K,trigger:ce})),P=q((K,Q)=>(y({type:5,id:K,dataRef:Q}),()=>y({type:6,id:K}))),A=q(K=>(y({type:7,id:K}),()=>y({type:7,id:null}))),$=q(K=>be(E.mode,{0(){return m==null?void 0:m(K)},1(){let Q=E.value.slice(),ce=Q.findIndex(te=>C(te,K));return ce===-1?Q.push(K):Q.splice(ce,1),m==null?void 0:m(Q)}})),N=q(K=>y({type:3,value:K})),I=q(()=>y({type:4})),V=p.useMemo(()=>({onChange:$,registerOption:P,registerLabel:A,goToOption:z,closeListbox:B,openListbox:k,selectActiveOption:M,selectOption:_,search:N,clearSearch:I}),[]),U={ref:g},X=p.useRef(null),ne=fn();return p.useEffect(()=>{X.current&&r!==void 0&&ne.addEventListener(X.current,"reset",()=>{m==null||m(r)})},[X,m]),p.createElement(Vd.Provider,{value:V},p.createElement(Hd.Provider,{value:E},p.createElement(Si,{value:be(E.listboxState,{0:Ve.Open,1:Ve.Closed})},o!=null&&v!=null&&jl({[o]:v}).map(([K,Q],ce)=>p.createElement(qt,{features:Kt.Hidden,ref:ce===0?te=>{var G;X.current=(G=te==null?void 0:te.closest("form"))!=null?G:null}:void 0,...Ys({key:K,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:K,value:Q})})),xe({ourProps:U,theirProps:f,slot:T,defaultTag:hC,name:"Listbox"}))))}let mC="button";function vC(e,t){var n;let r=Fe(),{id:s=`headlessui-listbox-button-${r}`,...o}=e,i=Pi("Listbox.Button"),l=Ei("Listbox.Button"),c=je(i.buttonRef,t),u=fn(),d=q(b=>{switch(b.key){case ue.Space:case ue.Enter:case ue.ArrowDown:b.preventDefault(),l.openListbox(),u.nextFrame(()=>{i.value||l.goToOption(De.First)});break;case ue.ArrowUp:b.preventDefault(),l.openListbox(),u.nextFrame(()=>{i.value||l.goToOption(De.Last)});break}}),f=q(b=>{switch(b.key){case ue.Space:b.preventDefault();break}}),h=q(b=>{if(br(b.currentTarget))return b.preventDefault();i.listboxState===0?(l.closeListbox(),u.nextFrame(()=>{var y;return(y=i.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})})):(b.preventDefault(),l.openListbox())}),g=xi(()=>{if(i.labelId)return[i.labelId,s].join(" ")},[i.labelId,s]),v=p.useMemo(()=>({open:i.listboxState===0,disabled:i.disabled,value:i.value}),[i]),m={ref:c,id:s,type:oo(e,i.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=i.optionsRef.current)==null?void 0:n.id,"aria-expanded":i.listboxState===0,"aria-labelledby":g,disabled:i.disabled,onKeyDown:d,onKeyUp:f,onClick:h};return xe({ourProps:m,theirProps:o,slot:v,defaultTag:mC,name:"Listbox.Button"})}let bC="label";function yC(e,t){let n=Fe(),{id:r=`headlessui-listbox-label-${n}`,...s}=e,o=Pi("Listbox.Label"),i=Ei("Listbox.Label"),l=je(o.labelRef,t);Ee(()=>i.registerLabel(r),[r]);let c=q(()=>{var d;return(d=o.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=p.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled}),[o]);return xe({ourProps:{ref:l,id:r,onClick:c},theirProps:s,slot:u,defaultTag:bC,name:"Listbox.Label"})}let xC="ul",wC=Et.RenderStrategy|Et.Static;function SC(e,t){var n;let r=Fe(),{id:s=`headlessui-listbox-options-${r}`,...o}=e,i=Pi("Listbox.Options"),l=Ei("Listbox.Options"),c=je(i.optionsRef,t),u=fn(),d=fn(),f=Hr(),h=(()=>f!==null?(f&Ve.Open)===Ve.Open:i.listboxState===0)();p.useEffect(()=>{var y;let x=i.optionsRef.current;x&&i.listboxState===0&&x!==((y=Vr(x))==null?void 0:y.activeElement)&&x.focus({preventScroll:!0})},[i.listboxState,i.optionsRef]);let g=q(y=>{switch(d.dispose(),y.key){case ue.Space:if(i.searchQuery!=="")return y.preventDefault(),y.stopPropagation(),l.search(y.key);case ue.Enter:if(y.preventDefault(),y.stopPropagation(),i.activeOptionIndex!==null){let{dataRef:x}=i.options[i.activeOptionIndex];l.onChange(x.current.value)}i.mode===0&&(l.closeListbox(),pn().nextFrame(()=>{var x;return(x=i.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})}));break;case be(i.orientation,{vertical:ue.ArrowDown,horizontal:ue.ArrowRight}):return y.preventDefault(),y.stopPropagation(),l.goToOption(De.Next);case be(i.orientation,{vertical:ue.ArrowUp,horizontal:ue.ArrowLeft}):return y.preventDefault(),y.stopPropagation(),l.goToOption(De.Previous);case ue.Home:case ue.PageUp:return y.preventDefault(),y.stopPropagation(),l.goToOption(De.First);case ue.End:case ue.PageDown:return y.preventDefault(),y.stopPropagation(),l.goToOption(De.Last);case ue.Escape:return y.preventDefault(),y.stopPropagation(),l.closeListbox(),u.nextFrame(()=>{var x;return(x=i.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})});case ue.Tab:y.preventDefault(),y.stopPropagation();break;default:y.key.length===1&&(l.search(y.key),d.setTimeout(()=>l.clearSearch(),350));break}}),v=xi(()=>{var y;return(y=i.buttonRef.current)==null?void 0:y.id},[i.buttonRef.current]),m=p.useMemo(()=>({open:i.listboxState===0}),[i]),b={"aria-activedescendant":i.activeOptionIndex===null||(n=i.options[i.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":i.mode===1?!0:void 0,"aria-labelledby":v,"aria-orientation":i.orientation,id:s,onKeyDown:g,role:"listbox",tabIndex:0,ref:c};return xe({ourProps:b,theirProps:o,slot:m,defaultTag:xC,features:wC,visible:h,name:"Listbox.Options"})}let jC="li";function CC(e,t){let n=Fe(),{id:r=`headlessui-listbox-option-${n}`,disabled:s=!1,value:o,...i}=e,l=Pi("Listbox.Option"),c=Ei("Listbox.Option"),u=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,d=l.isSelected(o),f=p.useRef(null),h=aC(f),g=dt({disabled:s,value:o,domRef:f,get textValue(){return h()}}),v=je(t,f);Ee(()=>{if(l.listboxState!==0||!u||l.activationTrigger===0)return;let C=pn();return C.requestAnimationFrame(()=>{var O,E;(E=(O=f.current)==null?void 0:O.scrollIntoView)==null||E.call(O,{block:"nearest"})}),C.dispose},[f,u,l.listboxState,l.activationTrigger,l.activeOptionIndex]),Ee(()=>c.registerOption(r,g),[g,r]);let m=q(C=>{if(s)return C.preventDefault();c.onChange(o),l.mode===0&&(c.closeListbox(),pn().nextFrame(()=>{var O;return(O=l.buttonRef.current)==null?void 0:O.focus({preventScroll:!0})}))}),b=q(()=>{if(s)return c.goToOption(De.Nothing);c.goToOption(De.Specific,r)}),y=r1(),x=q(C=>y.update(C)),w=q(C=>{y.wasMoved(C)&&(s||u||c.goToOption(De.Specific,r,0))}),S=q(C=>{y.wasMoved(C)&&(s||u&&c.goToOption(De.Nothing))}),j=p.useMemo(()=>({active:u,selected:d,disabled:s}),[u,d,s]);return xe({ourProps:{id:r,ref:v,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:m,onFocus:b,onPointerEnter:x,onMouseEnter:x,onPointerMove:w,onMouseMove:w,onPointerLeave:S,onMouseLeave:S},theirProps:i,slot:j,defaultTag:jC,name:"Listbox.Option"})}let EC=we(gC),PC=we(vC),OC=we(yC),_C=we(SC),TC=we(CC),Eo=Object.assign(EC,{Button:PC,Label:OC,Options:_C,Option:TC});var AC=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(AC||{}),MC=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(MC||{});let RC={0:e=>{let t={...e,popoverState:be(e.popoverState,{0:1,1:0})};return t.popoverState===0&&(t.__demoMode=!1),t},1(e){return e.popoverState===1?e:{...e,popoverState:1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Bd=p.createContext(null);Bd.displayName="PopoverContext";function El(e){let t=p.useContext(Bd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,El),n}return t}let Fd=p.createContext(null);Fd.displayName="PopoverAPIContext";function zd(e){let t=p.useContext(Fd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,zd),n}return t}let Ud=p.createContext(null);Ud.displayName="PopoverGroupContext";function w1(){return p.useContext(Ud)}let Pl=p.createContext(null);Pl.displayName="PopoverPanelContext";function kC(){return p.useContext(Pl)}function LC(e,t){return be(t.type,RC,e,t)}let $C="div";function NC(e,t){var n;let{__demoMode:r=!1,...s}=e,o=p.useRef(null),i=je(t,Pd(A=>{o.current=A})),l=p.useRef([]),c=p.useReducer(LC,{__demoMode:r,popoverState:r?0:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:p.createRef(),afterPanelSentinel:p.createRef()}),[{popoverState:u,button:d,buttonId:f,panel:h,panelId:g,beforePanelSentinel:v,afterPanelSentinel:m},b]=c,y=jr((n=o.current)!=null?n:d),x=p.useMemo(()=>{if(!d||!h)return!1;for(let X of document.querySelectorAll("body > *"))if(Number(X==null?void 0:X.contains(d))^Number(X==null?void 0:X.contains(h)))return!0;let A=xl(),$=A.indexOf(d),N=($+A.length-1)%A.length,I=($+1)%A.length,V=A[N],U=A[I];return!h.contains(V)&&!h.contains(U)},[d,h]),w=dt(f),S=dt(g),j=p.useMemo(()=>({buttonId:w,panelId:S,close:()=>b({type:1})}),[w,S,b]),C=w1(),O=C==null?void 0:C.registerPopover,E=q(()=>{var A;return(A=C==null?void 0:C.isFocusWithinPopoverGroup())!=null?A:(y==null?void 0:y.activeElement)&&((d==null?void 0:d.contains(y.activeElement))||(h==null?void 0:h.contains(y.activeElement)))});p.useEffect(()=>O==null?void 0:O(j),[O,j]);let[T,_]=m1(),M=v1({mainTreeNodeRef:C==null?void 0:C.mainTreeNodeRef,portals:T,defaultContainers:[d,h]});Md(y==null?void 0:y.defaultView,"focus",A=>{var $,N,I,V;A.target!==window&&A.target instanceof HTMLElement&&u===0&&(E()||d&&h&&(M.contains(A.target)||(N=($=v.current)==null?void 0:$.contains)!=null&&N.call($,A.target)||(V=(I=m.current)==null?void 0:I.contains)!=null&&V.call(I,A.target)||b({type:1})))},!0),Sl(M.resolveContainers,(A,$)=>{b({type:1}),Ed($,wl.Loose)||(A.preventDefault(),d==null||d.focus())},u===0);let k=q(A=>{b({type:1});let $=(()=>A?A instanceof HTMLElement?A:"current"in A&&A.current instanceof HTMLElement?A.current:d:d)();$==null||$.focus()}),B=p.useMemo(()=>({close:k,isPortalled:x}),[k,x]),z=p.useMemo(()=>({open:u===0,close:k}),[u,k]),P={ref:i};return p.createElement(Pl.Provider,{value:null},p.createElement(Bd.Provider,{value:c},p.createElement(Fd.Provider,{value:B},p.createElement(Si,{value:be(u,{0:Ve.Open,1:Ve.Closed})},p.createElement(_,null,xe({ourProps:P,theirProps:s,slot:z,defaultTag:$C,name:"Popover"}),p.createElement(M.MainTreeNode,null))))))}let DC="button";function IC(e,t){let n=Fe(),{id:r=`headlessui-popover-button-${n}`,...s}=e,[o,i]=El("Popover.Button"),{isPortalled:l}=zd("Popover.Button"),c=p.useRef(null),u=`headlessui-focus-sentinel-${Fe()}`,d=w1(),f=d==null?void 0:d.closeOthers,h=kC()!==null;p.useEffect(()=>{if(!h)return i({type:3,buttonId:r}),()=>{i({type:3,buttonId:null})}},[h,r,i]);let[g]=p.useState(()=>Symbol()),v=je(c,t,h?null:M=>{if(M)o.buttons.current.push(g);else{let k=o.buttons.current.indexOf(g);k!==-1&&o.buttons.current.splice(k,1)}o.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),M&&i({type:2,button:M})}),m=je(c,t),b=jr(c),y=q(M=>{var k,B,z;if(h){if(o.popoverState===1)return;switch(M.key){case ue.Space:case ue.Enter:M.preventDefault(),(B=(k=M.target).click)==null||B.call(k),i({type:1}),(z=o.button)==null||z.focus();break}}else switch(M.key){case ue.Space:case ue.Enter:M.preventDefault(),M.stopPropagation(),o.popoverState===1&&(f==null||f(o.buttonId)),i({type:0});break;case ue.Escape:if(o.popoverState!==0)return f==null?void 0:f(o.buttonId);if(!c.current||b!=null&&b.activeElement&&!c.current.contains(b.activeElement))return;M.preventDefault(),M.stopPropagation(),i({type:1});break}}),x=q(M=>{h||M.key===ue.Space&&M.preventDefault()}),w=q(M=>{var k,B;br(M.currentTarget)||e.disabled||(h?(i({type:1}),(k=o.button)==null||k.focus()):(M.preventDefault(),M.stopPropagation(),o.popoverState===1&&(f==null||f(o.buttonId)),i({type:0}),(B=o.button)==null||B.focus()))}),S=q(M=>{M.preventDefault(),M.stopPropagation()}),j=o.popoverState===0,C=p.useMemo(()=>({open:j}),[j]),O=oo(e,c),E=h?{ref:m,type:O,onKeyDown:y,onClick:w}:{ref:v,id:o.buttonId,type:O,"aria-expanded":o.popoverState===0,"aria-controls":o.panel?o.panelId:void 0,onKeyDown:y,onKeyUp:x,onClick:w,onMouseDown:S},T=Rd(),_=q(()=>{let M=o.panel;if(!M)return;function k(){be(T.current,{[Wt.Forwards]:()=>ut(M,Be.First),[Wt.Backwards]:()=>ut(M,Be.Last)})===Sn.Error&&ut(xl().filter(B=>B.dataset.headlessuiFocusGuard!=="true"),be(T.current,{[Wt.Forwards]:Be.Next,[Wt.Backwards]:Be.Previous}),{relativeTo:o.button})}k()});return p.createElement(p.Fragment,null,xe({ourProps:E,theirProps:s,slot:C,defaultTag:DC,name:"Popover.Button"}),j&&!h&&l&&p.createElement(qt,{id:u,features:Kt.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:_}))}let VC="div",HC=Et.RenderStrategy|Et.Static;function BC(e,t){let n=Fe(),{id:r=`headlessui-popover-overlay-${n}`,...s}=e,[{popoverState:o},i]=El("Popover.Overlay"),l=je(t),c=Hr(),u=(()=>c!==null?(c&Ve.Open)===Ve.Open:o===0)(),d=q(h=>{if(br(h.currentTarget))return h.preventDefault();i({type:1})}),f=p.useMemo(()=>({open:o===0}),[o]);return xe({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:d},theirProps:s,slot:f,defaultTag:VC,features:HC,visible:u,name:"Popover.Overlay"})}let FC="div",zC=Et.RenderStrategy|Et.Static;function UC(e,t){let n=Fe(),{id:r=`headlessui-popover-panel-${n}`,focus:s=!1,...o}=e,[i,l]=El("Popover.Panel"),{close:c,isPortalled:u}=zd("Popover.Panel"),d=`headlessui-focus-sentinel-before-${Fe()}`,f=`headlessui-focus-sentinel-after-${Fe()}`,h=p.useRef(null),g=je(h,t,E=>{l({type:4,panel:E})}),v=jr(h),m=Od();Ee(()=>(l({type:5,panelId:r}),()=>{l({type:5,panelId:null})}),[r,l]);let b=Hr(),y=(()=>b!==null?(b&Ve.Open)===Ve.Open:i.popoverState===0)(),x=q(E=>{var T;switch(E.key){case ue.Escape:if(i.popoverState!==0||!h.current||v!=null&&v.activeElement&&!h.current.contains(v.activeElement))return;E.preventDefault(),E.stopPropagation(),l({type:1}),(T=i.button)==null||T.focus();break}});p.useEffect(()=>{var E;e.static||i.popoverState===1&&((E=e.unmount)==null||E)&&l({type:4,panel:null})},[i.popoverState,e.unmount,e.static,l]),p.useEffect(()=>{if(i.__demoMode||!s||i.popoverState!==0||!h.current)return;let E=v==null?void 0:v.activeElement;h.current.contains(E)||ut(h.current,Be.First)},[i.__demoMode,s,h,i.popoverState]);let w=p.useMemo(()=>({open:i.popoverState===0,close:c}),[i,c]),S={ref:g,id:r,onKeyDown:x,onBlur:s&&i.popoverState===0?E=>{var T,_,M,k,B;let z=E.relatedTarget;z&&h.current&&((T=h.current)!=null&&T.contains(z)||(l({type:1}),((M=(_=i.beforePanelSentinel.current)==null?void 0:_.contains)!=null&&M.call(_,z)||(B=(k=i.afterPanelSentinel.current)==null?void 0:k.contains)!=null&&B.call(k,z))&&z.focus({preventScroll:!0})))}:void 0,tabIndex:-1},j=Rd(),C=q(()=>{let E=h.current;if(!E)return;function T(){be(j.current,{[Wt.Forwards]:()=>{var _;ut(E,Be.First)===Sn.Error&&((_=i.afterPanelSentinel.current)==null||_.focus())},[Wt.Backwards]:()=>{var _;(_=i.button)==null||_.focus({preventScroll:!0})}})}T()}),O=q(()=>{let E=h.current;if(!E)return;function T(){be(j.current,{[Wt.Forwards]:()=>{var _;if(!i.button)return;let M=xl(),k=M.indexOf(i.button),B=M.slice(0,k+1),z=[...M.slice(k+1),...B];for(let P of z.slice())if(P.dataset.headlessuiFocusGuard==="true"||(_=i.panel)!=null&&_.contains(P)){let A=z.indexOf(P);A!==-1&&z.splice(A,1)}ut(z,Be.First,{sorted:!1})},[Wt.Backwards]:()=>{var _;ut(E,Be.Previous)===Sn.Error&&((_=i.button)==null||_.focus())}})}T()});return p.createElement(Pl.Provider,{value:r},y&&u&&p.createElement(qt,{id:d,ref:i.beforePanelSentinel,features:Kt.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:C}),xe({mergeRefs:m,ourProps:S,theirProps:o,slot:w,defaultTag:FC,features:zC,visible:y,name:"Popover.Panel"}),y&&u&&p.createElement(qt,{id:f,ref:i.afterPanelSentinel,features:Kt.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:O}))}let WC="div";function GC(e,t){let n=p.useRef(null),r=je(n,t),[s,o]=p.useState([]),i=v2(),l=q(m=>{o(b=>{let y=b.indexOf(m);if(y!==-1){let x=b.slice();return x.splice(y,1),x}return b})}),c=q(m=>(o(b=>[...b,m]),()=>l(m))),u=q(()=>{var m;let b=Vr(n);if(!b)return!1;let y=b.activeElement;return(m=n.current)!=null&&m.contains(y)?!0:s.some(x=>{var w,S;return((w=b.getElementById(x.buttonId.current))==null?void 0:w.contains(y))||((S=b.getElementById(x.panelId.current))==null?void 0:S.contains(y))})}),d=q(m=>{for(let b of s)b.buttonId.current!==m&&b.close()}),f=p.useMemo(()=>({registerPopover:c,unregisterPopover:l,isFocusWithinPopoverGroup:u,closeOthers:d,mainTreeNodeRef:i.mainTreeNodeRef}),[c,l,u,d,i.mainTreeNodeRef]),h=p.useMemo(()=>({}),[]),g=e,v={ref:r};return p.createElement(Ud.Provider,{value:f},xe({ourProps:v,theirProps:g,slot:h,defaultTag:WC,name:"Popover.Group"}),p.createElement(i.MainTreeNode,null))}let KC=we(NC),qC=we(IC),YC=we(BC),XC=we(UC),ZC=we(GC),Pc=Object.assign(KC,{Button:qC,Overlay:YC,Panel:XC,Group:ZC}),S1=p.createContext(null);function j1(){let e=p.useContext(S1);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,j1),t}return e}function Wd(){let[e,t]=p.useState([]);return[e.length>0?e.join(" "):void 0,p.useMemo(()=>function(n){let r=q(o=>(t(i=>[...i,o]),()=>t(i=>{let l=i.slice(),c=l.indexOf(o);return c!==-1&&l.splice(c,1),l}))),s=p.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return p.createElement(S1.Provider,{value:s},n.children)},[t])]}let JC="label";function QC(e,t){let n=Fe(),{id:r=`headlessui-label-${n}`,passive:s=!1,...o}=e,i=j1(),l=je(t);Ee(()=>i.register(r),[r,i.register]);let c={ref:l,...i.props,id:r};return s&&("onClick"in c&&(delete c.htmlFor,delete c.onClick),"onClick"in o&&delete o.onClick),xe({ourProps:c,theirProps:o,slot:i.slot||{},defaultTag:JC,name:i.name||"Label"})}let eE=we(QC),C1=Object.assign(eE,{});function E1(e=0){let[t,n]=p.useState(e),r=io(),s=p.useCallback(c=>{r.current&&n(u=>u|c)},[t,r]),o=p.useCallback(c=>!!(t&c),[t]),i=p.useCallback(c=>{r.current&&n(u=>u&~c)},[n,r]),l=p.useCallback(c=>{r.current&&n(u=>u^c)},[n]);return{flags:t,addFlag:s,hasFlag:o,removeFlag:i,toggleFlag:l}}var tE=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(tE||{});let nE={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:cr(n,r=>r.element.current)}},1(e,t){let n=e.options.slice(),r=e.options.findIndex(s=>s.id===t.id);return r===-1?e:(n.splice(r,1),{...e,options:n})}},Gd=p.createContext(null);Gd.displayName="RadioGroupDataContext";function P1(e){let t=p.useContext(Gd);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,P1),n}return t}let Kd=p.createContext(null);Kd.displayName="RadioGroupActionsContext";function O1(e){let t=p.useContext(Kd);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,O1),n}return t}function rE(e,t){return be(t.type,nE,e,t)}let sE="div";function oE(e,t){let n=Fe(),{id:r=`headlessui-radiogroup-${n}`,value:s,defaultValue:o,form:i,name:l,onChange:c,by:u=(I,V)=>I===V,disabled:d=!1,...f}=e,h=q(typeof u=="string"?(I,V)=>{let U=u;return(I==null?void 0:I[U])===(V==null?void 0:V[U])}:u),[g,v]=p.useReducer(rE,{options:[]}),m=g.options,[b,y]=Wd(),[x,w]=Cl(),S=p.useRef(null),j=je(S,t),[C,O]=yl(s,c,o),E=p.useMemo(()=>m.find(I=>!I.propsRef.current.disabled),[m]),T=p.useMemo(()=>m.some(I=>h(I.propsRef.current.value,C)),[m,C]),_=q(I=>{var V;if(d||h(I,C))return!1;let U=(V=m.find(X=>h(X.propsRef.current.value,I)))==null?void 0:V.propsRef.current;return U!=null&&U.disabled?!1:(O==null||O(I),!0)});s1({container:S.current,accept(I){return I.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:I.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(I){I.setAttribute("role","none")}});let M=q(I=>{let V=S.current;if(!V)return;let U=Vr(V),X=m.filter(ne=>ne.propsRef.current.disabled===!1).map(ne=>ne.element.current);switch(I.key){case ue.Enter:l1(I.currentTarget);break;case ue.ArrowLeft:case ue.ArrowUp:if(I.preventDefault(),I.stopPropagation(),ut(X,Be.Previous|Be.WrapAround)===Sn.Success){let ne=m.find(K=>K.element.current===(U==null?void 0:U.activeElement));ne&&_(ne.propsRef.current.value)}break;case ue.ArrowRight:case ue.ArrowDown:if(I.preventDefault(),I.stopPropagation(),ut(X,Be.Next|Be.WrapAround)===Sn.Success){let ne=m.find(K=>K.element.current===(U==null?void 0:U.activeElement));ne&&_(ne.propsRef.current.value)}break;case ue.Space:{I.preventDefault(),I.stopPropagation();let ne=m.find(K=>K.element.current===(U==null?void 0:U.activeElement));ne&&_(ne.propsRef.current.value)}break}}),k=q(I=>(v({type:0,...I}),()=>v({type:1,id:I.id}))),B=p.useMemo(()=>({value:C,firstOption:E,containsCheckedOption:T,disabled:d,compare:h,...g}),[C,E,T,d,h,g]),z=p.useMemo(()=>({registerOption:k,change:_}),[k,_]),P={ref:j,id:r,role:"radiogroup","aria-labelledby":b,"aria-describedby":x,onKeyDown:M},A=p.useMemo(()=>({value:C}),[C]),$=p.useRef(null),N=fn();return p.useEffect(()=>{$.current&&o!==void 0&&N.addEventListener($.current,"reset",()=>{_(o)})},[$,_]),p.createElement(w,{name:"RadioGroup.Description"},p.createElement(y,{name:"RadioGroup.Label"},p.createElement(Kd.Provider,{value:z},p.createElement(Gd.Provider,{value:B},l!=null&&C!=null&&jl({[l]:C}).map(([I,V],U)=>p.createElement(qt,{features:Kt.Hidden,ref:U===0?X=>{var ne;$.current=(ne=X==null?void 0:X.closest("form"))!=null?ne:null}:void 0,...Ys({key:I,as:"input",type:"radio",checked:V!=null,hidden:!0,readOnly:!0,form:i,disabled:d,name:I,value:V})})),xe({ourProps:P,theirProps:f,slot:A,defaultTag:sE,name:"RadioGroup"})))))}var iE=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(iE||{});let aE="div";function lE(e,t){var n;let r=Fe(),{id:s=`headlessui-radiogroup-option-${r}`,value:o,disabled:i=!1,...l}=e,c=p.useRef(null),u=je(c,t),[d,f]=Wd(),[h,g]=Cl(),{addFlag:v,removeFlag:m,hasFlag:b}=E1(1),y=dt({value:o,disabled:i}),x=P1("RadioGroup.Option"),w=O1("RadioGroup.Option");Ee(()=>w.registerOption({id:s,element:c,propsRef:y}),[s,w,c,y]);let S=q(k=>{var B;if(br(k.currentTarget))return k.preventDefault();w.change(o)&&(v(2),(B=c.current)==null||B.focus())}),j=q(k=>{if(br(k.currentTarget))return k.preventDefault();v(2)}),C=q(()=>m(2)),O=((n=x.firstOption)==null?void 0:n.id)===s,E=x.disabled||i,T=x.compare(x.value,o),_={ref:u,id:s,role:"radio","aria-checked":T?"true":"false","aria-labelledby":d,"aria-describedby":h,"aria-disabled":E?!0:void 0,tabIndex:(()=>E?-1:T||!x.containsCheckedOption&&O?0:-1)(),onClick:E?void 0:S,onFocus:E?void 0:j,onBlur:E?void 0:C},M=p.useMemo(()=>({checked:T,disabled:E,active:b(2)}),[T,E,b]);return p.createElement(g,{name:"RadioGroup.Description"},p.createElement(f,{name:"RadioGroup.Label"},xe({ourProps:_,theirProps:l,slot:M,defaultTag:aE,name:"RadioGroup.Option"})))}let cE=we(oE),uE=we(lE),Mf=Object.assign(cE,{Option:uE,Label:C1,Description:Ld}),qd=p.createContext(null);qd.displayName="GroupContext";let dE=p.Fragment;function pE(e){var t;let[n,r]=p.useState(null),[s,o]=Wd(),[i,l]=Cl(),c=p.useMemo(()=>({switch:n,setSwitch:r,labelledby:s,describedby:i}),[n,r,s,i]),u={},d=e;return p.createElement(l,{name:"Switch.Description"},p.createElement(o,{name:"Switch.Label",props:{htmlFor:(t=c.switch)==null?void 0:t.id,onClick(f){n&&(f.currentTarget.tagName==="LABEL"&&f.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},p.createElement(qd.Provider,{value:c},xe({ourProps:u,theirProps:d,defaultTag:dE,name:"Switch.Group"}))))}let fE="button";function hE(e,t){var n;let r=Fe(),{id:s=`headlessui-switch-${r}`,checked:o,defaultChecked:i=!1,onChange:l,disabled:c=!1,name:u,value:d,form:f,...h}=e,g=p.useContext(qd),v=p.useRef(null),m=je(v,t,g===null?null:g.setSwitch),[b,y]=yl(o,l,i),x=q(()=>y==null?void 0:y(!b)),w=q(T=>{if(br(T.currentTarget))return T.preventDefault();T.preventDefault(),x()}),S=q(T=>{T.key===ue.Space?(T.preventDefault(),x()):T.key===ue.Enter&&l1(T.currentTarget)}),j=q(T=>T.preventDefault()),C=p.useMemo(()=>({checked:b}),[b]),O={id:s,ref:m,role:"switch",type:oo(e,v),tabIndex:e.tabIndex===-1?0:(n=e.tabIndex)!=null?n:0,"aria-checked":b,"aria-labelledby":g==null?void 0:g.labelledby,"aria-describedby":g==null?void 0:g.describedby,disabled:c,onClick:w,onKeyUp:S,onKeyPress:j},E=fn();return p.useEffect(()=>{var T;let _=(T=v.current)==null?void 0:T.closest("form");_&&i!==void 0&&E.addEventListener(_,"reset",()=>{y(i)})},[v,y]),p.createElement(p.Fragment,null,u!=null&&b&&p.createElement(qt,{features:Kt.Hidden,...Ys({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:c,form:f,checked:b,name:u,value:d})}),xe({ourProps:O,theirProps:h,slot:C,defaultTag:fE,name:"Switch"}))}let gE=we(hE),mE=pE,Oc=Object.assign(gE,{Group:mE,Label:C1,Description:Ld});function vE({onFocus:e}){let[t,n]=p.useState(!0),r=io();return t?p.createElement(qt,{as:"button",type:"button",features:Kt.Focusable,onFocus:s=>{s.preventDefault();let o,i=50;function l(){if(i--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!r.current)return;n(!1);return}o=requestAnimationFrame(l)}o=requestAnimationFrame(l)}}):null}const _1=ke.createContext(null);function bE(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let s=(n=r.get(t))!=null?n:0;r.set(t,s+1);let o=Array.from(r.keys()).indexOf(t);function i(){let l=r.get(t);l>1?r.set(t,l-1):r.delete(t)}return[o,i]}}}function yE({children:e}){let t=ke.useRef(bE());return ke.createElement(_1.Provider,{value:t},e)}function T1(e){let t=ke.useContext(_1);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=xE(),[r,s]=t.current.get(e,n);return ke.useEffect(()=>s,[]),r}function xE(){var e,t,n;let r=(n=(t=(e=ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!r)return Symbol();let s=[],o=r;for(;o;)s.push(o.index),o=o.return;return"$."+s.join(".")}var wE=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(wE||{}),SE=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(SE||{}),jE=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(jE||{});let CE={0(e,t){var n;let r=cr(e.tabs,d=>d.current),s=cr(e.panels,d=>d.current),o=r.filter(d=>{var f;return!((f=d.current)!=null&&f.hasAttribute("disabled"))}),i={...e,tabs:r,panels:s};if(t.index<0||t.index>r.length-1){let d=be(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>be(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return i;let f=be(d,{0:()=>r.indexOf(o[0]),1:()=>r.indexOf(o[o.length-1])});return{...i,selectedIndex:f===-1?e.selectedIndex:f}}let l=r.slice(0,t.index),c=[...r.slice(t.index),...l].find(d=>o.includes(d));if(!c)return i;let u=(n=r.indexOf(c))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...i,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=cr([...e.tabs,t.tab],o=>o.current),s=e.selectedIndex;return e.info.current.isControlled||(s=r.indexOf(n),s===-1&&(s=e.selectedIndex)),{...e,tabs:r,selectedIndex:s}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:cr([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},Yd=p.createContext(null);Yd.displayName="TabsDataContext";function Xs(e){let t=p.useContext(Yd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xs),n}return t}let Xd=p.createContext(null);Xd.displayName="TabsActionsContext";function Zd(e){let t=p.useContext(Xd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Zd),n}return t}function EE(e,t){return be(t.type,CE,e,t)}let PE=p.Fragment;function OE(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:s=!1,onChange:o,selectedIndex:i=null,...l}=e;const c=r?"vertical":"horizontal",u=s?"manual":"auto";let d=i!==null,f=dt({isControlled:d}),h=je(t),[g,v]=p.useReducer(EE,{info:f,selectedIndex:i??n,tabs:[],panels:[]}),m=p.useMemo(()=>({selectedIndex:g.selectedIndex}),[g.selectedIndex]),b=dt(o||(()=>{})),y=dt(g.tabs),x=p.useMemo(()=>({orientation:c,activation:u,...g}),[c,u,g]),w=q(T=>(v({type:1,tab:T}),()=>v({type:2,tab:T}))),S=q(T=>(v({type:3,panel:T}),()=>v({type:4,panel:T}))),j=q(T=>{C.current!==T&&b.current(T),d||v({type:0,index:T})}),C=dt(d?e.selectedIndex:g.selectedIndex),O=p.useMemo(()=>({registerTab:w,registerPanel:S,change:j}),[]);Ee(()=>{v({type:0,index:i??n})},[i]),Ee(()=>{if(C.current===void 0||g.tabs.length<=0)return;let T=cr(g.tabs,_=>_.current);T.some((_,M)=>g.tabs[M]!==_)&&j(T.indexOf(g.tabs[C.current]))});let E={ref:h};return p.createElement(yE,null,p.createElement(Xd.Provider,{value:O},p.createElement(Yd.Provider,{value:x},x.tabs.length<=0&&p.createElement(vE,{onFocus:()=>{var T,_;for(let M of y.current)if(((T=M.current)==null?void 0:T.tabIndex)===0)return(_=M.current)==null||_.focus(),!0;return!1}}),xe({ourProps:E,theirProps:l,slot:m,defaultTag:PE,name:"Tabs"}))))}let _E="div";function TE(e,t){let{orientation:n,selectedIndex:r}=Xs("Tab.List"),s=je(t);return xe({ourProps:{ref:s,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:_E,name:"Tabs.List"})}let AE="button";function ME(e,t){var n,r;let s=Fe(),{id:o=`headlessui-tabs-tab-${s}`,...i}=e,{orientation:l,activation:c,selectedIndex:u,tabs:d,panels:f}=Xs("Tab"),h=Zd("Tab"),g=Xs("Tab"),v=p.useRef(null),m=je(v,t);Ee(()=>h.registerTab(v),[h,v]);let b=T1("tabs"),y=d.indexOf(v);y===-1&&(y=b);let x=y===u,w=q(_=>{var M;let k=_();if(k===Sn.Success&&c==="auto"){let B=(M=Vr(v))==null?void 0:M.activeElement,z=g.tabs.findIndex(P=>P.current===B);z!==-1&&h.change(z)}return k}),S=q(_=>{let M=d.map(k=>k.current).filter(Boolean);if(_.key===ue.Space||_.key===ue.Enter){_.preventDefault(),_.stopPropagation(),h.change(y);return}switch(_.key){case ue.Home:case ue.PageUp:return _.preventDefault(),_.stopPropagation(),w(()=>ut(M,Be.First));case ue.End:case ue.PageDown:return _.preventDefault(),_.stopPropagation(),w(()=>ut(M,Be.Last))}if(w(()=>be(l,{vertical(){return _.key===ue.ArrowUp?ut(M,Be.Previous|Be.WrapAround):_.key===ue.ArrowDown?ut(M,Be.Next|Be.WrapAround):Sn.Error},horizontal(){return _.key===ue.ArrowLeft?ut(M,Be.Previous|Be.WrapAround):_.key===ue.ArrowRight?ut(M,Be.Next|Be.WrapAround):Sn.Error}}))===Sn.Success)return _.preventDefault()}),j=p.useRef(!1),C=q(()=>{var _;j.current||(j.current=!0,(_=v.current)==null||_.focus({preventScroll:!0}),h.change(y),wi(()=>{j.current=!1}))}),O=q(_=>{_.preventDefault()}),E=p.useMemo(()=>{var _;return{selected:x,disabled:(_=e.disabled)!=null?_:!1}},[x,e.disabled]),T={ref:m,onKeyDown:S,onMouseDown:O,onClick:C,id:o,role:"tab",type:oo(e,v),"aria-controls":(r=(n=f[y])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":x,tabIndex:x?0:-1};return xe({ourProps:T,theirProps:i,slot:E,defaultTag:AE,name:"Tabs.Tab"})}let RE="div";function kE(e,t){let{selectedIndex:n}=Xs("Tab.Panels"),r=je(t),s=p.useMemo(()=>({selectedIndex:n}),[n]);return xe({ourProps:{ref:r},theirProps:e,slot:s,defaultTag:RE,name:"Tabs.Panels"})}let LE="div",$E=Et.RenderStrategy|Et.Static;function NE(e,t){var n,r,s,o;let i=Fe(),{id:l=`headlessui-tabs-panel-${i}`,tabIndex:c=0,...u}=e,{selectedIndex:d,tabs:f,panels:h}=Xs("Tab.Panel"),g=Zd("Tab.Panel"),v=p.useRef(null),m=je(v,t);Ee(()=>g.registerPanel(v),[g,v,l]);let b=T1("panels"),y=h.indexOf(v);y===-1&&(y=b);let x=y===d,w=p.useMemo(()=>({selected:x}),[x]),S={ref:m,id:l,role:"tabpanel","aria-labelledby":(r=(n=f[y])==null?void 0:n.current)==null?void 0:r.id,tabIndex:x?c:-1};return!x&&((s=u.unmount)==null||s)&&!((o=u.static)!=null&&o)?p.createElement(qt,{as:"span","aria-hidden":"true",...S}):xe({ourProps:S,theirProps:u,slot:w,defaultTag:LE,features:$E,visible:x,name:"Tabs.Panel"})}let DE=we(ME),IE=we(OE),VE=we(TE),HE=we(kE),BE=we(NE),Po=Object.assign(DE,{Group:IE,List:VE,Panels:HE,Panel:BE});function FE(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function _c(e,...t){e&&t.length>0&&e.classList.add(...t)}function Tc(e,...t){e&&t.length>0&&e.classList.remove(...t)}function zE(e,t){let n=pn();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:s}=getComputedStyle(e),[o,i]=[r,s].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=o+i;if(l!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return n.add(()=>t()),n.dispose}function UE(e,t,n,r){let s=n?"enter":"leave",o=pn(),i=r!==void 0?FE(r):()=>{};s==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=be(s,{enter:()=>t.enter,leave:()=>t.leave}),c=be(s,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=be(s,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Tc(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),_c(e,...t.base,...l,...u),o.nextFrame(()=>{Tc(e,...t.base,...l,...u),_c(e,...t.base,...l,...c),zE(e,()=>(Tc(e,...t.base,...l),_c(e,...t.base,...t.entered),i()))}),o.dispose}function WE({immediate:e,container:t,direction:n,classes:r,onStart:s,onStop:o}){let i=io(),l=fn(),c=dt(n);Ee(()=>{e&&(c.current="enter")},[e]),Ee(()=>{let u=pn();l.add(u.dispose);let d=t.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),s.current(c.current),u.add(UE(d,r.current,c.current==="enter",()=>{u.dispose(),o.current(c.current)})),u.dispose},[n])}function Er(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Ol=p.createContext(null);Ol.displayName="TransitionContext";var GE=(e=>(e.Visible="visible",e.Hidden="hidden",e))(GE||{});function KE(){let e=p.useContext(Ol);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function qE(){let e=p.useContext(_l);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let _l=p.createContext(null);_l.displayName="NestingContext";function Tl(e){return"children"in e?Tl(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function A1(e,t){let n=dt(e),r=p.useRef([]),s=io(),o=fn(),i=q((g,v=Mr.Hidden)=>{let m=r.current.findIndex(({el:b})=>b===g);m!==-1&&(be(v,{[Mr.Unmount](){r.current.splice(m,1)},[Mr.Hidden](){r.current[m].state="hidden"}}),o.microTask(()=>{var b;!Tl(r)&&s.current&&((b=n.current)==null||b.call(n))}))}),l=q(g=>{let v=r.current.find(({el:m})=>m===g);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:g,state:"visible"}),()=>i(g,Mr.Unmount)}),c=p.useRef([]),u=p.useRef(Promise.resolve()),d=p.useRef({enter:[],leave:[],idle:[]}),f=q((g,v,m)=>{c.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([b])=>b!==g)),t==null||t.chains.current[v].push([g,new Promise(b=>{c.current.push(b)})]),t==null||t.chains.current[v].push([g,new Promise(b=>{Promise.all(d.current[v].map(([y,x])=>x)).then(()=>b())})]),v==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>m(v)):m(v)}),h=q((g,v,m)=>{Promise.all(d.current[v].splice(0).map(([b,y])=>y)).then(()=>{var b;(b=c.current.shift())==null||b()}).then(()=>m(v))});return p.useMemo(()=>({children:r,register:l,unregister:i,onStart:f,onStop:h,wait:u,chains:d}),[l,i,r,f,h,d,u])}function YE(){}let XE=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Rf(e){var t;let n={};for(let r of XE)n[r]=(t=e[r])!=null?t:YE;return n}function ZE(e){let t=p.useRef(Rf(e));return p.useEffect(()=>{t.current=Rf(e)},[e]),t}let JE="div",M1=Et.RenderStrategy;function QE(e,t){var n,r;let{beforeEnter:s,afterEnter:o,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:h,leaveFrom:g,leaveTo:v,...m}=e,b=p.useRef(null),y=je(b,t),x=(n=m.unmount)==null||n?Mr.Unmount:Mr.Hidden,{show:w,appear:S,initial:j}=KE(),[C,O]=p.useState(w?"visible":"hidden"),E=qE(),{register:T,unregister:_}=E;p.useEffect(()=>T(b),[T,b]),p.useEffect(()=>{if(x===Mr.Hidden&&b.current){if(w&&C!=="visible"){O("visible");return}return be(C,{hidden:()=>_(b),visible:()=>T(b)})}},[C,b,T,_,w,x]);let M=dt({base:Er(m.className),enter:Er(c),enterFrom:Er(u),enterTo:Er(d),entered:Er(f),leave:Er(h),leaveFrom:Er(g),leaveTo:Er(v)}),k=ZE({beforeEnter:s,afterEnter:o,beforeLeave:i,afterLeave:l}),B=so();p.useEffect(()=>{if(B&&C==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,C,B]);let z=j&&!S,P=S&&w&&j,A=(()=>!B||z?"idle":w?"enter":"leave")(),$=E1(0),N=q(K=>be(K,{enter:()=>{$.addFlag(Ve.Opening),k.current.beforeEnter()},leave:()=>{$.addFlag(Ve.Closing),k.current.beforeLeave()},idle:()=>{}})),I=q(K=>be(K,{enter:()=>{$.removeFlag(Ve.Opening),k.current.afterEnter()},leave:()=>{$.removeFlag(Ve.Closing),k.current.afterLeave()},idle:()=>{}})),V=A1(()=>{O("hidden"),_(b)},E),U=p.useRef(!1);WE({immediate:P,container:b,classes:M,direction:A,onStart:dt(K=>{U.current=!0,V.onStart(b,K,N)}),onStop:dt(K=>{U.current=!1,V.onStop(b,K,I),K==="leave"&&!Tl(V)&&(O("hidden"),_(b))})});let X=m,ne={ref:y};return P?X={...X,className:Da(m.className,...M.current.enter,...M.current.enterFrom)}:U.current&&(X.className=Da(m.className,(r=b.current)==null?void 0:r.className),X.className===""&&delete X.className),p.createElement(_l.Provider,{value:V},p.createElement(Si,{value:be(C,{visible:Ve.Open,hidden:Ve.Closed})|$.flags},xe({ourProps:ne,theirProps:X,defaultTag:JE,features:M1,visible:C==="visible",name:"Transition.Child"})))}function eP(e,t){let{show:n,appear:r=!1,unmount:s=!0,...o}=e,i=p.useRef(null),l=je(i,t);so();let c=Hr();if(n===void 0&&c!==null&&(n=(c&Ve.Open)===Ve.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=p.useState(n?"visible":"hidden"),f=A1(()=>{d("hidden")}),[h,g]=p.useState(!0),v=p.useRef([n]);Ee(()=>{h!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),g(!1))},[v,n]);let m=p.useMemo(()=>({show:n,appear:r,initial:h}),[n,r,h]);p.useEffect(()=>{if(n)d("visible");else if(!Tl(f))d("hidden");else{let w=i.current;if(!w)return;let S=w.getBoundingClientRect();S.x===0&&S.y===0&&S.width===0&&S.height===0&&d("hidden")}},[n,f]);let b={unmount:s},y=q(()=>{var w;h&&g(!1),(w=e.beforeEnter)==null||w.call(e)}),x=q(()=>{var w;h&&g(!1),(w=e.beforeLeave)==null||w.call(e)});return p.createElement(_l.Provider,{value:f},p.createElement(Ol.Provider,{value:m},xe({ourProps:{...b,as:p.Fragment,children:p.createElement(R1,{ref:l,...b,...o,beforeEnter:y,beforeLeave:x})},theirProps:{},defaultTag:p.Fragment,features:M1,visible:u==="visible",name:"Transition"})))}function tP(e,t){let n=p.useContext(Ol)!==null,r=Hr()!==null;return p.createElement(p.Fragment,null,!n&&r?p.createElement($u,{ref:t,...e}):p.createElement(R1,{ref:t,...e}))}let $u=we(eP),R1=we(QE),nP=we(tP),Gn=Object.assign($u,{Child:nP,Root:$u});var kf=function(t){return t.reduce(function(n,r){var s=r[0],o=r[1];return n[s]=o,n},{})},Lf=typeof window<"u"&&window.document&&window.document.createElement?ke.useLayoutEffect:ke.useEffect,It="top",hn="bottom",gn="right",Vt="left",Jd="auto",Oi=[It,hn,gn,Vt],Zs="start",si="end",rP="clippingParents",k1="viewport",Oo="popper",sP="reference",$f=Oi.reduce(function(e,t){return e.concat([t+"-"+Zs,t+"-"+si])},[]),L1=[].concat(Oi,[Jd]).reduce(function(e,t){return e.concat([t,t+"-"+Zs,t+"-"+si])},[]),oP="beforeRead",iP="read",aP="afterRead",lP="beforeMain",cP="main",uP="afterMain",dP="beforeWrite",pP="write",fP="afterWrite",hP=[oP,iP,aP,lP,cP,uP,dP,pP,fP];function Yn(e){return e?(e.nodeName||"").toLowerCase():null}function Yt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function us(e){var t=Yt(e).Element;return e instanceof t||e instanceof Element}function dn(e){var t=Yt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Qd(e){if(typeof ShadowRoot>"u")return!1;var t=Yt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function gP(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},o=t.elements[n];!dn(o)||!Yn(o)||(Object.assign(o.style,r),Object.keys(s).forEach(function(i){var l=s[i];l===!1?o.removeAttribute(i):o.setAttribute(i,l===!0?"":l)}))})}function mP(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],o=t.attributes[r]||{},i=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=i.reduce(function(c,u){return c[u]="",c},{});!dn(s)||!Yn(s)||(Object.assign(s.style,l),Object.keys(o).forEach(function(c){s.removeAttribute(c)}))})}}const vP={name:"applyStyles",enabled:!0,phase:"write",fn:gP,effect:mP,requires:["computeStyles"]};function Kn(e){return e.split("-")[0]}var ts=Math.max,Va=Math.min,Js=Math.round;function Nu(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function $1(){return!/^((?!chrome|android).)*safari/i.test(Nu())}function Qs(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),s=1,o=1;t&&dn(e)&&(s=e.offsetWidth>0&&Js(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Js(r.height)/e.offsetHeight||1);var i=us(e)?Yt(e):window,l=i.visualViewport,c=!$1()&&n,u=(r.left+(c&&l?l.offsetLeft:0))/s,d=(r.top+(c&&l?l.offsetTop:0))/o,f=r.width/s,h=r.height/o;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function ep(e){var t=Qs(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function N1(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Qd(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function yr(e){return Yt(e).getComputedStyle(e)}function bP(e){return["table","td","th"].indexOf(Yn(e))>=0}function Br(e){return((us(e)?e.ownerDocument:e.document)||window.document).documentElement}function Al(e){return Yn(e)==="html"?e:e.assignedSlot||e.parentNode||(Qd(e)?e.host:null)||Br(e)}function Nf(e){return!dn(e)||yr(e).position==="fixed"?null:e.offsetParent}function yP(e){var t=/firefox/i.test(Nu()),n=/Trident/i.test(Nu());if(n&&dn(e)){var r=yr(e);if(r.position==="fixed")return null}var s=Al(e);for(Qd(s)&&(s=s.host);dn(s)&&["html","body"].indexOf(Yn(s))<0;){var o=yr(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function _i(e){for(var t=Yt(e),n=Nf(e);n&&bP(n)&&yr(n).position==="static";)n=Nf(n);return n&&(Yn(n)==="html"||Yn(n)==="body"&&yr(n).position==="static")?t:n||yP(e)||t}function tp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Io(e,t,n){return ts(e,Va(t,n))}function xP(e,t,n){var r=Io(e,t,n);return r>n?n:r}function D1(){return{top:0,right:0,bottom:0,left:0}}function I1(e){return Object.assign({},D1(),e)}function V1(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var wP=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,I1(typeof t!="number"?t:V1(t,Oi))};function SP(e){var t,n=e.state,r=e.name,s=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,l=Kn(n.placement),c=tp(l),u=[Vt,gn].indexOf(l)>=0,d=u?"height":"width";if(!(!o||!i)){var f=wP(s.padding,n),h=ep(o),g=c==="y"?It:Vt,v=c==="y"?hn:gn,m=n.rects.reference[d]+n.rects.reference[c]-i[c]-n.rects.popper[d],b=i[c]-n.rects.reference[c],y=_i(o),x=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,w=m/2-b/2,S=f[g],j=x-h[d]-f[v],C=x/2-h[d]/2+w,O=Io(S,C,j),E=c;n.modifiersData[r]=(t={},t[E]=O,t.centerOffset=O-C,t)}}function jP(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||N1(t.elements.popper,s)&&(t.elements.arrow=s))}const CP={name:"arrow",enabled:!0,phase:"main",fn:SP,effect:jP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function eo(e){return e.split("-")[1]}var EP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function PP(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:Js(n*s)/s||0,y:Js(r*s)/s||0}}function Df(e){var t,n=e.popper,r=e.popperRect,s=e.placement,o=e.variation,i=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=i.x,g=h===void 0?0:h,v=i.y,m=v===void 0?0:v,b=typeof d=="function"?d({x:g,y:m}):{x:g,y:m};g=b.x,m=b.y;var y=i.hasOwnProperty("x"),x=i.hasOwnProperty("y"),w=Vt,S=It,j=window;if(u){var C=_i(n),O="clientHeight",E="clientWidth";if(C===Yt(n)&&(C=Br(n),yr(C).position!=="static"&&l==="absolute"&&(O="scrollHeight",E="scrollWidth")),C=C,s===It||(s===Vt||s===gn)&&o===si){S=hn;var T=f&&C===j&&j.visualViewport?j.visualViewport.height:C[O];m-=T-r.height,m*=c?1:-1}if(s===Vt||(s===It||s===hn)&&o===si){w=gn;var _=f&&C===j&&j.visualViewport?j.visualViewport.width:C[E];g-=_-r.width,g*=c?1:-1}}var M=Object.assign({position:l},u&&EP),k=d===!0?PP({x:g,y:m},Yt(n)):{x:g,y:m};if(g=k.x,m=k.y,c){var B;return Object.assign({},M,(B={},B[S]=x?"0":"",B[w]=y?"0":"",B.transform=(j.devicePixelRatio||1)<=1?"translate("+g+"px, "+m+"px)":"translate3d("+g+"px, "+m+"px, 0)",B))}return Object.assign({},M,(t={},t[S]=x?m+"px":"",t[w]=y?g+"px":"",t.transform="",t))}function OP(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,o=n.adaptive,i=o===void 0?!0:o,l=n.roundOffsets,c=l===void 0?!0:l,u={placement:Kn(t.placement),variation:eo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Df(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Df(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const _P={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:OP,data:{}};var Gi={passive:!0};function TP(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,o=s===void 0?!0:s,i=r.resize,l=i===void 0?!0:i,c=Yt(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(d){d.addEventListener("scroll",n.update,Gi)}),l&&c.addEventListener("resize",n.update,Gi),function(){o&&u.forEach(function(d){d.removeEventListener("scroll",n.update,Gi)}),l&&c.removeEventListener("resize",n.update,Gi)}}const AP={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:TP,data:{}};var MP={left:"right",right:"left",bottom:"top",top:"bottom"};function Ca(e){return e.replace(/left|right|bottom|top/g,function(t){return MP[t]})}var RP={start:"end",end:"start"};function If(e){return e.replace(/start|end/g,function(t){return RP[t]})}function np(e){var t=Yt(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function rp(e){return Qs(Br(e)).left+np(e).scrollLeft}function kP(e,t){var n=Yt(e),r=Br(e),s=n.visualViewport,o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;var u=$1();(u||!u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l+rp(e),y:c}}function LP(e){var t,n=Br(e),r=np(e),s=(t=e.ownerDocument)==null?void 0:t.body,o=ts(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=ts(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+rp(e),c=-r.scrollTop;return yr(s||n).direction==="rtl"&&(l+=ts(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:i,x:l,y:c}}function sp(e){var t=yr(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function H1(e){return["html","body","#document"].indexOf(Yn(e))>=0?e.ownerDocument.body:dn(e)&&sp(e)?e:H1(Al(e))}function Vo(e,t){var n;t===void 0&&(t=[]);var r=H1(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),o=Yt(r),i=s?[o].concat(o.visualViewport||[],sp(r)?r:[]):r,l=t.concat(i);return s?l:l.concat(Vo(Al(i)))}function Du(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $P(e,t){var n=Qs(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Vf(e,t,n){return t===k1?Du(kP(e,n)):us(t)?$P(t,n):Du(LP(Br(e)))}function NP(e){var t=Vo(Al(e)),n=["absolute","fixed"].indexOf(yr(e).position)>=0,r=n&&dn(e)?_i(e):e;return us(r)?t.filter(function(s){return us(s)&&N1(s,r)&&Yn(s)!=="body"}):[]}function DP(e,t,n,r){var s=t==="clippingParents"?NP(e):[].concat(t),o=[].concat(s,[n]),i=o[0],l=o.reduce(function(c,u){var d=Vf(e,u,r);return c.top=ts(d.top,c.top),c.right=Va(d.right,c.right),c.bottom=Va(d.bottom,c.bottom),c.left=ts(d.left,c.left),c},Vf(e,i,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function B1(e){var t=e.reference,n=e.element,r=e.placement,s=r?Kn(r):null,o=r?eo(r):null,i=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(s){case It:c={x:i,y:t.y-n.height};break;case hn:c={x:i,y:t.y+t.height};break;case gn:c={x:t.x+t.width,y:l};break;case Vt:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var u=s?tp(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(o){case Zs:c[u]=c[u]-(t[d]/2-n[d]/2);break;case si:c[u]=c[u]+(t[d]/2-n[d]/2);break}}return c}function oi(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,o=n.strategy,i=o===void 0?e.strategy:o,l=n.boundary,c=l===void 0?rP:l,u=n.rootBoundary,d=u===void 0?k1:u,f=n.elementContext,h=f===void 0?Oo:f,g=n.altBoundary,v=g===void 0?!1:g,m=n.padding,b=m===void 0?0:m,y=I1(typeof b!="number"?b:V1(b,Oi)),x=h===Oo?sP:Oo,w=e.rects.popper,S=e.elements[v?x:h],j=DP(us(S)?S:S.contextElement||Br(e.elements.popper),c,d,i),C=Qs(e.elements.reference),O=B1({reference:C,element:w,strategy:"absolute",placement:s}),E=Du(Object.assign({},w,O)),T=h===Oo?E:C,_={top:j.top-T.top+y.top,bottom:T.bottom-j.bottom+y.bottom,left:j.left-T.left+y.left,right:T.right-j.right+y.right},M=e.modifiersData.offset;if(h===Oo&&M){var k=M[s];Object.keys(_).forEach(function(B){var z=[gn,hn].indexOf(B)>=0?1:-1,P=[It,hn].indexOf(B)>=0?"y":"x";_[B]+=k[P]*z})}return _}function IP(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,o=n.rootBoundary,i=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?L1:c,d=eo(r),f=d?l?$f:$f.filter(function(v){return eo(v)===d}):Oi,h=f.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=f);var g=h.reduce(function(v,m){return v[m]=oi(e,{placement:m,boundary:s,rootBoundary:o,padding:i})[Kn(m)],v},{});return Object.keys(g).sort(function(v,m){return g[v]-g[m]})}function VP(e){if(Kn(e)===Jd)return[];var t=Ca(e);return[If(e),t,If(t)]}function HP(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,l=i===void 0?!0:i,c=n.fallbackPlacements,u=n.padding,d=n.boundary,f=n.rootBoundary,h=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,m=n.allowedAutoPlacements,b=t.options.placement,y=Kn(b),x=y===b,w=c||(x||!v?[Ca(b)]:VP(b)),S=[b].concat(w).reduce(function(K,Q){return K.concat(Kn(Q)===Jd?IP(t,{placement:Q,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:m}):Q)},[]),j=t.rects.reference,C=t.rects.popper,O=new Map,E=!0,T=S[0],_=0;_<S.length;_++){var M=S[_],k=Kn(M),B=eo(M)===Zs,z=[It,hn].indexOf(k)>=0,P=z?"width":"height",A=oi(t,{placement:M,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),$=z?B?gn:Vt:B?hn:It;j[P]>C[P]&&($=Ca($));var N=Ca($),I=[];if(o&&I.push(A[k]<=0),l&&I.push(A[$]<=0,A[N]<=0),I.every(function(K){return K})){T=M,E=!1;break}O.set(M,I)}if(E)for(var V=v?3:1,U=function(Q){var ce=S.find(function(te){var G=O.get(te);if(G)return G.slice(0,Q).every(function(Z){return Z})});if(ce)return T=ce,"break"},X=V;X>0;X--){var ne=U(X);if(ne==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}const BP={name:"flip",enabled:!0,phase:"main",fn:HP,requiresIfExists:["offset"],data:{_skip:!1}};function Hf(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Bf(e){return[It,gn,hn,Vt].some(function(t){return e[t]>=0})}function FP(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,o=t.modifiersData.preventOverflow,i=oi(t,{elementContext:"reference"}),l=oi(t,{altBoundary:!0}),c=Hf(i,r),u=Hf(l,s,o),d=Bf(c),f=Bf(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const zP={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:FP};function UP(e,t,n){var r=Kn(e),s=[Vt,It].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,i=o[0],l=o[1];return i=i||0,l=(l||0)*s,[Vt,gn].indexOf(r)>=0?{x:l,y:i}:{x:i,y:l}}function WP(e){var t=e.state,n=e.options,r=e.name,s=n.offset,o=s===void 0?[0,0]:s,i=L1.reduce(function(d,f){return d[f]=UP(f,t.rects,o),d},{}),l=i[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}const GP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:WP};function KP(e){var t=e.state,n=e.name;t.modifiersData[n]=B1({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const qP={name:"popperOffsets",enabled:!0,phase:"read",fn:KP,data:{}};function YP(e){return e==="x"?"y":"x"}function XP(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,l=i===void 0?!1:i,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.padding,h=n.tether,g=h===void 0?!0:h,v=n.tetherOffset,m=v===void 0?0:v,b=oi(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),y=Kn(t.placement),x=eo(t.placement),w=!x,S=tp(y),j=YP(S),C=t.modifiersData.popperOffsets,O=t.rects.reference,E=t.rects.popper,T=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,_=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(C){if(o){var B,z=S==="y"?It:Vt,P=S==="y"?hn:gn,A=S==="y"?"height":"width",$=C[S],N=$+b[z],I=$-b[P],V=g?-E[A]/2:0,U=x===Zs?O[A]:E[A],X=x===Zs?-E[A]:-O[A],ne=t.elements.arrow,K=g&&ne?ep(ne):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:D1(),ce=Q[z],te=Q[P],G=Io(0,O[A],K[A]),Z=w?O[A]/2-V-G-ce-_.mainAxis:U-G-ce-_.mainAxis,le=w?-O[A]/2+V+G+te+_.mainAxis:X+G+te+_.mainAxis,se=t.elements.arrow&&_i(t.elements.arrow),me=se?S==="y"?se.clientTop||0:se.clientLeft||0:0,ye=(B=M==null?void 0:M[S])!=null?B:0,Ze=$+Z-ye-me,et=$+le-ye,gt=Io(g?Va(N,Ze):N,$,g?ts(I,et):I);C[S]=gt,k[S]=gt-$}if(l){var st,Ue=S==="x"?It:Vt,Jt=S==="x"?hn:gn,$e=C[j],Je=j==="y"?"height":"width",bn=$e+b[Ue],mt=$e-b[Jt],it=[It,Vt].indexOf(y)!==-1,pt=(st=M==null?void 0:M[j])!=null?st:0,yn=it?bn:$e-O[Je]-E[Je]-pt+_.altAxis,Ot=it?$e+O[Je]+E[Je]-pt-_.altAxis:mt,xn=g&&it?xP(yn,$e,Ot):Io(g?yn:bn,$e,g?Ot:mt);C[j]=xn,k[j]=xn-$e}t.modifiersData[r]=k}}const ZP={name:"preventOverflow",enabled:!0,phase:"main",fn:XP,requiresIfExists:["offset"]};function JP(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function QP(e){return e===Yt(e)||!dn(e)?np(e):JP(e)}function eO(e){var t=e.getBoundingClientRect(),n=Js(t.width)/e.offsetWidth||1,r=Js(t.height)/e.offsetHeight||1;return n!==1||r!==1}function tO(e,t,n){n===void 0&&(n=!1);var r=dn(t),s=dn(t)&&eO(t),o=Br(t),i=Qs(e,s,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Yn(t)!=="body"||sp(o))&&(l=QP(t)),dn(t)?(c=Qs(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=rp(o))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function nO(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function s(o){n.add(o.name);var i=[].concat(o.requires||[],o.requiresIfExists||[]);i.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&s(c)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||s(o)}),r}function rO(e){var t=nO(e);return hP.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function sO(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function oO(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Ff={placement:"bottom",modifiers:[],strategy:"absolute"};function zf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function iO(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,o=s===void 0?Ff:s;return function(l,c,u){u===void 0&&(u=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ff,o),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],h=!1,g={state:d,setOptions:function(y){var x=typeof y=="function"?y(d.options):y;m(),d.options=Object.assign({},o,d.options,x),d.scrollParents={reference:us(l)?Vo(l):l.contextElement?Vo(l.contextElement):[],popper:Vo(c)};var w=rO(oO([].concat(r,d.options.modifiers)));return d.orderedModifiers=w.filter(function(S){return S.enabled}),v(),g.update()},forceUpdate:function(){if(!h){var y=d.elements,x=y.reference,w=y.popper;if(zf(x,w)){d.rects={reference:tO(x,_i(w),d.options.strategy==="fixed"),popper:ep(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(_){return d.modifiersData[_.name]=Object.assign({},_.data)});for(var S=0;S<d.orderedModifiers.length;S++){if(d.reset===!0){d.reset=!1,S=-1;continue}var j=d.orderedModifiers[S],C=j.fn,O=j.options,E=O===void 0?{}:O,T=j.name;typeof C=="function"&&(d=C({state:d,options:E,name:T,instance:g})||d)}}}},update:sO(function(){return new Promise(function(b){g.forceUpdate(),b(d)})}),destroy:function(){m(),h=!0}};if(!zf(l,c))return g;g.setOptions(u).then(function(b){!h&&u.onFirstUpdate&&u.onFirstUpdate(b)});function v(){d.orderedModifiers.forEach(function(b){var y=b.name,x=b.options,w=x===void 0?{}:x,S=b.effect;if(typeof S=="function"){var j=S({state:d,name:y,instance:g,options:w}),C=function(){};f.push(j||C)}})}function m(){f.forEach(function(b){return b()}),f=[]}return g}}var aO=[AP,qP,_P,vP,GP,BP,ZP,CP,zP],lO=iO({defaultModifiers:aO}),cO=typeof Element<"u",uO=typeof Map=="function",dO=typeof Set=="function",pO=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ea(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Ea(e[r],t[r]))return!1;return!0}var o;if(uO&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Ea(r.value[1],t.get(r.value[0])))return!1;return!0}if(dO&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(pO&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(cO&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!Ea(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var fO=function(t,n){try{return Ea(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const hO=xd(fO);var gO=[],ao=function(t,n,r){r===void 0&&(r={});var s=ke.useRef(null),o={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||gO},i=ke.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=i[0],c=i[1],u=ke.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(g){var v=g.state,m=Object.keys(v.elements);p0.flushSync(function(){c({styles:kf(m.map(function(b){return[b,v.styles[b]||{}]})),attributes:kf(m.map(function(b){return[b,v.attributes[b]]}))})})},requires:["computeStyles"]}},[]),d=ke.useMemo(function(){var h={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[u,{name:"applyStyles",enabled:!1}])};return hO(s.current,h)?s.current||h:(s.current=h,h)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,u]),f=ke.useRef();return Lf(function(){f.current&&f.current.setOptions(d)},[d]),Lf(function(){if(!(t==null||n==null)){var h=r.createPopper||lO,g=h(t,n,d);return f.current=g,function(){g.destroy(),f.current=null}}},[t,n,r.createPopper]),{state:f.current?f.current.state:null,styles:l.styles,attributes:l.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}};const Ti=e=>typeof e<"u";var Ne=(e=>(e.web="web",e.email="email",e))(Ne||{});const Ht=p.forwardRef(function({children:t,title:n,onClose:r,icon:s,shadow:o=!0,padding:i=!0,border:l=!0,round:c=!0,className:u,classNameBody:d,size:f="m",titleClass:h=R("gs-utl-mb-2 gs-utl-mt-0.5"),style:g,bg:v,...m},b){return a.jsxs("div",{...m,ref:b,style:g,className:R([u,v||jd.bg,ee.b,c&&ee.rnd,l?H.br:ee.bT,"gs-utl-card gs-utl-overflow-auto",o&&"gs-utl-shadow-md",i&&f==="l"&&"gs-utl-p-5",i&&f==="m"&&"gs-utl-px-4 gs-utl-py-2",i&&f==="s"&&"gs-utl-px-2 gs-utl-py-1",i&&f==="xs"&&"gs-utl-px-2 gs-utl-py-0.5",i&&f==="x2s"&&"gs-utl-px-0.5"]),children:[(n||r)&&n!==!1&&a.jsxs(D,{className:R("gs-utl-card-title",h),items:"center",children:[a.jsx(L,{className:R("truncate"),grow:!0,children:n}),(r||s)&&a.jsx(L,{onClick:r,className:R("cursor-pointer transition-opacity opacity-50 hover:gs-utl-opacity-100"),children:a.jsx(J,{icon:s||Y.close,size:"18px"})})]}),a.jsx("div",{className:R("gs-utl-card-body",d),children:t})]})});var Ml=(e=>(e.canvas="canvas",e.layers="layers",e))(Ml||{}),rr=(e=>(e.selectParent="selectParent",e.duplicate="duplicate",e.delete="delete",e.symbolCreate="symbolCreate",e.symbolDetach="symbolDetach",e.symbolOverride="symbolOverride",e.symbolOverrideClear="symbolOverrideClear",e))(rr||{});class mO{constructor(t){this.isOpen=!1,this.isEnabled=!0,this.items=[],this.coordinates={x:0,y:0},this.getItemsForComponent=as(function*(n,r={}){var y;if(!(n!=null&&n.em))return[];const s=n.em.getEditor(),{isSymbol:o,isRoot:i}=s.Components.getSymbolInfo(n),l=!!n.getSymbolOverride(),c=!!n.get("removable"),u=!!n.parent()&&!!n.toolbar.length,d=!!n.get("copyable"),f=[u&&{id:rr.selectParent,label:"Select parent",onClick:()=>{s.runCommand("core:component-exit",{force:!0})}},d&&{id:rr.duplicate,label:"Duplicate",onClick:()=>{s.runCommand("tlb-clone")}},!o&&c&&{id:rr.symbolCreate,label:"Create Symbol",onClick:()=>{s.runCommand(fe.symbolAdd)}},o&&i&&{id:rr.symbolDetach,label:"Detach instance",onClick:()=>{s.runCommand(fe.symbolDetach)}},o&&!l&&{id:rr.symbolOverride,label:"Make overridable",onClick:()=>{s.runCommand(fe.symbolOverride,{override:!0})}},o&&l&&{id:rr.symbolOverrideClear,label:"Clear overridable",onClick:()=>{s.runCommand(fe.symbolOverride)}},c&&{id:rr.delete,label:"Delete",onClick:()=>{s.runCommand("core:component-delete")}}].filter(Boolean),h=n.get("contextMenu"),g={...r,items:f,component:n,editor:s,type:n.get("type")||"default",source:r.source||Ml.canvas},v=yield Uf(h,g),m=(y=this.store.appEditorStore.sdkComponentsConfig)==null?void 0:y.contextMenu;return yield Uf(m,{...g,items:v})}),this.store=t,Bt(this,{},{autoBind:!0})}get publicState(){return{enabled:this.isEnabled}}setPublicState(t){t.enabled!==void 0&&(this.isEnabled=t.enabled)}*showForComponent(t,n){const r=t==null?void 0:t.em;if(!r)return;n.skipSelect||r.selected.hasComponent(t)||r.setSelected(t);const s=yield this.getItemsForComponent(t,n);s.length&&this.show({...n,items:s})}show({items:t,x:n,y:r,w:s,h:o}){this.isOpen=!0,this.coordinates={x:n,y:r,w:s,h:o},this.items=t}hide(){this.isOpen=!1,setTimeout(this.clear,101)}clear(){this.items=[],this.coordinates={x:0,y:0}}}const Uf=async(e,t)=>rt(e)?(await e(t)).filter(Boolean):t.items,op=()=>Pt().contextMenu;var F1,Wf=$t;F1=Wf.createRoot,Wf.hydrateRoot;function z1(e,t){p.useEffect(()=>{const n="pointerdown",{current:r}=e;if(!r||!t.enabled)return;function s(o){const i=o.target;r&&i&&!r.contains(i)&&t.onTrigger(i)}return document.addEventListener(n,s),()=>{document.removeEventListener(n,s)}},[e.current,t.enabled])}const U1=(e,t)=>{const{boxRectScreen:n,vwHeight:r,initialPos:s="top-right"}=t,o=s.split("-"),i=o[0],l=o[1],c=i==="top"?"bottom":"top",u=l==="right"?"left":"right";p.useLayoutEffect(()=>{const d=e.current;if(d){const{offsetWidth:f,offsetHeight:h}=d,g=n.y-h,v=n.x+n.width-f,m=n.height+h>r,b=g<0,y=b&&!m?c:i,x=v<0?u:l;if(t.setPos(`${y}-${x}`),m){const w=n.y+n.height,S=w<0?g-w:g;d.style.top=b?`${parseInt(`${-S}`)}px`:""}else d.style.top=""}},[e.current,n])},W1=e=>{const{ref:t,show:n,node:r,styles:s,update:o,reload:i}=e,l={all:"initial",zIndex:"10",fontFamily:"inherit",...s};p.useEffect(()=>{const c=t.current;if(c&&n){if(!c.__sh){const f=c.attachShadow({mode:"closed"});c.__sh=F1(f)}c.__sh.render(r),Object.keys(l).forEach(f=>{c.style.setProperty(wx(f),l[f],"important")});const u=new MutationObserver(i);u.observe(c,{attributeFilter:["style"]});const d=new MutationObserver(f=>{Array.from(f[0].removedNodes).includes(c)&&i()});return d.observe(c.parentNode,{childList:!0}),()=>{u.disconnect(),d.disconnect()}}},[t.current,n,o])},vO="gs-cmp-popover";function Cr({children:e,handler:t,title:n,size:r,padding:s=!0,overlay:o,clickAway:i,topIcon:l,placement:c="auto",offset:u,open:d,onClose:f,buttonAs:h,className:g,classNameBody:v,buttonProps:m={}}){const[b,y]=p.useState(!!d),[x,w]=p.useState(b),[S,j]=p.useState(null),[C,O]=p.useState(null),E=ao(S,C,{...ap({offset:u}),placement:c}),T=()=>{w(!1),f==null||f()};z1({current:C},{onTrigger:T,enabled:i&&b}),p.useEffect(()=>{w(!!d)},[d]),p.useEffect(()=>{var k;b&&((k=E.update)==null||k.call(E))},[b,E.update]),p.useEffect(()=>{const k=setTimeout(()=>y(x),10);return()=>clearTimeout(k)},[x]);const _=R("w-full transition-colors",...Zm({border:!1,size:"",...m})),M=R(["fixed z-20",l&&"gjs-mt-5",r==="s"&&"w-full max-w-64",r==="sm"&&"w-full max-w-sm",r==="md"&&"w-full max-w-md"]);return a.jsxs(Pc,{className:R(vO,"relative flex",g),children:[a.jsx(Pc.Button,{ref:j,as:h,className:_,children:a.jsx("div",{onClick:()=>!Ti(d)&&w(!b),children:t})}),b&&o&&a.jsx("div",{onClick:T,className:R("z-10 fixed inset-0")}),x&&a.jsx(Pc.Panel,{static:!0,className:M,ref:O,style:E.styles.popper,...E.attributes.popper,children:a.jsx(Gn,{as:p.Fragment,show:b,unmount:!1,...Sd,children:a.jsx(Ht,{title:n,onClose:T,padding:s,classNameBody:v,children:typeof e=="function"?e({close:T}):e})})})]})}function Rl({action:e,icon:t,label:n,className:r,items:s,...o}){const i=p.useRef(null),[l,c]=p.useState(),u=i.current,d=R([r,"gs-utl-last:border-b-0 gs-utl-gap-2 gs-utl-select-none",H.br,Pe.xy,ee.bb,o.disabled&&qe.disabled,...e?[H.hBgH,"gs-utl-cursor-pointer"]:["gs-utl-cursor-default"]]),f=g=>rt(e)&&e({event:g});p.useEffect(()=>{if(!u)return;const g=setTimeout(()=>c(u.getBoundingClientRect()),o.active?0:qm);return()=>clearTimeout(g)},[u,o.active]);const h=()=>{var g;return(g=o.onActive)==null?void 0:g.call(o)};return a.jsxs(D,{ref:i,items:"center",nowrap:!0,className:d,onClick:f,onPointerEnter:h,children:[t&&a.jsx(L,{children:a.jsx(J,{icon:t,size:oe.s})}),a.jsx(L,{className:R(o.classNameLabel,qe.txtEllips),grow:!0,children:n}),!!(s!=null&&s.length)&&a.jsxs(a.Fragment,{children:[a.jsx(L,{children:a.jsx(J,{icon:Y.chevronRight,size:oe.s,className:R("-gs-utl-mr-2")})}),l&&o.active&&a.jsx(Y1,{items:s,x:l.left,y:l.top,w:l.width,h:l.height,open:!0})]})]})}function wt({className:e,as:t="label",bold:n,m:r="gjs-mb-1",size:s="m",capitalize:o=!0,children:i,tip:l,...c}){const u=t;return a.jsxs(u,{className:R(e,r,l?"gs-utl-flex gs-utl-gap-2 gs-utl-items-center":"block",o&&"capitalize",n&&"font-semibold",s==="s"&&"text-sm"),...c,children:[!!l&&a.jsx(lt,{classNameWrp:"gs-utl-normal-case",classNameContent:"gs-utl-max-w-60",title:l,children:a.jsx(J,{icon:Y.information,size:oe.s2x})}),i]})}const bO=(e,t)=>e.filter(n=>n.id===t)[0]||null,G1=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),yO=(e,t)=>e.label.toLowerCase().indexOf(t.toLowerCase())>=0,K1=R("cursor-default select-none focus:gs-utl-outline-none","z-20 max-h-full"),ip={strategy:"fixed",placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"flip",options:{fallbackPlacements:["top"]}}]};function Gf(e){var o;const{option:t,active:n,selected:r}=e,s=((o=e.isSelected)==null?void 0:o.call(e))||!0;return a.jsxs(D,{items:"center",className:R([Pe.xy,n&&jd.bgH]),children:[a.jsx(L,{className:R("truncate"),grow:!0,children:t.label}),a.jsx(L,{className:R("gjs-pl-2"),children:G1(t,r)&&s&&a.jsx(J,{className:R(H.tA),icon:Y.check,size:oe.s})})]})}const xO="gs-select-field";function Se({value:e,onChange:t,onBlur:n,onFocus:r,handlerSelected:s,label:o,options:i,includeEmpty:l,className:c,search:u,fixed:d,open:f,caret:h=Y.chevronDown,size:g="m",width:v="",border:m,style:b,pos:y,emptyState:x="- Select an option -",name:w,required:S,disabled:j,tip:C,classNameContainer:O,autoFocus:E}){const[T,_]=p.useState(null),[M,k]=p.useState(null),[B,z]=p.useState(""),{styles:P,attributes:A}=ao(T,M,ip),$=typeof u=="object"?u.onChange:void 0,N=[...i].filter(te=>u?$||yO(te,B):te),I=u&&(typeof u=="object"&&u.value||B),V=I&&N.length?N[0]:bO(N,e),U=te=>t(te.id),X={id:null,label:x},ne=V?s?s(V):V.content||V.label:s?s(X):x;l&&N.unshift(X);const K=te=>{const{value:G}=te.target,Z=G.trim();switch(te.key){case"Escape":t(null);break;case"Enter":t((N.length?N[0].id:Z)||null);break;case" ":ti(te);break}},Q=W("gs-utl-w-full gs-utl-text-left gs-utl-cursor-pointer gs-utl-block",ee.rnd,ni.focus),ce=()=>{n==null||n()};return a.jsx(Eo,{value:V,onChange:U,children:({open:te})=>a.jsxs("div",{className:W(xO,O,"gs-utl-relative gs-utl-w-full gs-utl-text-sm"),style:b,children:[o&&a.jsx(Eo.Label,{children:a.jsx(wt,{as:"span",size:g,tip:C,children:o})}),w&&a.jsx("input",{type:"input",name:w,value:(V==null?void 0:V.id)??"",onChange:()=>{},className:R("gs-utl-w-[1px] gs-utl-h-[1px] gs-utl-opacity-[0.001] gs-utl-absolute"),required:S,disabled:j}),a.jsx(Eo.Button,{ref:_,className:Q,tabIndex:u?-1:void 0,children:u?a.jsx("input",{autoFocus:E,value:typeof u=="object"&&u.value||B,className:W([c,"gs-utl-w-full",ee.rnd,ni.focus,Pe.xyS]),onChange:G=>{z(G.target.value),$==null||$(G.target.value)},onKeyDown:K,onClick:ti,onBlur:ce,onFocus:r}):a.jsx(Ht,{border:m,size:g,title:ne,icon:h,shadow:!1,className:R(c),titleClass:""})}),a.jsx(Eo.Options,{static:f,className:K1,ref:k,style:P.popper,...A.popper,children:a.jsxs(Ht,{padding:!1,className:R("h-full"),style:{minWidth:`${T==null?void 0:T.offsetWidth}px`,maxHeight:200},children:[!N.length&&u&&u!==!0&&a.jsx("div",{className:R(Pe.xy),children:u.empty}),N.map((G,Z)=>a.jsx(Eo.Option,{value:G,children:({active:le,selected:se})=>a.jsxs(D,{items:"center",className:R([G.className,Pe.xy,le&&jd.bgH]),children:[a.jsx(L,{className:R("truncate"),grow:!0,children:G.content||G.label}),a.jsx(L,{className:R("gjs-pl-2"),children:G1(G,V)&&!I&&a.jsx(J,{className:R(H.tA),icon:Y.check,size:oe.s})})]})},Z))]})})]})})}const Kf=Zn()&&document.body,ap=(e={})=>({...ip,placement:"right-start",modifiers:[{name:"offset",options:{offset:e.offset||[0,5]}},{name:"flip",options:{boundary:e.boundary??Kf}},{name:"preventOverflow",options:{boundary:e.boundary??Kf}}]}),q1=ap(),Ki="gs-ctx-menu-list",Y1=re(function({open:t,items:n,x:r,y:s,w:o,h:i}){const l=op(),[c,u]=p.useState(),[d,f]=p.useState(null),h=p.useMemo(()=>({getBoundingClientRect:()=>new DOMRect(r,s,o,i)}),[r,s,o,i,t]),{styles:g,attributes:v}=ao(h,d,q1),m=W(`${Ki}-wrp gs-utl-z-20`),b=W(`${Ki} gs-utl-z-20`),y=W(`${Ki}-body gs-utl-max-w-56`),x=W(`${Ki}-item`),w="gs-utl-max-w-40",S=j=>{const{action:C,onClick:O}=j;if(C||O)return E=>{const T={editor:l.store.appEditorStore.editor,...E};rt(C)?(C(T),l.hide()):rt(O)&&(O(T),l.hide())}};return a.jsx("div",{className:m,ref:f,style:g.popper,...v.popper,children:a.jsx(Gn,{show:!!t,...yi,unmount:!1,children:a.jsx(Ht,{padding:!1,className:b,classNameBody:y,children:n.map((j,C)=>p.createElement(Rl,{...j,key:j.id??C,className:x,classNameLabel:w,action:S(j),onActive:()=>u(j),active:c===j}))})})})}),Ac="gs-cmp-tooltip";function lt({className:e,classNameWrp:t,classNameContent:n,children:r,title:s,onClick:o,inline:i,size:l}){const[c,u]=p.useState(!1),[d,f]=p.useState(!1),h=Ti(l),[g,v]=p.useState(null),[m,b]=p.useState(null),y=ao(g,m,{...ap(),placement:"bottom"}),x=R(`${Ac}-target`,!i&&"block",e,!o&&"cursor-auto"),w=R(`${Ac}-content`,n,"fixed z-30 text-sm",!h&&!n&&"whitespace-nowrap",l==="s"&&"w-60");return p.useEffect(()=>{var S;c&&((S=y.update)==null||S.call(y))},[c,y.update]),p.useEffect(()=>{const S=setTimeout(()=>u(d),10);return()=>clearTimeout(S)},[d]),a.jsxs("div",{className:R(Ac,"relative",t),children:[a.jsx("span",{ref:v,className:x,onMouseEnter:()=>s&&f(!0),onMouseLeave:()=>f(!1),children:a.jsx("div",{className:R(i&&"inline-block"),onClick:()=>{f(!1),o==null||o()},children:r})}),!!d&&a.jsx("div",{className:w,ref:b,style:y.styles.popper,...y.attributes.popper,children:a.jsx(Gn,{show:!!c,unmount:!1,...Sd,children:a.jsx(Ht,{className:R(Sf.txt),bg:Sf.bg,size:"s",border:!1,children:s})})})]})}function At({children:e,title:t,classNameWrp:n,...r}){return a.jsx(lt,{title:t,classNameWrp:n,children:a.jsx(ze,{...r,children:e})})}var jt=(e=>(e.Info="info",e.Error="error",e.Success="success",e.Warning="warning",e))(jt||{});const wO={[jt.Info]:H.bgA,[jt.Error]:"bg-red-500",[jt.Success]:"bg-green-500",[jt.Warning]:"bg-orange-400"},SO=p.forwardRef(function(t,n){const r={[jt.Info]:Y.informationVariant,[jt.Error]:Y.fire,[jt.Success]:Y.checkBold,[jt.Warning]:Y.alertRhombus},{children:s,className:o,content:i,id:l,buttons:c=[],variant:u=jt.Info,autoHideTimeout:d=3e3}=t,f=p.useRef(null),h=p.useRef(),g=r[u],v=wO[u];p.useImperativeHandle(n,()=>f.current,[]);const m=()=>{var w;return(w=t.onDismiss)==null?void 0:w.call(t,l)},b=()=>{d&&(h.current=setTimeout(m,d))},y=()=>h.current&&clearTimeout(h.current);p.useEffect(()=>(b(),y),[]);const x=i||s;return a.jsx(Ht,{className:F(o,"overflow-hidden relative"),ref:f,onPointerEnter:y,onPointerLeave:b,children:a.jsxs(D,{space:"m",items:"center",className:F(Pe.y),children:[a.jsx(L,{className:F(v,ee.pill,"text-white gjs-p-1"),children:a.jsx(J,{icon:g,size:oe.s})}),a.jsx(L,{grow:!0,className:F("gjs-pr-3"),children:a.jsxs(D,{col:!0,space:"xs",children:[a.jsx(L,{className:F("text-lg font-medium leading-6"),children:t.header}),x&&a.jsx(L,{className:F(H.txtLowEmphasis),children:x}),!!c.length&&a.jsx(D,{space:"m",justify:"end",children:c.map(({id:w,...S})=>a.jsx(ze,{...S},w))})]})}),a.jsx(L,{className:F("absolute top-1 right-1"),children:a.jsx(At,{onClick:m,border:!1,children:a.jsx(J,{icon:Y.close,size:oe.s})})})]})})}),jO=re(p.forwardRef(function({className:t,toasts:n,onDismiss:r,...s},o){const i=Jx({});return a.jsx("div",{className:F(t,"w-80 gs-utl-z-30"),...s,ref:i,children:n.map(l=>a.jsx(SO,{...l,className:F("gjs-mb-2"),onDismiss:r},l.uuid||l.id))})}));var Ha=(e=>(e.self="self",e.cloud="cloud",e))(Ha||{}),kl=(e=>(e.IMAGE="image",e.VIDEO="video",e))(kl||{}),nn=(e=>(e.componentOutline="componentOutline",e.preview="preview",e.fullscreen="fullscreen",e.showCode="showCode",e.showImportCode="showImportCode",e.clearCanvas="clearCanvas",e.store="store",e.undo="undo",e.redo="redo",e))(nn||{}),X1=(e=>(e.text="text",e.number="number",e.color="color",e.select="select",e.radio="radio",e))(X1||{}),qr=(e=>(e.left="left",e.right="right",e.top="top",e.bottom="bottom",e))(qr||{}),Yr=(e=>(e.popover="popover",e.absolute="absolute",e.static="static",e.dialog="dialog",e))(Yr||{}),Ba=(e=>(e.browser="browser",e.self="self",e.cloud="cloud",e))(Ba||{}),gr=(e=>(e.dark="dark",e.light="light",e.auto="auto",e))(gr||{});function lo(e,t,n){let r,s,o,i,l;const c=t===void 0?100:t;function u(){const f=Date.now()-i;f<c&&f>=0?r=setTimeout(u,c-f):(r=null,n||(l=e.apply(o,s),o=s=null))}const d=function(){o=this,s=arguments,i=Date.now();const f=n&&!r;return r||(r=setTimeout(u,c)),f&&(l=e.apply(o,s),o=s=null),l};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(l=e.apply(o,s),o=s=null,clearTimeout(r),r=null)},d}const _o=e=>t=>(t.tagName||"").toLowerCase()===e,ar=(...e)=>e.map(t=>`[data-gjs-type="${t}"]`).join(","),CO=(e,...t)=>{var n;return t.indexOf((n=e==null?void 0:e.tagName)==null?void 0:n.toUpperCase())>=0},$r=(e,t)=>{var n;return(n=e==null?void 0:e.classList)==null?void 0:n.contains(t)},Z1=(e,t)=>{var n;return!!((n=e==null?void 0:e.hasAttribute)!=null&&n.call(e,t))},Ai=(e,t)=>{const n=e.Blocks.get(t);return n?n.collection.indexOf(n):-1},EO=e=>e.replace(/[^a-z0-9.]/gi,"_").toLowerCase(),Iu=(e,t,n="html")=>{const{Pages:r}=e,s=kt({page:t,key:"slug"});return`${r.getMain()===t?"index":bd(s||t.getName())}.${n}`},PO=(e,t)=>{const{toolbar:n}=e;n.some(s=>s.id===t.id)||(n.unshift(t),e.set("toolbar",[...n]))},Fa="custom-html-body",za="data-custom-html-body",qf="data-global-custom-html-head",Yf="data-global-custom-html-body",Xf="global",OO=function(e,t){const n=s=>{if(!s)return e.em.logError("loadGlobalHead: document not found");const o=Vu(t.appStore);let i=s.querySelector(`[${qf}]`);i||(i=s.createElement("div"),i.setAttribute(qf,"true"),s.head.insertBefore(i,s.head.firstChild)),i.innerHTML=o.customCodeHead||"",pf(i)},r=s=>{if(!s)return e.em.logError("loadGlobalBody: document not found");const o=Vu(t.appStore);let i=s.querySelector(`[${Yf}]`);if(!i){i=s.createElement("div"),i.setAttribute(Yf,"true");const l=s.querySelector('[data-gjs-type="wrapper"]');l==null||l.appendChild(i)}i.innerHTML=o.customCodeBody||"",pf(i)};e.on(e.Canvas.events.frameLoad,s=>{var o;return n((o=s.el.contentWindow)==null?void 0:o.document)}),e.on(e.Canvas.events.frameLoadBody,s=>{var o;return r((o=s.el.contentWindow)==null?void 0:o.document)}),e.on(vr.pageSettingsUpdate,s=>{var i,l;if(s.page)return;const o=(l=(i=e.Canvas.getFrames()[0])==null?void 0:i.view)==null?void 0:l.getDoc();n(o),r(o)}),e.Components.addType(Fa,{isComponent:s=>Z1(s,za),model:{defaults:{attributes:{[za]:!0},locked:!0,layerable:!1},toHTML:()=>""}}),e.on(e.events.projectLoad,()=>{const{appStore:s}=t,{globalPageSettings:o}=s.projectDataCustom;let i=(o==null?void 0:o.customCodeHead)||"",l=(o==null?void 0:o.customCodeBody)||"";e.Pages.getAll().forEach(c=>{const u=c.getMainComponent(),d=u.head.components(),f=[];d.forEach(v=>{v.has(Xf)&&f.push(v)}),f.forEach(v=>{const m=v.toHTML();i.includes(m)||(i+=m),v.remove()});const h=[];u.findType(Fa).forEach(v=>{v.has(Xf)&&h.push(v)}),h.forEach(v=>{const m=v.getInnerHTML();l.includes(m)||(l+=m),v.remove()})}),(i||l)&&s.setProjectDataCustom({globalPageSettings:{...o,customCodeHead:i,customCodeBody:l}})})},Zf=e=>{const t=e.getDirtyCount()||0;e.em.set({changesCount:t+1},{})},J1=e=>!!e.getSymbolOverride()?a.jsx(J,{icon:Y.rhombusOutline,size:oe.s3x}):a.jsx(wd,{className:R("w-4 fill-current"),svg:e.getIcon()}),_O=e=>{e.getModel().set({changesCount:e.getDirtyCount()+1})},TO=e=>e&&e===e.em.Pages.getMain(),We={title:({cmp:e})=>e.tagName==="title",favicon:({cmp:e})=>{var t;return e.tagName==="link"&&((t=e.attributes.attributes)==null?void 0:t.rel)==="icon"},description:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="description"},keywords:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="keywords"},socialTitle:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:title"},socialImage:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:image"},socialDescription:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:description"},charset:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.charset)},viewport:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="viewport"},robots:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="robots"},generator:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="generator"}},Q1=e=>{for(const t in We){const n=t;if(We[n]({cmp:e}))return n}},ev=(e,t,n)=>{const r=[];let s=n;return e.getMainComponent().findType(Fa).forEach(o=>{r.push(o),s=(s||"")+o.getInnerHTML()}),{components:r,html:s,changed:s!==t}},AO=(e,t)=>{const n={...t},r=e.getMainComponent(),{head:s}=r;if(s){const i=[],l=s.components();l.forEach(u=>{We.title({cmp:u})?(u.components(t.title),delete n.title):We.favicon({cmp:u})?(u.addAttributes({href:t.favicon}),delete n.favicon):We.description({cmp:u})?(u.addAttributes({content:t.description}),delete n.description):We.keywords({cmp:u})?(u.addAttributes({content:t.keywords}),delete n.keywords):We.socialTitle({cmp:u})?(u.addAttributes({content:t.socialTitle}),delete n.socialTitle):We.socialDescription({cmp:u})?(u.addAttributes({content:t.socialDescription}),delete n.socialDescription):We.socialImage({cmp:u})?(u.addAttributes({content:t.socialImage}),delete n.socialImage):Q1(u)||i.push(u)});const c=e.em.Parser.parseHtml(`<!DOCTYPE html><html><head>${t.customCodeHead}</head></html>`);c.head&&(l.remove(i),c.head.components&&l.add(c.head.components),delete n.customCodeHead)}const o=ev(e,n.customCodeBody);if(o.changed){const[i,...l]=o.components;(i||r.append({type:Fa})[0]).components(n.customCodeBody),l.forEach(u=>u.remove()),delete n.customCodeBody}return e.set("settings",n)},MO=e=>{const t={...e.get("settings")??{}},n=e.getMainComponent(),{head:r}=n;if(r){const s=[];r.components().forEach(o=>{const{content:i,href:l}=o.getAttributes({noClass:!0,noStyle:!0});We.title({cmp:o})?t.title=o.getInnerHTML():We.favicon({cmp:o})?t.favicon=l:We.description({cmp:o})?t.description=i:We.keywords({cmp:o})?t.keywords=i:We.socialTitle({cmp:o})?t.socialTitle=i:We.socialDescription({cmp:o})?t.socialDescription=i:We.socialImage({cmp:o})?t.socialImage=i:Q1(o)||s.push(o.toHTML())}),s.length&&(t.customCodeHead=s.join(`
`))}return t.customCodeBody=ev(e,t.customCodeBody).html,t},tv=(e,t)=>{e.getModel().set("customData",{...lp(e),...t})},lp=e=>e.getModel().get("customData")??{},Vu=e=>(e==null?void 0:e.projectDataCustom.globalPageSettings)??{},kt=e=>{const{page:t,key:n,appEditorStore:r,def:s="",defPage:o=""}=e;return(t?MO(t)[n]??o:Vu(r)[n])??s},Gr=(e,t)=>{const n=e.em.getEditor(),s=lp(n).globalPageSettings||{};return kt({page:e,key:t})||s[t]},Jf=(e,t)=>{const n=(e==null?void 0:e.getName())??"",r={page:e,appEditorStore:t};return{name:n,slug:kt({...r,key:"slug",defPage:bd(n)}),title:kt({...r,key:"title",defPage:n}),description:kt({...r,key:"description"}),favicon:kt({...r,key:"favicon"}),keywords:kt({...r,key:"keywords"}),socialTitle:kt({...r,key:"socialTitle",defPage:n}),socialImage:kt({...r,key:"socialImage"}),socialDescription:kt({...r,key:"socialDescription"}),customCodeHead:kt({...r,key:"customCodeHead"}),customCodeBody:kt({...r,key:"customCodeBody"})}},nv=(e,t)=>{var n;return(n=e.Styles.getSectors().find(r=>!!r.getProperty(t)))==null?void 0:n.getProperty(t)},RO=(e,t,n)=>{const r=nv(e,t);return r==null?void 0:r.getProperty(n)};class Qf{constructor(t,n){this.assetsStore=t,this.layoutPanelId=n,this.itemLayout=void 0,this.isLoadingAssets=!1,this.typeFilter=void 0,this.searchValue="",this.customTypes=void 0,this.customProviders=void 0,this.providerFilter=void 0,this.customAssetProps=void 0,this.customPages=void 0,this.totalItems=void 0,this.optionalType=!1,Bt(this,{},{autoBind:!0}),this.initTypeFilter(),this.initProviderFilter(),this.initOptionalType(),this.loadAssetsDebounced=lo(this.loadAssets,this.searchDebounceMs)}get sdkProviders(){var n;const t=(n=this.assetsStore.sdkAssetConfig)==null?void 0:n.providers;return rt(t)?t({providers:this.assetsStore.allProviders}):this.assetsStore.allProviders}get typeFilterOptions(){return this.customTypes??[]}get providers(){return this.sdkProviders.map(t=>({...t,types:Array.isArray(t.types)?t.types:[t.types]}))}get providerFilterOptions(){return this.providers.filter(t=>(!this.typeFilter||t.types.includes(this.typeFilter))&&(!this.customProviders||this.customProviders.includes(t.id)))}get provider(){return this.providers.find(t=>t.id===this.providerFilter)}get assetPropsFromPages(){if(!this.customPages)return;const t=[];for(const n of this.customPages)t.push(...n.items);return t}get assetProps(){return this.customAssetProps??this.assetPropsFromPages??this.assetsStore.projectAssetProps??[]}get onProviderOrProjectDelete(){const{provider:t,assetsStore:n}=this;return t?t.onDelete:n.onProjectDelete}get t(){return this.assetsStore.t}get isLoading(){return this.assetsStore.isLoadingAssets||this.isLoadingAssets}get handleDelete(){return this.onProviderOrProjectDelete&&this.handleDeleteCallback}get shouldLoadNextPage(){var n;const t=(n=this.customPages)==null?void 0:n.at(-1);return t?!t.isLastPage:!1}get reloadOnInput(){var t,n;return((n=(t=this.provider)==null?void 0:t.search)==null?void 0:n.reloadOnInput)??!1}get searchDebounceMs(){var t,n;return((n=(t=this.provider)==null?void 0:t.search)==null?void 0:n.debounceMs)??1e3}initOptionalType(){this.setOptionalType(!1)}initTypeFilter(){this.setTypeFilter(kl.IMAGE)}initProviderFilter(){var t;this.setProviderFilter((t=this.assetsStore.sdkAssetConfig)==null?void 0:t.providerId)}setOptionalType(t){this.optionalType=t}setTypeFilter(t){this.typeFilter=t}setProviderFilter(t){this.providerFilter=t}setSearchValue(t){this.searchValue=t,this.reloadOnInput&&this.loadAssetsDebounced()}setCustomTypes(t){this.customTypes=t}setCustomProviders(t){this.customProviders=t}setCustomAssetProps(t){this.customAssetProps=t}setCustomPages(t){this.customPages=t}setItemLayout(t){this.itemLayout=t}setIsLoadingAssets(t){this.isLoadingAssets=t}selectProjectAssets(){this.setCustomAssetProps(void 0),this.setCustomPages(void 0),this.setItemLayout(void 0)}async loadProviderAssets(t=!0){var l,c,u,d;const{assetsStore:n}=this,{editor:r}=n;if(!r||!this.provider)return;t&&(this.setCustomAssetProps(void 0),this.setCustomPages(void 0));const s=((l=this.customPages)==null?void 0:l.length)??0,o=(u=(c=this.customPages)==null?void 0:c.at(-1))==null?void 0:u.nextPageCustomData,i=await this.provider.onLoad({editor:r,assetTypeFilter:this.typeFilter,pageIndex:s,searchValue:this.searchValue,pageCustomData:o})??[];if(Array.isArray(i)){const f=i.map(n.toAssetProps);this.setCustomAssetProps(f)}else{const f={...i,items:i.items.map(n.toAssetProps)};this.setCustomPages([...this.customPages??[],f])}this.setItemLayout((d=this.provider)==null?void 0:d.itemLayout)}async loadAssets(t=!0){const{assetsStore:n}=this,{toastStore:r}=n.store;try{this.setIsLoadingAssets(!0),this.provider?await this.loadProviderAssets(t):this.selectProjectAssets()}catch(s){console.error(s),r.addError("assets-error-get",this.t("errorLoad"))}finally{this.setIsLoadingAssets(!1)}}async reloadAssets(t){const{assetsStore:n}=this,{cachedOnLoadAssetProps:r}=n;await this.loadAssets(t==null?void 0:t.clearExisting),!this.provider&&r&&(n.cachedOnLoadAssetProps=void 0,await n.loadProjectAssets())}async handleDeleteCallback(t){const{assetsStore:n,onProviderOrProjectDelete:r}=this,{appEditorStore:s}=n.store,{editor:o}=s;if(!(!o||!r))try{n.setIsLoadingAssets(!0),await r({assets:[n.toAsset(t)],assetProps:[t],editor:o,loadAssets:i=>this.reloadAssets(i)})}catch(i){console.error(i),n.store.toastStore.addError("assets-error-delete",{header:this.t("errorDelete"),content:i==null?void 0:i.message})}finally{n.setIsLoadingAssets(!1)}}}const rv=e=>Pt().assetsStore.assetPanelStores[e];class kO{constructor(t){this.store=t,this.isLoadingAssets=!1,this.mainPanelId=`main-${Hm()}`,this.assetPanelStores={},this.cachedOnLoadAssetProps=void 0,this.projectAssetProps=void 0,this.allProviders=[],this.assetPanelStores[this.mainPanelId]=new Qf(this,this.mainPanelId),Bt(this,{},{autoBind:!0})}get sdkAssetConfig(){return this.store.appEditorStore.sdkOptions.assets}get isUsingAssetCloud(){var t;return((t=this.sdkAssetConfig)==null?void 0:t.storageType)===Ha.cloud}get storageType(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.storageType}get isSelfStorage(){return this.storageType===Ha.self}get editor(){return this.store.appEditorStore.editor}get customOnLoad(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onLoad}get customOnDelete(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onDelete}get customOnUpload(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onUpload}get onCloudOrCustomUpload(){const{appEditorStore:t}=this.store,{sdkProps:n}=t,s=n.options.licenseKey,o=t.sdkProjectId,i=t.sdkIdentityId,l=({files:c})=>Dx(c,s,o,i);return this.isUsingAssetCloud?l:this.customOnUpload}get onProjectDelete(){const{customOnDelete:t,isSelfStorage:n,isUsingAssetCloud:r}=this;return n?t?async s=>{await t(s),this.deleteFromProjectAssets(s)}:void 0:r?async s=>{var c,u;const{sdkOptions:o}=this.store.appEditorStore,i=(c=o.project)==null?void 0:c.id,l=(u=o.identity)==null?void 0:u.id;await ff(s.assetProps,o.licenseKey,i,l),this.deleteFromProjectAssets(s)}:this.deleteFromProjectAssets}get t(){return this.store.i18nStore.tScoped("assetManager")}get userProvider(){var l,c;const{appEditorStore:t}=this.store,{sdkOptions:n}=t,r=(l=n.project)==null?void 0:l.id,s=(c=n.identity)==null?void 0:c.id,o=n.licenseKey;return{id:"grapesjs-user-provider",label:this.t("userAssets"),types:kl.IMAGE,onLoad:()=>Lx(o,r,s),onDelete:async u=>{const{assetProps:d,loadAssets:f}=u;await ff(d,o,r,s),this.deleteFromProjectAssets(u),await f({clearExisting:!1})}}}onEditor(){const t=lo(()=>!this.loadProjectAssets()),n=this.store.appEditorStore.editor;this.initAllProviders();const r=n.Assets.events.all;n.on(r,t),this.loadProjectAssets()}initAllProviders(){var r;const t=(r=this.sdkAssetConfig)==null?void 0:r.providers,n=[...this.isUsingAssetCloud?[this.userProvider]:[],...Array.isArray(t)?t:[]];this.setAllProviders(n)}createAssetManager(t){const n=new Qf(this,t);this.assetPanelStores[t]=n}removeAssetManager(t){delete this.assetPanelStores[t]}async loadProjectAssets(){const{editor:t,isSelfStorage:n,cachedOnLoadAssetProps:r,customOnLoad:s}=this,{toastStore:o}=this.store;let i;if(t){try{if(this.setIsLoadingAssets(!0),n&&s)if(r)i=r;else{const l=await s({editor:t});this.cachedOnLoadAssetProps=l.map(this.toAssetProps),i=this.cachedOnLoadAssetProps}else i=t.Assets.getAll().map(this.toAssetProps)}catch(l){console.error(l),o.addError("assets-error-load",{header:this.t("errorLoad"),content:l==null?void 0:l.message})}finally{this.setIsLoadingAssets(!1)}i&&this.setProjectAssetProps(i)}}deleteFromProjectAssets({assets:t,editor:n,assetProps:r}){const{cachedOnLoadAssetProps:s,customOnLoad:o}=this;if(o){if(s){const i=r.map(l=>l.id);this.cachedOnLoadAssetProps=s.filter(({id:l})=>!i.includes(l)),this.setProjectAssetProps(this.cachedOnLoadAssetProps)}}else t.forEach(i=>n.Assets.remove(i)),Zf(n)}addToProjectAssets(t){const n=this.store.appEditorStore.editor,{cachedOnLoadAssetProps:r,customOnLoad:s}=this;s?r&&(this.cachedOnLoadAssetProps=[...t,...r],this.setProjectAssetProps(this.cachedOnLoadAssetProps)):(n.Assets.add(t),Zf(n))}async handleUpload(t){var o,i;const{editor:n,onCloudOrCustomUpload:r}=this,{toastStore:s}=this.store;if(!(!n||!r))try{this.setIsLoadingAssets(!0);const l=((o=t.dataTransfer)==null?void 0:o.files)||((i=t.target)==null?void 0:i.files)||[],c=Array.from(l),u=await r({files:c,editor:n});u!=null&&u.length?this.addToProjectAssets(u.map(this.toAssetProps)):console.warn("No assets returned from the upload handler. Ensure to return an array of assets.")}catch(l){console.error(l),s.addError("assets-error-upload",{header:this.t("errorUpload"),content:l==null?void 0:l.message})}finally{this.setIsLoadingAssets(!1)}}uploadFile(t){var n;return(n=this.editor)==null?void 0:n.Assets.FileUploader().uploadFile(t)}isAsset(t){return!!t.getSrc}toAssetProps(t){if(this.isAsset(t)){const r=t;return{...r.attributes,id:r.attributes.id||r.getSrc(),src:r.getSrc(),name:r.attributes.name??r.getFilename(),asset:r}}return{...t,id:t.id||t.src}}toAsset(t){const{editor:n}=this.store.appEditorStore;if(n)return t.asset??new n.AssetManager.Asset(t)}setProjectAssetProps(t){this.projectAssetProps=t}setIsLoadingAssets(t){this.isLoadingAssets=t}setAllProviders(t){this.allProviders=t}}const Mi=()=>Pt().assetsStore;class LO{constructor(t){this.store=t,Bt(this,{},{autoBind:!0})}t(t,n={}){var s;const{editor:r}=this.store.appEditorStore;return((s=r==null?void 0:r.I18n)==null?void 0:s.t(t,n))||""}tScoped(t){return(n,r)=>this.t(`${t}.${n}`,r)}}const Oe=()=>Pt().i18nStore,Nt=(e,t)=>p.Children.map(e,n=>n&&n.type===t?n:null),eh="gs-custom-layout",$O=p.forwardRef(function({className:t,component:n,noWrapper:r,id:s,render:o,...i},l){const{editor:c}=pe(),u=p.useRef(null),d=n,f=d&&c?a.jsx(d,{editor:c}):null,h=W(eh,s&&`${eh}__${s}`,t),g=u.current,v=r&&!o;return p.useImperativeHandle(l,()=>u.current,[]),p.useEffect(()=>{if(!o||!g)return;const m=x=>g.appendChild(x),b=x=>g.removeChild(x),y=o({editor:c,addEl:m,removeEl:b});if(xt(y))g.innerHTML=y;else{if(y instanceof HTMLElement)return m(y),()=>{b(y)};if(rt(y))return()=>{y()}}},[o,c,g]),v?f:a.jsx("div",{className:h,ref:u,...i,children:f})}),Ua=re($O);class NO{constructor(t){this.layouts=[],this.layoutsById=new Map,this.store=t,Bt(this,{},{autoBind:!0})}get editor(){return this.store.appEditorStore.editor}add(t,n){var r;this.get(t)||(this.layouts.push({id:t,...n}),(r=this.editor)==null||r.trigger(`${vr.layoutToggleId}${t}`,{isOpen:!0}))}remove(t,n){var s;const r=n==null?void 0:n.layout;r&&this.layouts.forEach(o=>{o.id===t&&Object.assign(o,r)}),this.layouts=n!=null&&n.force?this.layouts.filter(o=>o.id!==t):this.layouts.map(o=>o.id===t?{...o,toRemove:!0}:o),(s=this.editor)==null||s.trigger(`${vr.layoutToggleId}${t}`,{isOpen:!1})}get(t){return this.layouts.find(n=>n.id===t)}clear(){this.layouts=[]}get layoutChildren(){var r;const{children:t}=this.store.appEditorStore.sdkProps,n=((r=Nt(t,Ua))==null?void 0:r.filter(Boolean))||[];return new Map(n.map(({props:s})=>[s.id,s]))}}const cp=()=>Pt().layoutStore,DO=()=>go().layoutStore;class IO{constructor(t){this.isActive=!1,this.content="",this.store=t,Bt(this,{},{autoBind:!0})}show(t){this.isActive=!0,this.content=t}hide(){this.isActive=!1,setTimeout(this.clear,101)}clear(){this.content=""}}const sv=()=>Pt().pointerBadgeStore;var co=(e=>(e.Projects="projects",e.Settings="settings",e))(co||{}),ov=(e=>(e.gjs="gjs",e.gjsStudio="gjs-studio",e))(ov||{});const th={},VO=1,HO=(e={})=>new Promise((t,n)=>{const r=(e==null?void 0:e.db)||"gjs",s=r==="gjs-studio"?VO:1,o=th[r];if(o)t(o);else{if(!Zn())return n(new Error("window context not found"));const i=window.indexedDB.open(r,s);i.onerror=n,i.onsuccess=()=>{const l=i.result;l.onerror=n,th[r]=l,t(l)},i.onupgradeneeded=()=>{const l=i.result;l.objectStoreNames.contains("projects")||l.createObjectStore("projects"),l.objectStoreNames.contains("settings")||l.createObjectStore("settings")}}}),Ll=async(e,t)=>(await HO(t)).transaction([e],"readwrite").objectStore(e),BO=async(e,t)=>{const n=await Ll(e,t);return new Promise((r,s)=>{const o=[],i=n.openCursor();i.onerror=s,i.onsuccess=function(l){const u=l.target.result;if(u){const d=u.primaryKey,f=u.value;o.push({key:d,data:f}),u.continue()}else r(o)}})},FO=async(e,t,n)=>{const r=await Ll(e,n);return new Promise((s,o)=>{const i=r.get(t);i.onerror=o,i.onsuccess=()=>s(i.result)})},iv=async(e,t,n,r)=>{const s=await Ll(e,r);return new Promise((o,i)=>{const l=s.put(n,t);l.onerror=i,l.onsuccess=()=>o()})},zO=async(e,t,n)=>{const r=await Ll(e,n);return new Promise((s,o)=>{const i=r.delete(t);i.onerror=o,i.onsuccess=()=>s()})};var ii=(e=>(e.Existing="existing",e.Templates="templates",e))(ii||{});const UO=e=>{const{baseApiUrl:t}=Is();return`${t}/templates/${e}`},WO=(e,t)=>Xn.get(UO(e),{...t}),GO=async e=>{try{const t=await WO(e);return(t==null?void 0:t.result)??[]}catch(t){return console.error(`Failed to load templates for type ${e}:`,t),[]}},av=async(e=Ne.web)=>typeof window>"u"?[]:(await BO(co.Projects)).map(({key:r,data:s})=>{var o;return{id:`${r}`,name:`${((o=s.custom)==null?void 0:o.projectName)||r}`,data:s}}).filter(r=>{var s;return((s=r.data.custom)==null?void 0:s.projectType)===e});class KO{constructor(t){this.store=t,this._projectTypeFilter=this.store.appEditorStore.projectType,this._projectSourceFilter=ii.Existing,this._loadedProjects=void 0,this._loadedTemplates=void 0,Bt(this,{},{autoBind:!0})}get projectTypeFilter(){return this._projectTypeFilter}get projectSourceFilter(){return this._projectSourceFilter}get templates(){return this._loadedTemplates}get projects(){return this._loadedProjects}get filteredTemplates(){return this.projectSourceFilter===ii.Existing?this.projects:this.templates}async loadProjects(){const t=await av(this.projectTypeFilter);this.setProjects(t)}async loadTemplates(){var s;const t=(s=this.store.appEditorStore.sdkOptions.templates)==null?void 0:s.onLoad,n=async()=>await GO(this.projectTypeFilter);let r;if(t){const o=this.store.appEditorStore.editor;r=await t({editor:o,fetchCommunityTemplates:n})}else r=await n();this.setTemplates(r)}async loadAllTemplates(){await Promise.all([this.loadProjects(),this.loadTemplates()])}async removeProject(t){zO(co.Projects,t)}async setProjectTypeFilter(t){this._projectTypeFilter=t,this.setProjects(void 0),this.setTemplates(void 0)}setProjectSourceFilter(t){this._projectSourceFilter=t}setTemplates(t){this._loadedTemplates=t}setProjects(t){this._loadedProjects=t}}const lv=()=>Pt().templatesStore;class qO{constructor(t){this.toasts=[],this.store=t,Bt(this,{},{autoBind:!0})}add(t,n){this.toasts.find(r=>r.id===t)||this.toasts.push({id:t,...n})}addError(t,n){this.add(t,{...xt(n)?{header:n}:n,variant:jt.Error})}addWarning(t,n){this.add(t,{...xt(n)?{header:n}:n,variant:jt.Warning})}addSuccess(t,n){this.add(t,{...xt(n)?{header:n}:n,variant:jt.Success})}addInfo(t,n){this.add(t,{...xt(n)?{header:n}:n,variant:jt.Info})}remove(t){this.toasts=this.toasts.filter(n=>n.id!==t)}}const cv=()=>Pt().toastStore;class YO{constructor(t){this.isOpen=!1,this.store=t,Bt(this,{},{autoBind:!0})}setOpen(t){this.isOpen=t,this.triggerEvent()}toggleOpen(){this.isOpen=!this.isOpen,this.triggerEvent()}triggerEvent(){var t;(t=this.store.appEditorStore.editor)==null||t.trigger(vr.toggleBlocksPanel,{isOpen:this.isOpen})}}const uv=()=>Pt().blockManagerStore;function XO(e){const t=new Map,n={items:[]};return e.forEach(s=>{const{category:o,item:i}=s;if(o){const l=t.get(o.id);l?(l.items.push(i),l.category={...l.category,...o}):t.set(o.id,{category:o,items:[i]})}else n.items.push(i)}),[...Array.from(t).map(([,s])=>s),n].filter(s=>s.items.length)}const dv=e=>e.get("groups")||[],pv=(e,t)=>dv(e).includes(t),ZO=(e,t)=>{pv(e,t)||e.set("groups",[...dv(e),t])};class JO{constructor(t){this.dataSourceKeyid="globalStyles",this.records=[],this.openCategories=new Map,this.store=t,Bt(this,{openCategories:!1},{autoBind:!0})}get sdkOptionStyles(){var t;return((t=this.store.appEditorStore.sdkOptions.globalStyles)==null?void 0:t.default)||[]}get editor(){return this.store.appEditorStore.editor}get DataSources(){var t;return(t=this.editor)==null?void 0:t.DataSources}get recordsByCategory(){const{records:t,sdkOptionStyles:n}=this,r=[],s=t.reduce((o,i)=>(o.set(i.get("id"),i),o),new Map);return n.forEach(({id:o})=>{const i=s.get(o);i&&(r.push(i),s.delete(o))}),Array.from(s).map(([,o])=>{o.get("_internal")||r.push(o)}),XO(r.map(o=>({category:o.get("category"),item:o})))}setCategoryOpen(t,n){this.openCategories.set(t,n)}getDataSource(){var t;return(t=this.DataSources)==null?void 0:t.get(this.dataSourceKeyid)}getRuleByGroup(t){var n;return(n=this.editor)==null?void 0:n.CssComposer.getAll().find(r=>pv(r,t))}addStyleRule(t){var u;const n=t.get("id"),r=t.get("selector"),s=t.get("property"),o=t.getPath("value"),i=`globalStyles:${n}`,l={[s]:{type:"data-variable",path:o,defaultValue:t.get("defaultValue")}},c=this.getRuleByGroup(i);if(c)c.addStyle(l);else{const d=(u=this.editor)==null?void 0:u.CssComposer.addCollection([{selectors:[],selectorsAdd:r,style:l}],{extend:!0,at:t.index})[0];d&&ZO(d,i)}}createDataSource(){return this.DataSources.add({id:this.dataSourceKeyid,records:[]})}onLoad(){var r;const{sdkOptionStyles:t}=this;if(!t.length){this.records=[];return}let n=this.getDataSource();n||(n=this.createDataSource()),t.forEach(s=>{const o=n.getRecord(s.id);if(o){const i={label:s.label,field:s.field,category:s.category};o.set({...i,_undo:!0})}else n.addRecord({value:void 0,...s,_internal:!0,_undo:!0})}),n.getRecords().forEach(s=>{this.addStyleRule(s)}),n.listenTo(n.records,"add",s=>{this.addStyleRule(s)}),(r=this.editor)==null||r.UndoManager.add(n.records),this.records=n.getRecords()}}const QO=()=>Pt().globalStylesStore,fv=(e,t)=>{let n;try{const r=Zn()&&e&&localStorage.getItem(e);r&&(n=JSON.parse(r))}catch(r){console.error(r)}return{lastProjectId:"",...t,...n}},nh=(e,t)=>{const r={...fv(e),...t};try{Zn()&&e&&localStorage.setItem(e,JSON.stringify(r))}catch(s){console.error(s)}return r},Hu="gs-utl-dark",e_=()=>Zn()&&window.matchMedia("(prefers-color-scheme: dark)").matches,hv=e=>e==="dark"||e==="auto"&&e_(),rh=(e,t)=>{if(e&&Zn()&&t.rootEl){const{classList:n}=t.rootEl;let r=!1;if(hv(e)?(n.add(Hu),r=!0):n.remove(Hu),t.updateAppShell){const s=document.head.querySelector('meta[name="theme-color"]');s&&(s.content=r?"#18181b":"#ffffff")}}};class t_{constructor(t){this.key="",this.theme=gr.auto,this.lastProjectId="",this.updateAppShell=!1,this.rootEl=void 0,t&&Object.keys(t).forEach(n=>{const r=n,s=t[r];s!==void 0&&(this[r]=s)}),Bt(this,{},{autoBind:!0}),this.init()}init(){rh(this.theme,this)}changeTheme(t){rh(t,this),nh(this.key,{theme:t})}setTheme(t){this.theme=t}setRootEl(t){this.rootEl=t}setLocalState(t){Object.keys(t).forEach(n=>{const r=n,s=t[r];s!==void 0&&(this[r]=s)}),nh(this.key,t)}get isDarkTheme(){return hv(this.theme)}}const n_=e=>{xm(()=>e.theme,t=>{e.changeTheme(t)})},Zt=()=>Pt().localSettingsStore;class r_{constructor(t){this.isOpen=!1,this.title="",this.content="",this.size="l",this.fullH=!1,this.modalProps={},this.buttons=[],this.store=t,Bt(this,{},{autoBind:!0})}setModalProps(t){this.modalProps={title:"",size:"l",fullH:!1,buttons:[],...t}}open({content:t,...n}){this.isOpen=!0,this.content=t,this.setModalProps(n)}close(){this.isOpen=!1,setTimeout(this.clear,101)}clear(){this.content="",this.setModalProps({size:this.modalProps.size})}confirm({content:t,size:n="m",onConfirm:r,confirmButton:s,...o}){this.isOpen=!0,this.content=t;const i=()=>{r==null||r(),this.close()};this.setModalProps({...o,size:n,buttons:[{children:"Cancel",onClick:this.close,size:"m2"},{children:"Confirm",onClick:i,size:"m2",variant:"pr",...s}]})}}const Tn=()=>Pt().modalStore,s_={add:"Add",delete:"Delete",duplicate:"Duplicate",rename:"Rename",remove:"Remove",clear:"Clear",select:"Select",selectList:"Select from the list",search:"Search",update:"Update",updated:"Updated!",confirm:"Confirm",cancel:"Cancel",enable:"Enable",disable:"Disable",upload:"Upload",close:"Close",load:"Load",copy:"Copy",save:"Save",current:"Current",toggleCss:"Toggle CSS",selectTarget:"Target Component",noCode:"No code available",noItems:"No items found",confirmAction:"Do you confirm this action?",eyeDropper:"Eyedropper",noEyeDropper:"Eyedropper not supported",unauthorized:"Unauthorized project",notItemsFound:"No items found",actions:{componentOutline:{title:"Component outline"},preview:{title:"Preview"},fullscreen:{title:"Fullscreen"},showCode:{title:"Code",exportButton:"Export to ZIP"},undo:{title:"Undo"},redo:{title:"Redo"},save:{title:"Save project"},store:{title:"Save content"},open:{title:"Open project"},importCode:{title:"Import code",content:"Paste here your HTML/CSS and click Import",button:"Import"},clearCanvas:{title:"Clear page",content:"Are you sure you want to clear the page?"},about:{title:"About"},embed:{title:"Embed Studio"},newProject:{title:"Load project"},installApp:{title:"Install App",installed:"App installed"}},modals:{styleCatalog:{title:"Style Catalog",noStyles:"No styles found"},openProject:{title:"Open project"}},pluginManager:{plugins:"Plugins",all:"Available",installed:"Installed",install:"Install",uninstall:"Uninstall",allPlugins:"All plugins",updateStudio:"Restart Studio for plugin updates"},globalStyleManager:{notFound:"No global styles found"},pageManager:{pages:"Pages",page:"Page",newPage:"New Page",add:"Add page",rename:"Rename",duplicate:"Duplicate",copy:"Copy",delete:"Delete",deletePage:"Delete Page",confirmDelete:"Are you sure you want to delete the page?",settings:{label:"Settings",title:"Page settings",global:"Global settings",fields:{name:{label:"Name"},slug:{label:"Slug",description:"The slug is the URL-friendly version of the name. It is usually all lowercase and contains only letters, numbers, and hyphens."},favicon:{label:"Favicon",description:"The favicon is the small icon that appears in the browser tab."},title:{label:"Title",description:"The title is the name of the page that appears in the browser tab."},description:{label:"Description",description:"The description is a short summary of the page content."},keywords:{label:"Keywords",description:"Keywords are words or phrases that describe the content of the page."},socialTitle:{label:"Social title",description:"The title is the name of the page that appears on social networks."},socialImage:{label:"Social image",description:"The image is the picture that appears on social networks."},socialDescription:{label:"Social description",description:"The description is a short summary of the page content that appears on social networks."},customCodeHead:{label:"Custom HTML head",description:"Add any custom HTML (e.g., meta tags, stylesheets, scripts) to be included in the <head> section of the page."},customCodeBody:{label:"Custom HTML body",description:"Add any custom HTML (e.g., scripts, tracking codes) to be included just before the closing </body> tag."}}}},projectManager:{existentProjects:"Your projects",templates:"Templates",notAvailable:"No projects available",projectType:"Project type",projectName:"Project name",pages:"Pages"},templates:{notFound:"No templates found"},storageManager:{errorLoad:"Failed to load the project",errorStore:"Failed to save the project"},assetManager:{addUrl:"Add URL",projectAssets:"Assets in this project",userAssets:"Assets from all projects",errorLoad:"Failed to load assets",errorUpload:"Failed to upload",errorDelete:"Failed to delete",deleteConfirmQuestion:"Delete asset?",deleteConfirmExplanation:"This will affect existing and published projects that rely on this asset, if any exist.",assetTypes:{all:"All",image:"Images"},noProvider:"Project assets"},blockManager:{notFound:"No blocks found",blocks:"Blocks",add:"Add more blocks",labels:{section:"Section",column1:"1 Column",column2:"2 Columns",column3:"3 Columns","column3-7":"2 Columns 3/7",gridRow:"Grid",heading:"Heading",divider:"Divider",imageBox:"Image Box",linkBox:"Link Box"},categories:{},symbols:{notFound:"No symbols found",instancesProject:"Instance/s in the project",delete:"Delete symbol",deleteConfirm:"Are you sure you want to delete the symbol? All instances inside the project will be detached."}},domComponents:{names:{section:"Section",gridRow:"Row",gridColumn:"Column",heading:"Heading",divider:"Divider",imageBox:"Image Box",linkBox:"Link Box"}},traitManager:{empty:"Select a component to see its properties",panelLabel:"Properties",traits:{labels:{loading:"Lazy load",target:"Open in new tab",showList:"Show element list",customAttributes:"Custom Attributes"},attributes:{}}},deviceManager:{allDevices:"All devices"},selectorManager:{noSelecton:"You don't have any selected element.",selectFromCanvas:"Select an element from the canvas.",selectFromList:"Pick any style from the Style Catalog.",selectCustom:"Add your custom style selector.",selection:"Selection",selector:"Selector",addNewSelector:"Add new selector",removeSelector:"Remove selector",target:"Target",device:"Device",state:"State",deleteStyle:"Delete style",showCSS:"Show CSS code",searchStyle:"Search style",applyOnSelector:"Apply style changes on Selectors",noSelectors:"No Selectors applied",applyOnComponents:"Apply style changes on Components",noComponents:"No Components selected",currentSelection:"The current selection from which styles are displayed of"},layerManager:{layers:"Layers"},styleManager:{panelLabel:"Styles",layout:{flexChild:"Flex child",display:{tips:{block:"Block generates a block element box, generating line breaks both before and after the element when in the normal flow.",inline:"Inline generates one or more inline element boxes that do not generate line breaks. The inline is generally default for text content.","inline-block":"Inline-block is similar to inline but allows to define width and height properties.",flex:"Flex behaves like a block element and lays out its child elements on a vertical/horizontal axis",none:"The element is hidden from the layout"}},direction:{title:{row:"Horizontal","row-reverse":"Horizontal reversed",column:"Vertical","column-reverse":"Vertical reversed"}}},position:{tips:{static:"Default position",relative:"Similar to Static but with the ability to be moved relative to itself",absolute:"Absolute position, relative to its closest non-static parent",fixed:"Fixed position (even when the page is scrolled), relative to the browser viewport",sticky:"Elements are keept in place but moved when the page is scrolled, based on indicated distance"},presets:{title:"Presets",options:{topLeft:"Top left",topRight:"Top right",bottomLeft:"Bottom left",bottomRight:"Bottom right",left:"Left",right:"Right",bottom:"Bottom",top:"Top",full:"Full"}}},properties:{"margin-top":"Top","margin-right":"Right","margin-bottom":"Bottom","margin-left":"Left","padding-top":"Top","padding-right":"Right","padding-bottom":"Bottom","padding-left":"Left","border-top-left-radius":"Top Left","border-top-right-radius":"Top Right","border-bottom-right-radius":"Bottom Right","border-bottom-left-radius":"Bottom Left","mix-blend-mode":"Blend mode","transform-style":"Type","backface-visibility":"Backface","perspective-origin":"Perspective origin","perspective-origin-x":"Left","perspective-origin-y":"Top","transform-origin-x":"Left","transform-origin-y":"Top","align-items":"Align","align-self":"Align","justify-content":"Justify","row-gap":"Row","column-gap":"Column","font-family":"Font","font-size":"Size","font-weight":"Weight","letter-spacing":"Spacing","text-align":"Align","text-decoration":"Decoration","text-transform":"Transform","white-space":"Breaking","border-top-width":"Top","border-right-width":"Right","border-bottom-width":"Bottom","border-left-width":"Left","border-top-style":"Top","border-right-style":"Right","border-bottom-style":"Bottom","border-left-style":"Left","border-top-color":"Top","border-right-color":"Right","border-bottom-color":"Bottom","border-left-color":"Left","background-position":"Position","background-position-x":"Left","background-position-y":"Top","background-size":"Size","background-size-x":"Left","background-size-y":"Top","background-repeat":"Repeat","background-attachment":"Attachment","background-origin":"Origin","background-clip":"Clip","overflow-x":"X","overflow-y":"Y"},options:{"__background-type":{image:"Image",gradient:"Gradient",color:"Color"},display:{block:"Block",inline:"Inline","inline-block":"Inline block",flex:"Flex",none:"None"},overflow:{visible:"Visible",hidden:"Hidden",scroll:"Scroll",auto:"Auto"},"flex-wrap":{nowrap:"No wrap",wrap:"Wrap","wrap-reverse":"Reverse wrap"}}},youtube:{searchBtn:"Search on YouTube"}},o_="column1",i_="column2",a_="column3",gv="column3-7",l_=function(e,t={}){const{Components:n,Blocks:r}=e,s="gridRow",o="gridColumn",i="gjs-grid-row",l="gjs-grid-column",c={tl:0,tc:0,tr:0,cl:0,bl:0,br:0},u="flex-basis",d=1,f=1,h=1;n.addType(s,{isComponent:m=>$r(m,i),model:{defaults:{emptyState:!0,droppable:ar(o),highlightable:!1,attributes:{class:i},resizable:{...c,keyHeight:"min-height"},icon:`
            <svg viewBox="0 0 24 24">
              <path d="M22 14c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2v4M4 14h4v-4H4v4m6 0h4v-4h-4v4m6 0h4v-4h-4v4z"></path>
            </svg>
          `,"stylable-require":["flex-align-items","flex-align-items-v","flex-direction-id","flex-multiline"],traits:["id","title",{name:"add-column",labelButton:"Add column",type:"button",full:!0,command:m=>{m.getSelected().components().add({type:o})}}],styles:`
            .${i} {
              display: flex;
              justify-content: flex-start;
              align-items: stretch;
              flex-direction: row;
              min-height: auto;
              padding: 10px 0;
            }
            @media (max-width: 992px) {
              .${i} {
                flex-direction: column;
              }
            }
          `}}}),n.addType(o,{isComponent:m=>$r(m,l),model:{defaults:{emptyState:!0,attributes:{class:l},draggable:ar(s),resizable:{...c,bc:0,keyWidth:u,currentUnit:h,minDim:d,step:f},icon:`
            <svg viewBox="0 0 24 24">
              <path d="M8 2h8c1.1 0 2 .9 2 2v16c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8z"></path>
            </svg>
          `,unstylable:["width"],"stylable-require":["flex-basis","flex-item-behaviour","flex-item-h-align","flex-order"],traits:[{label:"Center content",name:"center-content",type:"checkbox",changeProp:!0}],styles:`
            .${l} {
              flex: 1 1 0%;
              padding: 5px 0;
            }
          `},init(){this.listenTo(this,"change:center-content",this.handleCenter)},handleCenter(){const m=this.get("center-content");this.addStyle({display:m?"flex":"block","align-items":m?"center":"","justify-content":m?"center":""})}}});const g={label:s,content:{type:s,components:[{type:o},{type:o},{type:o}]},...t.block},v={merge:!0};r.add(o_,{...g,content:{type:s,components:[{type:o}]}},v),r.add(i_,{...g,content:{type:s,components:[{type:o},{type:o}]}},v),r.add(a_,{...g,content:{type:s,components:[{type:o},{type:o},{type:o}]}},v),r.add(gv,{...g,content:{type:s,components:[{type:o,style:{"flex-basis":"30%","flex-grow":0}},{type:o}]}},v)},ko="section",Mc="container",Rc="gjs-section",kc="gjs-container",c_=function(e,t={}){const{Components:n,Blocks:r}=e;r.add(ko,{label:ko,media:`
        <svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
        </svg>
      `,content:{type:ko},...t.block},{at:Ai(e,gv)+1}),n.addType(ko,{isComponent:s=>$r(s,Rc),model:{defaults:{tagName:"section",emptyState:!0,draggable:ar("wrapper"),droppable:ar(Mc),attributes:{class:Rc},components:{type:Mc},styles:`
            .${Rc} {
              display: flex;
              padding: 50px 0;
            }
          `}}}),n.addType(Mc,{isComponent:s=>$r(s,kc),model:{defaults:{emptyState:!0,copyable:!1,removable:!1,draggable:!1,attributes:{class:kc},styles:`
            .${kc} {
              width: 90%;
              margin: 0 auto;
              max-width: 1200px;
            }
          `}}})},u_=function(e,t={}){const{Components:n,Blocks:r}=e,s="divider",o="gjs-divider";r.add(s,{label:s,media:`
        <svg viewBox="0 0 24 24">
          <path d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
        </svg>
      `,content:{type:s},...t.block},{at:Ai(e,ko)+1}),n.addType(s,{isComponent:i=>$r(i,o),model:{defaults:{droppable:!1,highlightable:!1,attributes:{class:o},stylable:["height","width","background-color","margin","margin-top","margin-right","margin-bottom","margin-left"],styles:`
            .${o} {
              height: 3px;
              width: 100%;
              margin: 10px;
              background-color: rgba(0, 0, 0, 0.05);
            }
          `}}})},sh="page://",d_=function(e){const{Components:t,Blocks:n}=e,s=t.getType("wrapper").model.getDefaults(),o=t.getType("head").model;t.addType("wrapper",{model:{defaults:{emptyState:{styleIn:"height: 100vh",styleOut:"padding: 0;"},stylable:[...s.stylable,"font-family"]}}}),t.addType("head",{model:{components(u,d){return o.prototype.components.call(this,u,{...d,skipDomReset:!0})}},view:{updateContent(){}}}),t.addType("text",{model:{defaults:{highlightable:!1,emptyState:{styleIn:"min-height: auto; font-size: inherit;"}}}}),t.addType("image",{model:{defaults:{traits:[{type:"image",name:"src",label:"Image",typeProps:{inputField:!0}},"alt",{type:"checkbox",name:"loading",valueTrue:"lazy"}]}}});const l=t.getType("link").model;t.addType("link",{model:{defaults:{emptyState:!0,traits:["title",{type:"checkbox",name:"target",valueTrue:"_blank"},{type:"href",name:"href"}]},getAttrToHTML(){const u=l.prototype.getAttrToHTML.apply(this),{href:d}=u;if(d&&d.indexOf(sh)===0){const f=d.replace(sh,""),h=e.Pages.get(f);u.href=h?`./${Iu(e,h)}`:"##"}return u}}}),n.add("link",{label:"Link",content:{type:"link",content:"Link",style:{color:"#d983a6",padding:"10px"}}},{merge:!0}),t.addType("select",{model:{defaults:{traits:[{name:"name"},{type:"checkbox",name:"required"},{name:"options",type:"stack",getValue({component:u}){return u.components().map(d=>({id:d.getAttributes().value||"",label:d.getInnerHTML()}))},setValue:({component:u,value:d,emitUpdate:f})=>{u.components(d.map(h=>({type:"option",content:h.label,attributes:{value:h.id}}))),f()},properties:[{name:"id"},{name:"label"}]}]}}});const c="contentEditable";t.addType(c,{extend:"text",model:{defaults:{name:"Content",tagName:"span",hoverable:!1,selectable:!1},toHTML(u){return this.getInnerHTML(u)}}}),t.addType("button",{model:{defaults:{components:[{type:c,components:{type:"textnode",content:"Button"}}],traits:[{type:"select",name:"type",options:[{id:"button",label:"Button"},{id:"submit",label:"Submit"},{id:"reset",label:"Reset"}]}]},init(){var d;const u=[...this.components().models];(u.length>1||!((d=u[0])!=null&&d.is(c)))&&this.append({type:c})[0].append(u)}}})},p_=function(e,t={}){const{Components:n,Blocks:r}=e,s="heading";r.add(s,{label:s,media:`
        <svg viewBox="0 0 24 24">
          <path d="M8.3 11.5h7.4V6.9l-.2-1.6a1 1 0 00-.5-.5c-.3-.2-.7-.3-1-.3h-.6v-.4h6.8v.4h-.6c-.4 0-.7.1-1 .3a1 1 0 00-.6.6L18 6.9v10.3c0 .8 0 1.3.2 1.6 0 .2.2.3.4.5.4.2.7.3 1.1.3h.6v.4h-6.8v-.4h.5c.7 0 1.2-.2 1.5-.6.2-.3.3-.9.3-1.8v-4.9H8.3v4.9l.1 1.6.5.5c.3.2.7.3 1 .3h.7v.4H3.7v-.4h.6c.7 0 1.1-.2 1.4-.6.2-.3.3-.9.3-1.8V6.9L6 5.3a1 1 0 00-.5-.5l-1-.3h-.7v-.4h6.9v.4H10c-.4 0-.8.1-1 .3a1 1 0 00-.6.6l-.1 1.5v4.6z"></path>
        </svg>
      `,content:{type:s,components:"Insert your text here"},...t.block},{at:Ai(e,"text")}),n.addType(s,{extend:"text",isComponent:o=>CO(o,"H1","H2","H3","H4","H5","H6"),model:{defaults:{emptyState:!0,tagName:"h1",traits:[{type:"select",options:[{value:"h1",name:"One (largest)"},{value:"h2",name:"Two"},{value:"h3",name:"Three"},{value:"h4",name:"Four"},{value:"h5",name:"Five"},{value:"h6",name:"Six (smallest)"}],label:"Size",name:"tagName",changeProp:!0}]}}})},f_=function(e,t={}){const{Components:n,Blocks:r}=e,s=e.Components.getType("default").model,o="imageBox",i="gjs-image-box";r.add(o,{label:o,media:`
        <svg viewBox="0 0 24 24">
          <path d="M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z" />
        </svg>
      `,content:{type:o},...t.block},{at:Ai(e,"image")+1}),n.addType(o,{extend:"image",isComponent:l=>$r(l,i),model:{defaults:{tagName:"div",void:!1,droppable:!0,emptyState:!1,resizable:{tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0},traits:["title"],attributes:{class:i},styles:`
            .${i} {
              height: 200px;
              width: 100%;
            }
          `},getAttrToHTML(...l){return s.prototype.getAttrToHTML.apply(this,l)}},view:{tagName:"div",updateSrc(){const{model:l,em:c}=this,u=l.getSrcResult(),d=l.isDefaultSrc(),f=l.getStyle(),h=`url('${u}')`;u&&l.addStyle({"background-image":d&&f["background-image"]||h,"background-size":f["background-size"]||"contain","background-position":f["background-position"]||"center center","background-attachment":f["background-attachment"]||"scroll","background-repeat":f["background-repeat"]||"no-repeat"}),u&&c.trigger("component:toggled"),this.$el[u?"removeClass":"addClass"](this.classEmpty)},onRender(){this.renderChildren(),this.updateSrc()}}})},h_=function(e,t={}){const{Components:n,Blocks:r}=e,s="linkBox",o="gjs-link-box";r.add(s,{label:s,media:`
        <svg viewBox="0 0 24 24">
          <path d="M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z" />
        </svg>
      `,content:{type:s},...t.block},{at:Ai(e,"link")+1}),n.addType(s,{isComponent:i=>$r(i,o),extend:"link",model:{defaults:{editable:!1,droppable:!0,attributes:{class:o},styles:`
            .${o} {
              color: inherit;
              display: inline-block;
              vertical-align: top;
              padding: 10px;
              max-width: 100%;
              text-decoration: none;
            }
          `}}})},oh=e=>{const t=(e||"").split(" ");let n=t[0],r=t[0],s=t[0],o=t[0];return t.length===4?(n=t[0],r=t[1],s=t[2],o=t[3]):t.length===3?(n=t[0],r=t[1],o=t[1],s=t[2]):t.length===2&&(n=t[0],r=t[1],o=t[1],s=t[0]),[n,r,s,o]};function g_(e){const t={};if(e.padding){const n=e.padding.split(" ");let r=n[0],s=n[0],o=n[0],i=n[0];n.length===4?(r=n[0],s=n[1],o=n[2],i=n[3]):n.length===3?(r=n[0],s=n[1],i=n[1],o=n[2]):n.length===2&&(r=n[0],s=n[1],i=n[1],o=n[0]),t["padding-top"]=e["padding-top"]||r,t["padding-right"]=e["padding-right"]||s,t["padding-bottom"]=e["padding-bottom"]||o,t["padding-left"]=e["padding-left"]||i,delete e.padding}return{...e,...t}}const m_={ratioDefault:!0,tc:!1,cl:!1,cr:!1,bc:!1},ih=`<svg viewBox="0 0 24 24">
  <path d="M16 9h3l-5 7m-4-7h4l-2 8M5 9h3l2 7m5-12h2l2 3h-3m-5-3h2l1 3h-4M7 4h2L8 7H5m1-5L2 8l10 14L22 8l-4-6H6z"></path>
</svg>`,v_=function(e,t={}){const{Components:n,Blocks:r}=e,s="icon",o="gjs-icon",i="data-type-icon";r.add(s,{label:"Icon",media:ih,content:{type:s},...t.block}),n.addType(s,{isComponent:l=>$r(l,o)||Z1(l,i),model:{defaults:{droppable:!1,attributes:{class:o,[i]:!0},resizable:m_,components:ih,traits:["id","title",{type:"code",label:"Content",typeProps:{language:"html",clean:!0,padding:5},getValue({component:l}){return l.getInnerHTML()},setValue:lo(({editor:l,component:c,value:u})=>{const d=l.Parser.parseHtml(u).html,f=Array.isArray(d)?d[0]:d;f&&f.tagName==="svg"&&c.components(f)},500)}],styles:`
            .${o} {
              display: inline-block;
              text-decoration: none;
              color: inherit;
              vertical-align: middle;
              fill: currentColor;
              width: 50px;
              height: 50px;
            }
          `},init(){this.listenTo(this.components(),"change add",this.disableLayers),this.disableLayers()},disableLayers(){this.components().forEach(l=>l.set("layerable",!1))}},view:{init(){const{model:l}=this;this.listenTo(l.components(),"change",this.disableChildren)},onRender(){this.disableChildren()},disableChildren(){this.model.components().forEach(l=>{var u;const c=(u=l.view)==null?void 0:u.el;c&&(c.style.pointerEvents="none")})}}})},Lc="__nc",b_=e=>{const t=e.getAttributes({noClass:!0,noStyle:!0});return e.traits.forEach(n=>{const r=n.getName();n.get("changeProp")||delete t[r]}),delete t.id,delete t.__p,t};function y_(e){const{Components:t}=e,n=r=>{const{model:s,id:o}=r,i=s.getDefaults();t.addType(o,{model:{defaults:{traits:[...i.traits,{name:"customAttributes",type:"stack",getValue({component:l}){const c=b_(l);return Object.keys(c).map(d=>({id:d,value:c[d]}))},setValue:({component:l,value:c,options:u,emitUpdate:d})=>{const f=u.removed,h=u.previous,g=u.item;if(f)l.removeAttributes(f.id);else{h&&g&&h.id!==g.id&&l.removeAttributes(h.id);const v=c.reduce((m,b)=>(m[b.id]=b.value||"",m),{});l.addAttributes(v)}d()},addItem:()=>({id:Lc,value:!1}),labelItem:l=>l.id===Lc||!l.id&&!l.value?"- Empty -":`${l.id||""}="${l.value||""}"`,properties:[{name:"id",label:"Name",getValue:l=>l===Lc?"":l,setValue:(l,c)=>l.trim().toLowerCase().replace(/^[^a-z]{1}/gi,"_").replace(/\s+/g,"-")||c},{name:"value",label:"Value",getValue:l=>typeof l=="boolean"?"":l}]}]}}})};t.getTypes().forEach(n)}const x_="Basic";function w_(e,t){const{appStore:n}=t;e.Css.getConfig().onBeforeStyle=g_;const r=e.Parser.getConfig().optionsHtml;r.htmlType="text/html";const s=n.sdkOptions.pages||{};(fr(s.allowDocuments)?s.allowDocuments:!0)&&(r.detectDocument=!0,r.allowScripts=!0),e.Components.addType("trait-check",{model:{defaults:{traits:["id","title",{type:"select",name:"select-type",options:[{id:"value1",label:"Value 1"},{id:"value2",label:"Value 2"},{id:"value3",label:"Value 3"}]},{type:"number",name:"number-type",units:["px","rem","%"]},{type:"checkbox",name:"checkbox-type"},{type:"color",name:"color-type"},{type:"button",name:"button-type",label:"Delete",command:"core:component-delete"}]}}});const i={category:x_,select:!0,activate:!0};OO(e,t),d_(e),l_(e,{block:i}),p_(e,{block:i}),c_(e,{block:i}),u_(e,{block:i}),f_(e,{block:i}),h_(e,{block:i}),v_(e,{block:i}),y_(e)}function S_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ah(Object(n),!0).forEach(function(r){S_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ah(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j_(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function C_(e,t){if(e==null)return{};var n=j_(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function E_(e,t){return P_(e)||O_(e,t)||__(e,t)||T_()}function P_(e){if(Array.isArray(e))return e}function O_(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,o=void 0;try{for(var i=e[Symbol.iterator](),l;!(r=(l=i.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){s=!0,o=c}finally{try{!r&&i.return!=null&&i.return()}finally{if(s)throw o}}return n}}function __(e,t){if(e){if(typeof e=="string")return ch(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ch(e,t)}}function ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uh(Object(n),!0).forEach(function(r){A_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(s,o){return o(s)},r)}}function Lo(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return s.length>=e.length?e.apply(this,s):function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return t.apply(n,[].concat(s,l))}}}function Wa(e){return{}.toString.call(e).includes("Object")}function R_(e){return!Object.keys(e).length}function ai(e){return typeof e=="function"}function k_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L_(e,t){return Wa(t)||kr("changeType"),Object.keys(t).some(function(n){return!k_(e,n)})&&kr("changeField"),t}function $_(e){ai(e)||kr("selectorType")}function N_(e){ai(e)||Wa(e)||kr("handlerType"),Wa(e)&&Object.values(e).some(function(t){return!ai(t)})&&kr("handlersType")}function D_(e){e||kr("initialIsRequired"),Wa(e)||kr("initialType"),R_(e)&&kr("initialContent")}function I_(e,t){throw new Error(e[t]||e.default)}var V_={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},kr=Lo(I_)(V_),qi={changes:L_,selector:$_,handler:N_,initial:D_};function H_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};qi.initial(e),qi.handler(t);var n={current:e},r=Lo(z_)(n,t),s=Lo(F_)(n),o=Lo(qi.changes)(e),i=Lo(B_)(n);function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return qi.selector(u),u(n.current)}function c(u){M_(r,s,o,i)(u)}return[l,c]}function B_(e,t){return ai(t)?t(e.current):t}function F_(e,t){return e.current=dh(dh({},e.current),t),t}function z_(e,t,n){return ai(t)?t(e.current):Object.keys(n).forEach(function(r){var s;return(s=t[r])===null||s===void 0?void 0:s.call(t,e.current[r])}),n}var U_={create:H_},W_={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function G_(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return s.length>=e.length?e.apply(this,s):function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return t.apply(n,[].concat(s,l))}}}function K_(e){return{}.toString.call(e).includes("Object")}function q_(e){return e||ph("configIsRequired"),K_(e)||ph("configType"),e.urls?(Y_(),{paths:{vs:e.urls.monacoBase}}):e}function Y_(){console.warn(mv.deprecation)}function X_(e,t){throw new Error(e[t]||e.default)}var mv={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ph=G_(X_)(mv),Z_={config:q_},J_=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(s){return n.reduceRight(function(o,i){return i(o)},s)}};function vv(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],vv(e[n],t[n]))}),lh(lh({},e),t)}var Q_={type:"cancelation",msg:"operation is manually canceled"};function $c(e){var t=!1,n=new Promise(function(r,s){e.then(function(o){return t?s(Q_):r(o)}),e.catch(s)});return n.cancel=function(){return t=!0},n}var eT=U_.create({config:W_,isInitialized:!1,resolve:null,reject:null,monaco:null}),bv=E_(eT,2),Ri=bv[0],$l=bv[1];function tT(e){var t=Z_.config(e),n=t.monaco,r=C_(t,["monaco"]);$l(function(s){return{config:vv(s.config,r),monaco:n}})}function nT(){var e=Ri(function(t){var n=t.monaco,r=t.isInitialized,s=t.resolve;return{monaco:n,isInitialized:r,resolve:s}});if(!e.isInitialized){if($l({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),$c(Nc);if(window.monaco&&window.monaco.editor)return yv(window.monaco),e.resolve(window.monaco),$c(Nc);J_(rT,oT)(iT)}return $c(Nc)}function rT(e){return document.body.appendChild(e)}function sT(e){var t=document.createElement("script");return e&&(t.src=e),t}function oT(e){var t=Ri(function(r){var s=r.config,o=r.reject;return{config:s,reject:o}}),n=sT("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function iT(){var e=Ri(function(n){var r=n.config,s=n.resolve,o=n.reject;return{config:r,resolve:s,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){yv(n),e.resolve(n)},function(n){e.reject(n)})}function yv(e){Ri().monaco||$l({monaco:e})}function aT(){return Ri(function(e){var t=e.monaco;return t})}var Nc=new Promise(function(e,t){return $l({resolve:e,reject:t})}),xv={config:tT,init:nT,__getMonacoInstance:aT},lT={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Dc=lT,cT={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},uT=cT;function dT({children:e}){return p.createElement("div",{style:uT.container},e)}var pT=dT,fT=pT;function hT({width:e,height:t,isEditorReady:n,loading:r,_ref:s,className:o,wrapperProps:i}){return p.createElement("section",{style:{...Dc.wrapper,width:e,height:t},...i},!n&&p.createElement(fT,null,r),p.createElement("div",{ref:s,style:{...Dc.fullWidth,...!n&&Dc.hide},className:o}))}var gT=hT,wv=p.memo(gT);function mT(e){p.useEffect(e,[])}var Sv=mT;function vT(e,t,n=!0){let r=p.useRef(!0);p.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Ft=vT;function Ho(){}function Ls(e,t,n,r){return bT(e,r)||yT(e,t,n,r)}function bT(e,t){return e.editor.getModel(jv(e,t))}function yT(e,t,n,r){return e.editor.createModel(t,n,r?jv(e,r):void 0)}function jv(e,t){return e.Uri.parse(t)}function xT({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:s,originalModelPath:o,modifiedModelPath:i,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:d="Loading...",options:f={},height:h="100%",width:g="100%",className:v,wrapperProps:m={},beforeMount:b=Ho,onMount:y=Ho}){let[x,w]=p.useState(!1),[S,j]=p.useState(!0),C=p.useRef(null),O=p.useRef(null),E=p.useRef(null),T=p.useRef(y),_=p.useRef(b),M=p.useRef(!1);Sv(()=>{let P=xv.init();return P.then(A=>(O.current=A)&&j(!1)).catch(A=>(A==null?void 0:A.type)!=="cancelation"&&console.error("Monaco initialization: error:",A)),()=>C.current?z():P.cancel()}),Ft(()=>{if(C.current&&O.current){let P=C.current.getOriginalEditor(),A=Ls(O.current,e||"",r||n||"text",o||"");A!==P.getModel()&&P.setModel(A)}},[o],x),Ft(()=>{if(C.current&&O.current){let P=C.current.getModifiedEditor(),A=Ls(O.current,t||"",s||n||"text",i||"");A!==P.getModel()&&P.setModel(A)}},[i],x),Ft(()=>{let P=C.current.getModifiedEditor();P.getOption(O.current.editor.EditorOption.readOnly)?P.setValue(t||""):t!==P.getValue()&&(P.executeEdits("",[{range:P.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),P.pushUndoStop())},[t],x),Ft(()=>{var P,A;(A=(P=C.current)==null?void 0:P.getModel())==null||A.original.setValue(e||"")},[e],x),Ft(()=>{let{original:P,modified:A}=C.current.getModel();O.current.editor.setModelLanguage(P,r||n||"text"),O.current.editor.setModelLanguage(A,s||n||"text")},[n,r,s],x),Ft(()=>{var P;(P=O.current)==null||P.editor.setTheme(u)},[u],x),Ft(()=>{var P;(P=C.current)==null||P.updateOptions(f)},[f],x);let k=p.useCallback(()=>{var $;if(!O.current)return;_.current(O.current);let P=Ls(O.current,e||"",r||n||"text",o||""),A=Ls(O.current,t||"",s||n||"text",i||"");($=C.current)==null||$.setModel({original:P,modified:A})},[n,t,s,e,r,o,i]),B=p.useCallback(()=>{var P;!M.current&&E.current&&(C.current=O.current.editor.createDiffEditor(E.current,{automaticLayout:!0,...f}),k(),(P=O.current)==null||P.editor.setTheme(u),w(!0),M.current=!0)},[f,u,k]);p.useEffect(()=>{x&&T.current(C.current,O.current)},[x]),p.useEffect(()=>{!S&&!x&&B()},[S,x,B]);function z(){var A,$,N,I;let P=(A=C.current)==null?void 0:A.getModel();l||(($=P==null?void 0:P.original)==null||$.dispose()),c||((N=P==null?void 0:P.modified)==null||N.dispose()),(I=C.current)==null||I.dispose()}return p.createElement(wv,{width:g,height:h,isEditorReady:x,loading:d,_ref:E,className:v,wrapperProps:m})}var wT=xT;p.memo(wT);function ST(e){let t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}var jT=ST,Yi=new Map;function CT({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:s,path:o,theme:i="light",line:l,loading:c="Loading...",options:u={},overrideServices:d={},saveViewState:f=!0,keepCurrentModel:h=!1,width:g="100%",height:v="100%",className:m,wrapperProps:b={},beforeMount:y=Ho,onMount:x=Ho,onChange:w,onValidate:S=Ho}){let[j,C]=p.useState(!1),[O,E]=p.useState(!0),T=p.useRef(null),_=p.useRef(null),M=p.useRef(null),k=p.useRef(x),B=p.useRef(y),z=p.useRef(),P=p.useRef(r),A=jT(o),$=p.useRef(!1),N=p.useRef(!1);Sv(()=>{let U=xv.init();return U.then(X=>(T.current=X)&&E(!1)).catch(X=>(X==null?void 0:X.type)!=="cancelation"&&console.error("Monaco initialization: error:",X)),()=>_.current?V():U.cancel()}),Ft(()=>{var X,ne,K,Q;let U=Ls(T.current,e||r||"",t||s||"",o||n||"");U!==((X=_.current)==null?void 0:X.getModel())&&(f&&Yi.set(A,(ne=_.current)==null?void 0:ne.saveViewState()),(K=_.current)==null||K.setModel(U),f&&((Q=_.current)==null||Q.restoreViewState(Yi.get(o))))},[o],j),Ft(()=>{var U;(U=_.current)==null||U.updateOptions(u)},[u],j),Ft(()=>{!_.current||r===void 0||(_.current.getOption(T.current.editor.EditorOption.readOnly)?_.current.setValue(r):r!==_.current.getValue()&&(N.current=!0,_.current.executeEdits("",[{range:_.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),_.current.pushUndoStop(),N.current=!1))},[r],j),Ft(()=>{var X,ne;let U=(X=_.current)==null?void 0:X.getModel();U&&s&&((ne=T.current)==null||ne.editor.setModelLanguage(U,s))},[s],j),Ft(()=>{var U;l!==void 0&&((U=_.current)==null||U.revealLine(l))},[l],j),Ft(()=>{var U;(U=T.current)==null||U.editor.setTheme(i)},[i],j);let I=p.useCallback(()=>{var U;if(!(!M.current||!T.current)&&!$.current){B.current(T.current);let X=o||n,ne=Ls(T.current,r||e||"",t||s||"",X||"");_.current=(U=T.current)==null?void 0:U.editor.create(M.current,{model:ne,automaticLayout:!0,...u},d),f&&_.current.restoreViewState(Yi.get(X)),T.current.editor.setTheme(i),l!==void 0&&_.current.revealLine(l),C(!0),$.current=!0}},[e,t,n,r,s,o,u,d,f,i,l]);p.useEffect(()=>{j&&k.current(_.current,T.current)},[j]),p.useEffect(()=>{!O&&!j&&I()},[O,j,I]),P.current=r,p.useEffect(()=>{var U,X;j&&w&&((U=z.current)==null||U.dispose(),z.current=(X=_.current)==null?void 0:X.onDidChangeModelContent(ne=>{N.current||w(_.current.getValue(),ne)}))},[j,w]),p.useEffect(()=>{if(j){let U=T.current.editor.onDidChangeMarkers(X=>{var K;let ne=(K=_.current.getModel())==null?void 0:K.uri;if(ne&&X.find(Q=>Q.path===ne.path)){let Q=T.current.editor.getModelMarkers({resource:ne});S==null||S(Q)}});return()=>{U==null||U.dispose()}}return()=>{}},[j,S]);function V(){var U,X;(U=z.current)==null||U.dispose(),h?f&&Yi.set(o,_.current.saveViewState()):(X=_.current.getModel())==null||X.dispose(),_.current.dispose()}return p.createElement(wv,{width:g,height:v,isEditorReady:j,loading:c,_ref:M,className:m,wrapperProps:b})}var ET=CT,PT=p.memo(ET),OT=PT;const Cv=e=>{var t;(t=e.getAction("editor.action.formatDocument"))==null||t.run()},_T="gs-field-code",TT={minimap:{enabled:!1},lineNumbers:"off",scrollBeyondLastLine:!1,contextmenu:!1,fixedOverflowWidgets:!0,showFoldingControls:"always",suggestOnTriggerCharacters:!1,lineDecorationsWidth:0,renderLineHighlight:"none",wordWrapOverride1:"off",tabSize:2,scrollbar:{verticalScrollbarSize:8,horizontal:"hidden",alwaysConsumeMouseWheel:!1}};function Nr({size:e,value:t,label:n,language:r,onChange:s,clean:o,padding:i,isDarkTheme:l,className:c,containerClassName:u,noMinHeight:d,onMount:f,readOnly:h,description:g}){const v=typeof t=="string"?t:JSON.stringify(t,null,2);return a.jsxs("div",{className:F(_T,"flex flex-col w-full h-full",u),children:[!!n&&a.jsx(wt,{children:n}),!!g&&a.jsx(wt,{as:"span",size:e,className:F(H.txtLowEmphasis),capitalize:!1,children:g}),a.jsx("div",{className:F("flex-grow","w-full","h-full",!d&&"gs-utl-min-h-48"),style:{position:"relative",width:"100%",height:"100%"},children:a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0},children:a.jsx(OT,{defaultLanguage:r,defaultValue:v,theme:l?"vs-dark":"light",className:F(ee.b,ee.rnd,H.br,c),options:{...TT,readOnly:h,...o&&{domReadOnly:!0,overviewRulerLanes:0,selectOnLineNumbers:!1,folding:!1,matchBrackets:"never",guides:{indentation:!1}},...fr(i)&&{lineDecorationsWidth:i*2,padding:{top:i,bottom:i}}},onChange:s,onMount:(m,b)=>{let y=!1;const x=()=>Cv(m);m.onDidChangeModelLanguageConfiguration(x),m.onDidScrollChange(()=>{y||(y=!0,x())}),setTimeout(x,10),f==null||f(m,b)}})})})]})}const AT=e=>e.Assets.getAll().reduce((r,s)=>{const o=s.getSrc(),i=o.match(/^data:([^;]+);/);if(i){const l=o.split(",")[1],c=EO(s.get("name"));r[o]={mime:i[1],name:c,base64:l}}return r},{}),MT=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),fh=(e,t,n={})=>{let r=e;const s=n.pathPfx||"";for(const o in t)if(r.includes(o)){const i=t[o];r=r.replace(new RegExp(MT(o),"g"),`${s}${i.name}`),i.found=!0}return r},RT=(e,t)=>`${t||""}${e||""}`,kT=(e,t)=>{const n=e?`<div ${za}>${e}</div>`:"",r=t?`<div ${za} data-gjs-global>${t}</div>`:"";return`${n}${r}`},Ga=async(e,t={})=>{const{page:n,skipProject:r,assetsFolder:s="assets",filenameCss:o="style.css",styles:i,isMJML:l}=t,c=[],u=n?[n]:e.Pages.getAll(),d=AT(e),f=`${s}/`,h=e.getCss({keepUnusedStyles:!0,component:n==null?void 0:n.getMainComponent()})||"",g=fh(h,d,{pathPfx:f}),v=i==="inline",m=i==="skip",b=lp(e).globalPageSettings||{},y=u.map(x=>{var st,Ue,Jt;const w=x.getName(),S=Gr(x,"title")||w,j=Gr(x,"favicon"),C=Gr(x,"description"),O=Gr(x,"keywords"),E=Gr(x,"socialTitle"),T=Gr(x,"socialDescription"),_=Gr(x,"socialImage"),M=kt({page:x,key:"customCodeHead"}),k=RT(M,b.customCodeHead),B=kt({page:x,key:"customCodeBody"}),z=kT(B,b.customCodeBody),P=x.getMainComponent(),A=e.getJs({component:P}),$=A?`<script>${A}<\/script>`:"",N=[],I=[],V=P.toHTML({asDocument:!1}).replace("</body>",`${z}${$}</body>`),U=P.head;let X=S&&`<title>${S}</title>`,ne=j&&`<link rel="icon" href="${j}"/>`,K=C&&`<meta name="description" content="${C}"/>`,Q=O&&`<meta name="keywords" content="${O}"/>`,ce=E&&`<meta property="og:title" content="${E}"/>`,te=T&&`<meta property="og:description" content="${T}"/>`,G=_&&`<meta property="og:image" content="${_}"/>`,Z='<meta charset="utf-8">',le='<meta name="viewport" content="width=device-width,initial-scale=1">',se='<meta name="robots" content="index,follow">',me='<meta name="generator" content="GrapesJS Studio">';U.components().forEach($e=>{const Je=$e.toHTML();We.title({cmp:$e})?X=Je:We.favicon({cmp:$e})?ne=Je:We.description({cmp:$e})?K=Je:We.keywords({cmp:$e})?Q=Je:We.socialTitle({cmp:$e})?ce=Je:We.socialDescription({cmp:$e})?te=Je:We.socialImage({cmp:$e})?G=Je:We.charset({cmp:$e})?Z=Je:We.viewport({cmp:$e})?le=Je:We.robots({cmp:$e})?se=Je:We.generator({cmp:$e})&&(me=Je)}),X&&N.push(X),Z&&N.push(Z),le&&N.push(le),se&&N.push(se),me&&N.push(me),K&&N.push(K),Q&&N.push(Q),ce&&N.push(ce),te&&N.push(te),G&&N.push(G),ne&&N.push(ne),I.length&&N.push(...I),k&&N.push(k),g&&!m&&N.push(v?`<style>${g}</style>`:`<link rel="stylesheet" href="./${o}">`);const ye=P.doctype||"<!DOCTYPE html>",Ze=(Ue=(st=P.docEl).__attrToString)==null?void 0:Ue.call(st),et=(Jt=U.__attrToString)==null?void 0:Jt.call(U),gt=l?e.runCommand("mjml-code-to-html").html:`${ye}
<html${Ze?` ${Ze}`:""}>
  <head${et?` ${et}`:""}>
    ${N.join(`
  `)}
  </head>
  ${V}
</html>
`;return{filename:Iu(e,x),content:fh(gt,d,{pathPfx:f}),mimeType:"text/html"}});c.push(...y),l&&u.forEach(x=>{c.push({filename:Iu(e,x,"mjml"),content:x.getMainComponent().toHTML(),mimeType:"text/mjml"})});for(const x in d){const w=d[x];w.found&&c.push({path:s,filename:w.name,content:atob(w.base64),mimeType:w.mime})}return g&&!v&&!m&&c.push({filename:o,content:g,mimeType:"text/css"}),r||c.push({filename:"gjs-project.grapesjs",content:JSON.stringify(e.getProjectData()),mimeType:"application/json"}),c},Ev=re(function({buttonProps:t,content:n,code:r,onAction:s}){const o=Tn(),i=Oe(),l=pe(),{isProjectTypeEmail:c}=l,u=l.editor,{isDarkTheme:d}=Zt(),[f,h]=p.useState(),g=()=>{const m=(f||"").trim();s?s(m):u.setComponents(m),o.close()};p.useEffect(()=>{r?h(r):(async()=>{if(c)h(u.getHtml());else{const y=(await Ga(u,{page:u.Pages.getSelected(),skipProject:!0,styles:"inline"})).find(x=>x.mimeType==="text/html");y&&h(y.content)}})()},[]);const v=(t==null?void 0:t.children)||i.t("actions.importCode.button");return a.jsxs(D,{col:!0,space:"m",children:[a.jsx(L,{children:n??i.t("actions.importCode.content")}),a.jsx(L,{className:R("h-96"),children:f!==void 0&&a.jsx(Nr,{value:f,onChange:m=>h(m||""),isDarkTheme:d,language:"html"})}),a.jsx(D,{justify:"end",children:a.jsx(ze,{size:"m2",variant:"pr",onClick:g,...t,children:v})})]})}),Bu="data-type-empty",hh=(e,t)=>{e.Canvas.getFrames().forEach(n=>{const{view:r}=n,s=Array.from(r.getDoc().querySelectorAll(`style[${Bu}]`));for(const o of s)o.disabled=!t})},LT=(e,t,n="Empty",r={})=>{const s=`[${Bu}="${t}"]`,o=e.frameView.getHead(),{midSelector:i="",styleOut:l="",styleIn:c=""}=r;if(!o.querySelector(`style${s}`)){const u=document.createElement("style");u.setAttribute(Bu,t),u.innerHTML=`
    [data-gjs-type="${t}"]${i}:empty {
      text-decoration: none;
      padding: 5px;
      ${r.limitW?"min-width: 50px;":""}
      ${l}
    }
    [data-gjs-type="${t}"]${i}:empty:before {
      background-color: #ddd;
      color: #000;
      font-size: 16px;
      font-weight: bold;
      font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", Roboto, "Helvetica Neue", Helvetica, Arial, sans-serif;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 30px;
      padding: 0 10px;
      opacity: 0.3;
      border-radius: 3px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      content: "${n}";
      ${r.limitH?"height: auto;":""}
      ${r.smallH?"min-height: 30px;":""}
      ${c}
    }`,o.appendChild(u)}},Pv=(e,t)=>{const{model:n}=t,r=n.constructor.getDefaults(),s=r.emptyState,o=n.get("type");if(!s||r.void===!0||o!==e)return;const i=s===!0?{}:s;LT(t,o,n.getName({noCustom:!0}),i)},$T=function(t){const{Components:n}=t,r=s=>{const{id:o}=s;n.addType(o,{extendFnView:["onRender"],view:{onRender(){Pv(o,this)}}})};n.getTypes().forEach(r),t.on("component:type:add",r)};function NT(e){const{Components:t}=e,n=t.events,{modalStore:r,i18nStore:s}=go(),o={id:"link",name:"href",label:"Link",placeholder:"Link to redirect on click"},i={name:"src",changeProp:!0,type:"image",label:"Image"},l={label:"Content",getValue:({component:m})=>m.getInnerHTML(),setValue:({component:m,value:b})=>m.components(b)},c=m=>{var y;const b=m.getChildrenContainer();((y=b==null?void 0:b.innerHTML)==null?void 0:y.trim())===""&&(b.innerHTML="")},u=m=>m.set({void:!1},{silent:!0});t.addType("wrapper",{extendFn:["init"],model:{defaults:{stylable:!1,delegate:{layer:m=>m.findType("mjml")[0]}},init(){this.on(`${n.update}:components`,this.__updateLayersRoot)},__updateLayersRoot(){this.findFirstType("mjml")&&e.Layers.setRoot(this)}}}),t.addType("mjml",{model:{defaults:{name:"Root",toolbar:[]}}}),t.addType("mj-head",{model:{defaults:{name:"Head",copyable:!1,stylable:!1,traits:[],icon:`<svg viewBox="0 0 24 24">
          <path d="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z" />
        </svg>`}},view:{init(){const{em:m,el:b}=this,y="core:preview",x=m.Commands.events;this.listenTo(m,`${x.runCommand}${y}`,()=>{b.style.display="none"}),this.listenTo(m,`${x.stopCommand}${y}`,()=>{b.style.display=""})}}}),t.addType("mj-attributes",{isComponent:_o("mj-attributes"),model:{defaults:{name:"Attributes",copyable:!1,layerable:!1,stylable:!1,draggable:ar("mj-head"),traits:[]}},view:{onRender(){this.el.style.display="none"}}}),t.addType("mj-class",{isComponent:_o("mj-class"),model:{defaults:{name:"Class",stylable:!1,draggable:ar("mj-attributes"),traits:[]}}}),t.addType("mj-font",{model:{defaults:{name:"Font",stylable:!1,draggable:ar("mj-head"),icon:'<svg viewBox="0 0 24 24"><path d="M17 8h3v12h1v1h-4v-1h1v-3h-4l-1.5 3H14v1h-4v-1h1l6-12m1 1-3.5 7H18V9M5 3h5a2 2 0 0 1 2 2v11H9v-5H6v5H3V5a2 2 0 0 1 2-2m1 2v4h3V5H6Z"/></svg>',traits:[{name:"name",placeholder:"Name of the font"},{name:"href",placeholder:"URL of a hosted CSS file"}]}}}),t.addType("mj-all",{isComponent:_o("mj-all"),model:{defaults:{name:"All",stylable:!1,draggable:ar("mj-attributes"),traits:[]}}}),t.addType("mj-preview",{isComponent:_o("mj-preview"),model:{defaults:{name:"Preview",copyable:!1,droppable:!1,stylable:!1,draggable:ar("mj-head"),traits:[l],icon:`<svg viewBox="0 0 24 24">
          <path d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" />
        </svg>`}},view:{tagName:()=>"div",init(){const m=this.model.components();this.onRender=lo(this.onRender,1),this.listenTo(m,"add remove reset change",this.onRender)},onRender(){const{model:m,el:b}=this,y=m.getName({noCustom:!0}),x=m.getInnerHTML();b.innerHTML=`<b>${y}</B>: ${x}`,b.style.padding="5px 10px",b.style.fontFamily="system-ui"}}}),t.addType("mj-title",{isComponent:_o("mj-title"),extend:"mj-preview",model:{defaults:{name:"Title",icon:'<svg viewBox="0 0 24 24"><path d="M5,4V7H10.5V19H13.5V7H19V4H5Z" /></svg>'}}}),t.addType("mj-style",{model:{defaults:{name:"Style",droppable:!1,stylable:!1,traits:[]}}}),t.addType("mj-body",{model:{defaults:{icon:`<svg viewBox="0 0 24 24">
          <path d="M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M6,8V16H18V8H6Z" />
        </svg>`,traits:[],emptyState:{midSelector:">div",styleOut:"height: 100vh;"}}}}),t.addType("mj-section",{extendFn:["init"],model:{defaults:{icon:`<svg viewBox="0 0 24 24">
          <path d="M2,3V6H21V3M20,8H3A1,1 0 0,0 2,9V15A1,1 0 0,0 3,16H20A1,1 0 0,0 21,15V9A1,1 0 0,0 20,8M2,21H21V18H2V21Z" />
        </svg>`,"style-default":{padding:"20px 0px","text-align":"center"},traits:[{type:"checkbox",label:"Full width",name:"full-width",valueTrue:"full-width",valueFalse:""}],emptyState:{midSelector:">div>div>table>tbody>tr>td"}},init(){u(this)}},extendFnView:["render"],view:{render(){return c(this),this}}}),t.addType("mj-column",{extendFn:["init"],model:{defaults:{icon:`<svg viewBox="0 0 24 24" style="rotate: 90deg;">
          <path d="M2,3V6H21V3M20,8H3A1,1 0 0,0 2,9V15A1,1 0 0,0 3,16H20A1,1 0 0,0 21,15V9A1,1 0 0,0 20,8M2,21H21V18H2V21Z" />
        </svg>`,traits:[],emptyState:{midSelector:">table",styleIn:"margin: 0 10px;"}},init(){u(this)}}}),t.addType("mj-text",{model:{defaults:{emptyState:{midSelector:' [contenteditable="false"]',styleIn:"min-height: 20px;",styleOut:"padding: 0 5px;"},traits:[],"style-default":{padding:"10px 25px","font-size":"13px",align:"left"}}}}),t.addType("mj-button",{model:{defaults:{traits:[o]}}}),t.addType("mj-image",{model:{defaults:{"style-default":{padding:"10px 25px",align:"center"},traits:[{name:"src",changeProp:!0,type:"image",label:"Image"},{id:"altText",name:"alt",placeholder:"Image description"},"title",o]}},view:{getMjmlTemplate(){return{start:"<mjml><mj-body><mj-section><mj-column>",end:"</mj-column></mj-section></mj-body></mjml>"}},getTemplateFromEl(m){var b,y,x;return(x=(y=(b=m.querySelector("img"))==null?void 0:b.closest("table"))==null?void 0:y.closest("tr"))==null?void 0:x.innerHTML}}}),t.addType("mj-divider",{model:{defaults:{attributes:{align:"center"},traits:[{name:"align",type:"radio",options:[{id:"left",title:"Left",labelReact:a.jsx(J,{icon:Y.alignHorizontalLeft,size:oe.sx})},{id:"center",title:"Center",labelReact:a.jsx(J,{icon:Y.alignHorizontalCenter,size:oe.sx})},{id:"right",title:"Right",labelReact:a.jsx(J,{icon:Y.alignHorizontalRight,size:oe.sx})}]}]}}}),t.addType("mj-social",{model:{defaults:{name:"Social",traits:[],emptyState:{midSelector:">td"}}}});const{view:d,model:f}=t.getType("mj-social-element");t.addType("mj-social-element",{extendFn:["init"],model:{defaults:{traits:[{type:"select",label:"Icon",name:"name",options:[{id:"custom",name:"Custom"},{id:"facebook",name:"Facebook"},{id:"twitter",name:"Twitter/X"},{id:"google",name:"Google"},{id:"instagram",name:"Instagram"},{id:"web",name:"Web"},{id:"youtube",name:"YouTube"},{id:"pinterest",name:"Pinterest"},{id:"linkedin",name:"Linkedin"},{id:"snapchat",name:"Snapchat"},{id:"vimeo",name:"Vimeo"},{id:"tumblr",name:"Tumblr"},{id:"github",name:"Github"},{id:"soundcloud",name:"SoundCloud"},{id:"medium",name:"Medium"},{id:"dribbble",name:"Dribbble"},{id:"xing",name:"Xing"}]},i,o,l]},init(){u(this)},getMjmlAttributes(){const m=f.prototype.getMjmlAttributes.call(this);return{...this.getDefaultIconProps()[m.name],...m}},getAttrToHTML(){const m=f.prototype.getAttrToHTML.call(this);return{...this.getDefaultIconProps()[m.name],...m}},getDefaultIconProps(){return{twitter:{src:"https://upload.wikimedia.org/wikipedia/commons/5/57/X_logo_2023_%28white%29.png","background-color":"black"}}}},extendFnView:["init"],view:{init(){this.listenTo(this.model,"component:update:components",this.rerender)},getInnerMjmlTemplate(){var x;const{start:m,end:b}=d.prototype.getInnerMjmlTemplate.call(this),y=((x=this.model.getInnerHTML())==null?void 0:x.trim())||"";return{start:`${m}${y}`,end:b}},getChildrenContainer(){var x;const{el:m}=this,b=(x=m.querySelector("tbody > tr > td"))==null?void 0:x.nextElementSibling;return(b==null?void 0:b.firstElementChild)||m.querySelector("img")||m}}}),t.addType("mj-spacer",{model:{defaults:{traits:[]}}}),t.addType("mj-navbar",{model:{defaults:{emptyState:{midSelector:">td>div"}}}}),t.addType("mj-navbar-link",{model:{defaults:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M21,15.61L19.59,17L14.58,12L19.59,7L21,8.39L17.44,12L21,15.61M3,6H16V8H3V6M3,13V11H13V13H3M3,18V16H16V18H3Z" />
        </svg>`,emptyState:{midSelector:">td>div"}}}});const h=m=>{r.open({title:m.getName({noCustom:!0}),content:()=>a.jsx(Ev,{content:"",code:m.getInnerHTML(),onAction:b=>m.components(b),buttonProps:{children:s.t("save")}})})};t.addType("mj-raw",{extendFn:["initToolbar"],model:{defaults:{name:"HTML block",emptyState:{midSelector:">div"}},initToolbar(){PO(this,{id:"edit",command:()=>h(this),label:`<svg viewBox="0 0 24 24">
            <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
          </svg>`})}},view:{events:{dblclick:"onActive"},onActive(){h(this.model)}}});const g=m=>{const{id:b,view:y}=m,x=y.prototype;t.addType(b,{view:{render(){return x.render.apply(this,arguments),Pv(b,this),this}}})};["mj-body","mj-section","mj-column","mj-text","mj-navbar","mj-social","mj-raw"].forEach(m=>g(t.getType(m))),t.getTypes().forEach(({id:m,view:b})=>{b.prototype.disableEditing&&t.addType(m,{view:{onDisable(y={}){this.disableEditing({...y,parserOptions:{htmlType:"text/html"}})}}})})}function DT(e){const{Blocks:t}=e,n="Content",r="Layout",s={className:"h-7",full:!0,space:"s",nowrap:!0},o={category:r,full:!0},i="gjs-border-2 gjs-border-current gjs-rounded-sm",l=(c,u)=>{t.add(c,{select:!0,category:n,...u})};l("mj-text",{label:"Text",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,content:"<mj-text>Insert text here</mj-text>",activate:!0}),l("mj-button",{label:"Button",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,content:"<mj-button>Button</mj-button>"}),l("mj-image",{label:"Image",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,content:`<mj-image src="${xx}"/>`,activate:!0}),l("mj-divider",{label:"Divider",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,content:"<mj-divider/>"}),l("mj-social",{label:"Social",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z" />
    </svg>`,content:`<mj-social font-size="12px" icon-size="24px" border-radius="12px" mode="horizontal">
        <mj-social-element name="facebook"></mj-social-element>
        <mj-social-element name="linkedin"></mj-social-element>
        <mj-social-element name="twitter"></mj-social-element>
      </mj-social>`}),l("mj-social-element",{label:"Social Element",media:`<svg viewBox="0 0 24 24">
      <path d="M18 16.08C17.24 16.08 16.56 16.38 16.04 16.85L8.91 12.7C8.96 12.47 9 12.24 9 12S8.96 11.53 8.91 11.3L15.96 7.19C16.5 7.69 17.21 8 18 8C19.66 8 21 6.66 21 5S19.66 2 18 2 15 3.34 15 5C15 5.24 15.04 5.47 15.09 5.7L8.04 9.81C7.5 9.31 6.79 9 6 9C4.34 9 3 10.34 3 12S4.34 15 6 15C6.79 15 7.5 14.69 8.04 14.19L15.16 18.34C15.11 18.55 15.08 18.77 15.08 19C15.08 20.61 16.39 21.91 18 21.91S20.92 20.61 20.92 19C20.92 17.39 19.61 16.08 18 16.08M18 4C18.55 4 19 4.45 19 5S18.55 6 18 6 17 5.55 17 5 17.45 4 18 4M6 13C5.45 13 5 12.55 5 12S5.45 11 6 11 7 11.45 7 12 6.55 13 6 13M18 20C17.45 20 17 19.55 17 19S17.45 18 18 18 19 18.45 19 19 18.55 20 18 20Z" />
    </svg>`,content:'<mj-social-element name="facebook">Facebook</mj-social-element>'}),l("mj-spacer",{label:"Spacer",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
    </svg>`,content:"<mj-spacer/>"}),l("mj-navbar",{label:"Navbar",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
    </svg>`,content:`<mj-navbar>
      <mj-navbar-link>HOME</mj-navbar-link>
      <mj-navbar-link>ABOUT</mj-navbar-link>
      <mj-navbar-link>CONTACT</mj-navbar-link>
      <mj-navbar-link>BLOG</mj-navbar-link>
    </mj-navbar>`}),l("mj-hero",{label:"Hero",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,content:`<mj-hero mode="fixed-height" height="469px" background-width="600px" background-height="469px" background-url="${Vm({width:600,height:300,text:"Hero Image",fg:"555"})}" background-color="#2a3448" padding="100px 0px">
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center" font-size="45px" line-height="45px" font-weight="900">
        Heading title
      </mj-text>
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center">
        Place here your hero content text
      </mj-text>
      <mj-button href="https://mjml.io/" align="center">
        Call to action!
      </mj-button>
    </mj-hero>`}),l("mj-raw",{label:"HTML block",activate:!0,media:`<svg viewBox="0 0 24 24">
      <path d="M5.59 3.41L7 4.82L3.82 8L7 11.18L5.59 12.6L1 8L5.59 3.41M11.41 3.41L16 8L11.41 12.6L10 11.18L13.18 8L10 4.82L11.41 3.41M22 6V18C22 19.11 21.11 20 20 20H4C2.9 20 2 19.11 2 18V14H4V18H20V6H17.03V4H20C21.11 4 22 4.89 22 6Z" />
    </svg>`,content:`<mj-raw>
      <span>Insert here you custom HTML</span>
    </mj-raw>`}),l("mj-1-column",{...o,label:"1 Column",mediaReact:a.jsx(D,{...s,children:a.jsx(L,{className:i,grow:!0})}),content:`<mj-section>
        <mj-column></mj-column>
      </mj-section>`}),l("mj-2-columns-50-50",{...o,label:"2 Columns 50/50",mediaReact:a.jsxs(D,{...s,children:[a.jsx(L,{className:i,grow:!0}),a.jsx(L,{className:i,grow:!0})]}),content:`<mj-section>
      <mj-column></mj-column>
      <mj-column></mj-column>
    </mj-section>`}),l("mj-2-columns-25-75",{...o,label:"2 Columns 25/75",mediaReact:a.jsxs(D,{...s,children:[a.jsx(L,{className:F(i,"gs-utl-basis-1/4")}),a.jsx(L,{className:F(i,"gs-utl-basis-3/4")})]}),content:`<mj-section>
      <mj-column width="25%"></mj-column>
      <mj-column width="75%"></mj-column>
    </mj-section>`}),l("mj-2-columns-33-67",{...o,label:"2 Columns 33/67",mediaReact:a.jsxs(D,{...s,children:[a.jsx(L,{className:F(i,"gs-utl-basis-1/3")}),a.jsx(L,{className:F(i,"gs-utl-basis-2/3")})]}),content:`<mj-section>
      <mj-column width="33%"></mj-column>
      <mj-column width="67%"></mj-column>
    </mj-section>`}),l("mj-2-columns-67-33",{...o,label:"2 Columns 67/33",mediaReact:a.jsxs(D,{...s,children:[a.jsx(L,{className:F(i,"gs-utl-basis-2/3")}),a.jsx(L,{className:F(i,"gs-utl-basis-1/3")})]}),content:`<mj-section>
      <mj-column width="67%"></mj-column>
      <mj-column width="33%"></mj-column>
    </mj-section>`}),l("mj-2-columns-75-25",{...o,label:"2 Columns 75/25",mediaReact:a.jsxs(D,{...s,children:[a.jsx(L,{className:F(i,"gs-utl-basis-3/4")}),a.jsx(L,{className:F(i,"gs-utl-basis-1/4")})]}),content:`<mj-section>
      <mj-column width="75%"></mj-column>
      <mj-column width="25%"></mj-column>
    </mj-section>`}),l("mj-3-columns",{...o,label:"3 Columns",mediaReact:a.jsxs(D,{...s,children:[a.jsx(L,{className:i,grow:!0}),a.jsx(L,{className:i,grow:!0}),a.jsx(L,{className:i,grow:!0})]}),content:`<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`}),l("mj-3-columns-25-25-50",{...o,label:"3 Columns 25/25/50",mediaReact:a.jsxs(D,{...s,children:[a.jsx(L,{className:F(i,"gs-utl-basis-1/4")}),a.jsx(L,{className:F(i,"gs-utl-basis-1/4")}),a.jsx(L,{className:F(i,"gs-utl-basis-2/4")})]}),content:`<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
      </mj-section>`}),l("mj-3-columns-25-50-25",{...o,label:"3 Columns 25/50/25",mediaReact:a.jsxs(D,{...s,children:[a.jsx(L,{className:F(i,"gs-utl-basis-1/4")}),a.jsx(L,{className:F(i,"gs-utl-basis-2/4")}),a.jsx(L,{className:F(i,"gs-utl-basis-1/4")})]}),content:`<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`}),l("mj-3-columns-50-25-25",{...o,label:"3 Columns 50/25/25",mediaReact:a.jsxs(D,{...s,children:[a.jsx(L,{className:F(i,"gs-utl-basis-2/4")}),a.jsx(L,{className:F(i,"gs-utl-basis-1/4")}),a.jsx(L,{className:F(i,"gs-utl-basis-1/4")})]}),content:`<mj-section>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`}),l("mj-4-columns",{...o,label:"4 Columns",mediaReact:a.jsxs(D,{...s,children:[a.jsx(L,{className:i,grow:!0}),a.jsx(L,{className:i,grow:!0}),a.jsx(L,{className:i,grow:!0}),a.jsx(L,{className:i,grow:!0})]}),content:`<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`})}const IT=(e,t)=>({[Ne.web]:r=>w_(r,t),[Ne.email]:NT})[e],gh={global:[{id:"grapesjs-indexeddb",src:"https://unpkg.com/grapesjs-indexeddb@1.0.4/dist/index.js",options:{type:"local"}}],[Ne.email]:[DT,{id:"grapesjs-mjml",src:"https://unpkg.com/grapesjs-mjml@1.0.6/dist/index.js",options:{columnsPadding:"",useCustomTheme:!1,resetDevices:!1,resetBlocks:!1,blocks:[],useXmlParser:!0,resetStyleManager:!1}}],[Ne.web]:[{id:"gjs-blocks-basic",src:"https://unpkg.com/grapesjs-blocks-basic@1.0.1/dist/index.js"},{id:"grapesjs-plugin-forms",src:"https://unpkg.com/grapesjs-plugin-forms@2.0.5/dist/index.js"},{id:"grapesjs-plugin-export",src:"https://unpkg.com/grapesjs-plugin-export@1.0.11/dist/index.js",options:{isBinary:(e,t)=>{const n=t.split(".")[1];return/[\x00-\x08\x0E-\x1F]/.test(e)&&!(n&&["html","css"].indexOf(n)>=0)}}},{id:"grapesjs-parser-postcss",src:"https://unpkg.com/grapesjs-parser-postcss@1.0.1/dist/index.js"},{id:"grapesjs-tui-image-editor",src:"https://unpkg.com/grapesjs-tui-image-editor@1.0.1/dist/index.js"},{id:"grapesjs-navbar",src:"https://unpkg.com/grapesjs-navbar@1.0.1/dist/index.js",options:{block:{category:"Extra"}}}]};function VT(e){const{Components:t,Blocks:n}=e,r=s=>{const{model:o,id:i}=s,l=o.getDefaults(),c=n.get(i),u=l.icon,d=c==null?void 0:c.get("media"),f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',h=u&&u!==f&&!d?u:d||f;t.addType(i,{model:{defaults:{icon:h}}})};t.getTypes().forEach(r),e.on("component:type:add",r)}const HT=(e,t)=>{const{contextMenu:n}=t.appStore.store,{Canvas:r}=e;e.on(r.events.frameLoad,({window:s,el:o})=>{s.document.addEventListener("contextmenu",async l=>{if(!n.isEnabled)return;l.preventDefault();const c=l.target,u=e.getModel().get("componentHovered")||e.Utils.helpers.getModel(c);if(u){const d=o.getBoundingClientRect();e.runCommand(fe.contextMenuComponent,{component:u,event:l,x:l.clientX+d.left,y:l.clientY+d.top})}})})};function BT(e){const{Components:t}=e,n=r=>{const{id:s,model:o}=r;if(s==="custom-code"){const i="<span>Insert here your custom code</span>";t.addType(s,{model:{defaults:{emptyState:!0,icon:'<svg viewBox="0 0 24 24"><path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path></svg>',classes:"gjs-custom-code",components:i,"custom-code-plugin__code":i,styles:".gjs-custom-code { padding: 5px; }"}}})}if(s==="typed"){const i=o.getDefaults().traits.map(l=>l.name==="strings"?{...l,type:"stack",addItem(c){return{id:c,label:`New string ${c}`}},getValue({component:c}){return c.get("strings").map((u,d)=>({id:`${d}`,label:u}))},setValue:({component:c,value:u})=>{const d=u.map(f=>f.label);c.set({strings:d}),c.trigger("rerender")},properties:[{name:"label"}]}:l);t.addType(s,{model:{defaults:{traits:i,strings:["These are the default values...!!!","Use your own strings from Properties!","Have a great day!"],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300"><path d="M212.3 44l2.3 49.6h-6A60 60 0 00204 75c-3.2-6-7.5-10.5-12.9-13.3a44.9 44.9 0 00-21.1-4.3h-29.8V219c0 13 1.4 21 4.2 24.3 4 4.4 10 6.6 18.2 6.6h7.4v5.7H80.2V250h7.5c9 0 15.3-2.7 19-8.2 2.4-3.3 3.5-10.9 3.5-22.7V57.3H84.8a71 71 0 00-21.1 2.2 29 29 0 00-13.9 11.3 46.1 46.1 0 00-6.9 22.8H37L39.5 44h172.8zM245 22h18v256h-18z"/></svg>',classes:"gjs-typed",styles:`
                  .gjs-typed {
                    padding: 5px;
                  }
                `}}})}if(["tabs","tab-content","tab-contents","tab","tab-container"].indexOf(s)>=0){const l={emptyState:!0,icon:s==="tabs"?`
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z" fill-rule="nonzero"/><rect x="3" y="5" width="4" height="2" rx=".5"/><rect x="8" y="5" width="4" height="2" rx=".5"/><rect x="13" y="5" width="4" height="2" rx=".5"/>
            </svg>
          `:void 0};s==="tab"&&(l.traits=[{type:"button",label:!1,text:"Style Active",command:c=>{c.select(),c.runCommand(_v),setTimeout(()=>c.Selectors.select(".tab.tab-active"))}}]),t.addType(s,{model:{defaults:l}})}};e.on("component:type:add",n)}const FT=(e,t)=>{var r;const{globalStylesStore:n}=t.appStore.store;(r=e.DataSources)==null||r.all.on("reset",()=>n.onLoad())},zT=e=>{const{assetsStore:t}=go();if(t.onCloudOrCustomUpload){const{Assets:n}=e;n.getConfig().uploadFile=r=>t.handleUpload(r)}},UT=()=>{const{baseApiUrl:e}=Is();return`${e}/sdk/projects`},Ov=e=>`${UT()}/${e}`,WT=async({licenseKey:e,projectId:t,...n})=>{const r=await Xn.put(Ov(t),{body:JSON.stringify(n),params:{d:window.location.hostname,licenseKey:e}});return r==null?void 0:r.result},GT=async(e,t)=>await Xn.put(t,{body:e,headers:{"Content-Type":"application/json"}}),KT=async(e,t,n,r)=>{const s=JSON.stringify(e),o=await WT({licenseKey:t,projectId:n,fileMetadata:{size:new Blob([s]).size},identityId:r,name:e.name,description:e.description});if(!o)throw new Error("Project not found");const{uploadUrl:i}=o;await GT(s,i)},qT=(e,t,n)=>Xn.get(Ov(t),{params:{d:window.location.hostname,licenseKey:e,identityId:n}}),YT=async e=>await Xn.get(e),XT=async(e,t,n,r)=>{const s=await qT(t,n,r),o=s==null?void 0:s.result,i=s==null?void 0:s.errorData;if(!o&&(i!=null&&i.notFoundInDb))return{id:n,project:{}};if(!o)throw new Error("Project not found");const{downloadUrl:l}=o,c=await YT(l);if(!c||c instanceof Error)throw new Error("Project download failed");return{id:n,project:c}},ZT=(e,t)=>{const{appEditorStore:n,toastStore:r,i18nStore:s}=t.appStore.store,{isUsingProjectSelfHosted:o,isUsingProjectCloud:i,sdkOptions:l}=n,c=l.storage||{},{project:u,onLoad:d,onSave:f,autosaveChanges:h,autosaveIntervalMs:g}=c;let v,m,b,y;if(o)b=d,y=f,v=h,m=g;else if(i){const C=l.licenseKey,O=n.sdkProjectId,E=n.sdkIdentityId,T=10,_=1e4;y=({project:M})=>KT(M,C,O,E),b=({editor:M})=>XT(M,C,O,E),v=Math.max(T,h??T),g&&(m=Math.max(_,g))}const{Storage:x}=e,{events:w}=x;let S=!1;const j=e.em.constructor.prototype;if(e.em.loadData=function(...C){const O=j.loadData.apply(e.em,C);return S=O&&!!Object.keys(O).length,O},e.once("change:readyLoad",()=>{var O;const C=(O=l.project)==null?void 0:O.default;!S&&C&&e.loadProjectData(C)}),e.on(w.startStore,()=>n.setIsSaving(!0)),e.on(w.endStore,()=>n.setIsSaving(!1)),(b||u)&&y){const C="remote";x.setCurrent(C),x.add(C,{async load(){return u||(await b({editor:e})).project},async store(O){await y({project:O,editor:e})}}),e.on(w.errorLoad,O=>{r.addError("storage-error-load",{header:s.t("storageManager.errorLoad"),content:O.message})}),e.on(w.errorStore,O=>{r.addError("storage-error-store",{header:s.t("storageManager.errorStore"),content:O.message})}),v&&x.setStepsBeforeSave(v),m&&e.onReady(()=>{const O=setInterval(async()=>{e.getDirtyCount()>0&&!n.isSaving&&await e.store()},m);e.on("destroy",()=>clearInterval(O))})}},Ka="select-target",_v="enable-sm";function JT(e,t){var M,k,B,z;const{appEditorStore:n,blockManagerStore:r,toastStore:s,modalStore:o,layoutStore:i,contextMenu:l,assetsStore:c}=t.appStore.store,{projectIdToLoad:u,nextProjectData:d,sdkOptions:f}=n,h=()=>r.toggleOpen(),g=()=>n.toggleLeftSidebar(),v=()=>n.toggleRightSidebar(),m=e.getConfig(),{Assets:b,Storage:y,Commands:x}=e,w=x.events,S=(k=(M=f.gjsOptions)==null?void 0:M.assetManager)==null?void 0:k.custom;if(b.all.model.prototype.idAttribute="src",fr(S)&&(b.getConfig().custom=S),d&&(m.projectData=d,n.setNextProjectData()),u){const P=y.getConfig().options;P&&(P.local.key=u)}e.on(e.events.projectLoad,({project:P})=>{t.appStore.setProjectDataCustom(P.custom)}),e.RichTextEditor.getConfig().custom=!0;const{Canvas:j}=e,C=lo(()=>n.setCanvasPanning(!1),200);e.on(j.events.coords,()=>{n.setCanvasPanning(!0),C()}),e.on(j.events.frameLoad,({el:P})=>{P.tabIndex=-1});const{Parser:O}=e,E=((B=n.sdkOptions.parser)==null?void 0:B.showErrors)!==!1;(z=O.events)!=null&&z.css&&E&&e.on(O.events.css,P=>{const{error:A}=P;if(A){const $=xt(A)?A:A.name&&A.reason?`${A.name}: ${A.reason}`:A.message;s.addError("css-error",{header:"CSS Parser Error",content:$})}}),[{id:"toggle-lsidebar",keys:"alt+ctrl+,",cmd:g},{id:"toggle-lsidebar2",keys:"alt+⌘+,",cmd:g},{id:"toggle-rsidebar",keys:"alt+ctrl+., alt+⌘+.",cmd:v},{id:"show-blocks",keys:"ctrl+b, ⌘+b",cmd:h},{id:"add-symbol",keys:"alt+ctrl+k, alt+⌘+k",cmd:fe.symbolAdd},{id:"detach-symbol",keys:"shift+alt+ctrl+k, shift+alt+⌘+k",cmd:fe.symbolDetach}].forEach(({id:P,keys:A,cmd:$})=>{e.Keymaps.add(`preset:${P}`,A,$,{prevent:!0})}),e.on(`${w.runCommand}core:preview`,()=>{n.setPreview(!0),r.setOpen(!1),hh(e,!1)}),e.on(`${w.stopCommand}core:preview`,()=>{n.setPreview(!1),hh(e,!0),setTimeout(()=>{e.refresh()},n.transitionTime)});const T="target-selection",{Components:_}=e;x.add(Ka,{opts:{},init(){this.beforeSelect=this.beforeSelect.bind(this)},onComponentHover(P,A){const $={id:T,type:"target",component:A};A?j.addSpot($):j.removeSpots($)},beforeSelect(P,A={}){A.abort=!0,A.useValid=!1,this.opts.onSelect(P),e.stopCommand(Ka)},run(P,A,$){this.opts=$,e.on("component:select:before",this.beforeSelect),e.on("change:componentHovered",this.onComponentHover)},stop(){e.off("component:select:before",this.beforeSelect),e.off("change:componentHovered",this.onComponentHover),j.removeSpots({id:T}),n.setSelectingTarget(!1)}}),x.add(_v,()=>{n.setSelectedDesignerTab("style")}),x.add(fe.toastAdd,(P,A,$)=>{s.add($.id,$)}),x.add(fe.dialogOpen,(P,A,$)=>{o.open($)}),x.add(fe.dialogClose,()=>{o.close()}),x.add(fe.sidebarLeftGet,()=>({visible:n.isLeftSidebarOpen})),x.add(fe.sidebarLeftSet,(P,A,$)=>{n.setLeftSidebarOpen(!!$.visible)}),x.add(fe.sidebarLeftToggle,()=>{n.setLeftSidebarOpen(!n.isLeftSidebarOpen)}),x.add(fe.sidebarRightGet,()=>({visible:n.isRightSidebarOpen})),x.add(fe.sidebarRightSet,(P,A,$)=>{n.setRightSidebarOpen(!!$.visible)}),x.add(fe.sidebarRightToggle,()=>{n.setRightSidebarOpen(!n.isRightSidebarOpen)}),x.add(fe.sidebarTopGet,()=>({visible:n.isTopSidebarOpen})),x.add(fe.sidebarTopSet,(P,A,$)=>{n.setTopSidebarOpen(!!$.visible)}),x.add(fe.sidebarTopToggle,()=>{n.setTopSidebarOpen(!n.isTopSidebarOpen)}),x.add(fe.sidebarBottomGet,()=>({visible:n.isBottomSidebarOpen})),x.add(fe.sidebarBottomSet,(P,A,$)=>{n.setBottomSidebarOpen(!!$.visible)}),x.add(fe.sidebarBottomToggle,()=>{n.setBottomSidebarOpen(!n.isBottomSidebarOpen)}),x.add(fe.layoutAdd,(P,A,$)=>{$.id&&i.add($.id,$)}),x.add(fe.layoutRemove,(P,A,$)=>{const{id:N,...I}=$;i.remove(N,I)}),x.add(fe.layoutToggle,(P,A,$)=>{const{id:N,...I}=$;N&&(i.get(N)?i.remove(N,I):i.add(N,I))}),x.add(fe.getStateTheme,()=>n.publicStateTheme),x.add(fe.setStateTheme,(P,A,$)=>n.setPublicStateTheme($)),x.add(fe.getPagesConfig,()=>n.sdkPagesConfig),x.add(fe.setPagesConfig,(P,A,$)=>{const{config:N}=$||{};fr(N)&&n.setSdkPagesConfig(N)}),x.add(fe.getPageSettings,()=>JSON.parse(JSON.stringify(n.panelPageSettings))),x.add(fe.setPageSettings,(P,A,$)=>{n.setPanelPageSettings($)}),x.add(fe.projectFiles,(P,A,$)=>Ga(P,{isMJML:n.isProjectTypeEmail,...$})),x.add(fe.getBlocksPanel,()=>({isOpen:r.isOpen})),x.add(fe.setBlocksPanel,(P,A,$)=>{const N=$||{};fr(N.isOpen)&&r.setOpen(N.isOpen)}),x.add(fe.canvasReload,()=>{const P=e.getSelected(),A=j.getCanvasView(),{frames:$}=j.canvas;$.once("loaded:all",()=>{const N=P==null?void 0:P.getView();N&&!N.isInViewport()&&N.el.scrollIntoView({block:"center"})}),A.renderFrames()}),x.add(fe.contextMenuComponent,(P,A,$)=>{const{component:N,...I}=$;l.showForComponent(N,I)}),x.add(fe.getStateContextMenu,()=>l.publicState),x.add(fe.setStateContextMenu,(P,A,$)=>{l.setPublicState($)}),x.add(fe.symbolAdd,(P,A,$)=>{const N=$.component||e.getSelected();if(N)return _.getSymbolInfo(N).isSymbol?s.add("skip-symbol",{header:"The selected element is already a symbol",variant:jt.Warning}):_.addSymbol(N)}),x.add(fe.symbolDetach,(P,A,$)=>{const N=$.component||e.getSelected();N&&_.getSymbolInfo(N).isRoot&&_.detachSymbol(N)}),x.add(fe.symbolOverride,(P,A,$)=>{const N=$.component||e.getSelected();N&&(N.setSymbolOverride($.override),e.Layers.updateLayer(N))}),x.add(fe.symbolPropagateStyles,(P,A,$)=>{const N=$.component||e.getSelected();if(!N)return;const{Css:I}=e,V=I.getComponentRules(N,{current:!0})[0];if(V){const{state:U,mediaText:X}=V.attributes,ne=V.getStyle();_.getSymbolInfo(N).relatives.forEach(K=>{I.setIdRule(K.getId(),ne,{state:U,mediaText:X})})}$.deep&&N.components().forEach(U=>e.runCommand(fe.symbolPropagateStyles,{...$,component:U}))}),x.add(fe.assetProviderGet,()=>JSON.parse(JSON.stringify(c.allProviders))),x.add(fe.assetProviderAdd,(P,A,{provider:$,index:N})=>{const I=c.allProviders.filter(V=>V.id!==$.id).splice(N??c.allProviders.length-1,0,$);c.setAllProviders(I)}),x.add(fe.assetProviderRemove,(P,A,{id:$})=>{const N=c.allProviders.filter(I=>I.id!==$);c.setAllProviders(N)}),zT(e),ZT(e,t),FT(e,t),BT(e),VT(e),$T(e),HT(e,t)}const QT=/\s(?![^(]*\))/,mh=/^-?[0-9]+[a-zA-Z%]{0,}$/;function vh(e){const t=e.split(QT),n=t.indexOf("inset")>=0,r=t.filter(d=>d!=="inset"),s=r.filter(d=>!mh.test(d))[0]||"currentColor",o=r.filter(d=>mh.test(d)),[i="0",l="0",c="0",u="0"]=o;return{x:i,y:l,blur:c,spread:u,inset:n,color:s}}function Nl(e){const t=e.indexOf("(")+1,n=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,n>=0?n:void 0]).trim()}}const Tv=p.createContext(null),e5=({children:e})=>{const[t,n]=p.useState({setEditor:r=>{n(s=>({...s,editor:r}))}});return a.jsx(Tv.Provider,{value:t,children:e})},mn=()=>{const e=p.useContext(Tv);if(!e)throw new Error("useEditorInstance must be used within EditorInstanceProvider");return e},Mt=()=>{const{editor:e}=mn();if(!e)throw new Error("useEditor used before the load of the editor instance. You can wrap your component in `<WithEditor>` or make use of `useEditorMaybe` hook and ensure the `editor` exists.");return e},up=()=>mn().editor,Av=p.createContext(null),t5=({children:e})=>{const[t,n]=p.useState(()=>({setRefCanvas(r){n(s=>({...s,refCanvas:r}))},setCustomModal(r){n(s=>({...s,customModal:r}))},setCustomAssets(r){n(s=>({...s,customAssets:r}))},setCustomBlocks(r){n(s=>({...s,customBlocks:r}))},setCustomRte(r){n(s=>({...s,customRte:r}))},setCustomStyles(r){n(s=>({...s,customStyles:r}))},setCustomLayers(r){n(s=>({...s,customLayers:r}))},setCustomSelectors(r){n(s=>({...s,customSelectors:r}))},setCustomTraits(r){n(s=>({...s,customTraits:r}))},setReady(r){n(s=>({...s,ready:r}))}}));return a.jsx(Av.Provider,{value:t,children:e})},Jn=()=>{const e=p.useContext(Av);if(!e)throw new Error("useEditorOptions must be used within EditorOptionsProvider");return e};function n5(...e){return(Array.isArray(e[0])?e[0]:[...e]).filter(Boolean).join(" ")}function Fr(e){return typeof e=="function"}function En(){}const Mv=e=>typeof e=="string",r5=async e=>{const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)},Rv=e=>{const t=Mv(e)?{id:e,src:e}:e;return new Promise((n,r)=>{const s=document.createElement("script");if(document.querySelector(`script[src="${t.src}"]`))return n(t.id);s.src=t.src,s.onload=()=>n(t.id),s.onerror=()=>r(t.id),document.head.appendChild(s)})},s5=e=>{const t=e.map(n=>Rv(n));return Promise.allSettled(t)},bh=e=>function(){const t=p.useRef(null);return p.useEffect(()=>{const{current:n}=t;n&&(Mv(e)?n.innerHTML=e:n.appendChild(e))},[t.current]),a.jsx("div",{ref:t})},yh=new WeakMap;function uo(e){if(!e)return()=>a.jsx(a.Fragment,{});const t=yh.get(e);if(t)return t;const n=function({children:r}){return $t.createPortal(p.createElement("div",null,r),e)};return yh.set(e,n),n}const o5=p.memo(function({children:e}){const{editor:t}=mn(),n=Jn(),[r,s]=p.useState(!1),[o,i]=p.useState({assets:[],types:[],close:()=>{},select:()=>{},Container:()=>a.jsx(a.Fragment,{})});return p.useEffect(()=>{if(!t)return;const l=t.Assets.events.custom,c=({open:u,assets:d,types:f,select:h,close:g,container:v})=>{u&&i({assets:d,types:f,select:h,close:g,Container:uo(v)}),s(u)};return t.on(l,c),()=>{t.off(l,c)}},[t]),p.useEffect(()=>n.setCustomAssets(!0),[]),t?Fr(e)?e({open:r,...o}):a.jsx(a.Fragment,{}):a.jsx(a.Fragment,{})});p.memo(function({children:e}){const{editor:t}=mn(),n=Jn(),[r,s]=p.useState(()=>({blocks:[],dragStart:En,dragStop:En,mapCategoryBlocks:new Map,Container:()=>a.jsx(a.Fragment,{})}));return p.useEffect(()=>{if(!t)return;const o=t.Blocks.events.custom,i=({blocks:l,container:c,dragStart:u,dragStop:d})=>{const f=l.reduce((h,g)=>{const v=g.getCategoryLabel(),m=h.get(v);return m?m.push(g):h.set(v,[g]),h},new Map);s({blocks:l,dragStart:u,dragStop:d,mapCategoryBlocks:f,Container:uo(c)})};return t.on(o,i),t.Blocks.__trgCustom(),()=>{t.off(o,i)}},[t]),p.useEffect(()=>n.setCustomBlocks(!0),[]),t?Fr(e)?e(r):a.jsx(a.Fragment,{}):a.jsx(a.Fragment,{})});function i5({children:e,...t}){const n=Jn(),r=p.useRef(null);return p.useEffect(()=>{r.current&&n.setRefCanvas(r.current)},[r.current]),a.jsx("div",{...t,ref:r,children:e})}const a5=p.memo(function({children:e}){const{editor:t}=mn(),[n,r]=p.useState(()=>({devices:[],selected:"",select:En}));return p.useEffect(()=>{if(!t)return;const{Devices:s}=t,o=s.events.all,i=()=>{var l;r({devices:s.getDevices(),selected:(l=s.getSelected())==null?void 0:l.id,select:c=>s.select(c)})};return t.on(o,i),i(),()=>{t.off(o,i)}},[t]),t?Fr(e)?e(n):a.jsx(a.Fragment,{}):a.jsx(a.Fragment,{})}),l5=e=>!!(e&&!Array.isArray(e)&&typeof e=="object");async function c5(e){const t=e.map(({id:o,src:i})=>({id:o,src:i})),n=e.reduce((o,i)=>(o[i.id]=i,o),{}),r=[],s=[];return(await s5(t)).forEach(o=>{o.status==="fulfilled"?r.push(n[o.value]):s.push(n[o.reason])}),{loaded:r,failed:s}}const u5=async e=>{const t=[...e],n={};if(t.length){const r={},s=[];if(t.forEach((o,i)=>{l5(o)&&(r[o.id]={index:i},s.push(o))}),s.length){const{loaded:o}=await c5(s);o.forEach(({id:i,options:l})=>{r[i].loaded=!0,n[i]=l||{}})}Object.keys(r).forEach(o=>{const i=r[o];i.loaded?t[i.index]=o:t[i.index]=!1})}return{plugins:t.filter(Boolean),pluginOptions:n}},d5=p.memo(function({children:e,className:t,style:n,options:r={},plugins:s=[],grapesjs:o,grapesjsCss:i,onEditor:l=En,onReady:c,onUpdate:u,waitReady:d,...f}){const{setEditor:h}=mn(),g=Jn(),[v,m]=p.useState(!1),b=p.useRef(null);p.useEffect(()=>{if(!g.ready||!b.current)return;const O=b.current,E=g.refCanvas;let T,_={},M=[];const k=B=>{const z={height:"100%",...r,plugins:[...M,...r.plugins||[]],pluginsOpts:{...r.pluginsOpts,..._},modal:{custom:!!g.customModal,...r.modal},assetManager:{custom:!!g.customAssets,...r.assetManager},styleManager:{custom:!!g.customStyles,...r.styleManager},blockManager:{custom:!!g.customBlocks,...r.blockManager},richTextEditor:{custom:!!g.customRte,...r.richTextEditor},layerManager:{custom:!!g.customLayers,...r.layerManager},traitManager:{custom:!!g.customTraits,...r.traitManager},selectorManager:{custom:!!g.customSelectors,...r.selectorManager},container:E||O,customUI:!!E,...E?{panels:{defaults:[]}}:{}};T=B.init(z),h(T),l(T),u&&T.on("update",()=>{u(T.getProjectData(),T)}),T.onReady(()=>{m(!0),c==null||c(T)})};return(async()=>{i&&await r5(i);const B=await u5(s);M=B.plugins,_=B.pluginOptions,typeof o=="string"?(await Rv(o),k(window.grapesjs)):k(o)})(),()=>T==null?void 0:T.destroy()},[g.ready]);const y=r.height??"100%",x=r.width??"100%",w=n5("gjs-editor-wrapper",t),S=d&&!v,j=p.useMemo(()=>({...n,height:y,width:x}),[y,x,n]),C=p.useMemo(()=>({...j,...S?{opacity:0,width:0,height:0}:{}}),[j,S]);return a.jsxs(a.Fragment,{children:[d&&!v?a.jsx("div",{className:w,style:j,children:d}):null,a.jsx("div",{...f,ref:b,className:w,style:C,children:e})]})}),p5=p.memo(function(){const e=Jn();return p.useEffect(()=>e.setReady(!0),[]),a.jsx(a.Fragment,{})}),f5=p.memo(function({children:e,...t}){return a.jsx(e5,{children:a.jsx(t5,{children:a.jsxs(d5,{...t,children:[e,a.jsx(p5,{})]})})})}),dp=p.memo(function({children:e}){const{editor:t}=mn(),n=Jn(),[r,s]=p.useState(()=>({root:void 0,Container:()=>a.jsx(a.Fragment,{})}));return p.useEffect(()=>{if(!t)return;const{Layers:o}=t,i=o.events.custom,l=({container:c})=>{s({root:o.getRoot(),Container:uo(c)})};return t.on(i,l),o.__trgCustom({}),()=>{t.off(i,l)}},[t]),p.useEffect(()=>n.setCustomLayers(!0),[]),t?Fr(e)?e(r):a.jsx(a.Fragment,{}):a.jsx(a.Fragment,{})}),h5=p.memo(function({children:e}){const{editor:t}=mn(),n=Jn(),[r,s]=p.useState(!1),[o,i]=p.useState({title:a.jsx(a.Fragment,{}),content:a.jsx(a.Fragment,{}),attributes:{},close:En});return p.useEffect(()=>{if(!t)return;const l="modal",c=({open:u,title:d,content:f,close:h,attributes:g})=>{u&&i({title:p.createElement(bh(d)),content:p.createElement(bh(f)),attributes:g,close:h}),s(u)};return t.on(l,c),()=>{t.off(l,c)}},[t]),p.useEffect(()=>n.setCustomModal(!0),[]),t?typeof e=="function"?e({open:r,...o}):a.jsx(a.Fragment,{}):a.jsx(a.Fragment,{})}),pp=p.memo(function({children:e}){const{editor:t}=mn(),[n,r]=p.useState(()=>({pages:[],selected:void 0,select:En,add:En,remove:En}));return p.useEffect(()=>{if(!t)return;const{Pages:s}=t,o=s.events.all,i=()=>{r({pages:s.getAll(),selected:s.getSelected(),select:(...l)=>s.select(...l),add:(...l)=>s.add(...l),remove:(...l)=>s.remove(...l)})};return t.on(o,i),i(),()=>{t.off(o,i)}},[t]),t?Fr(e)?e(n):a.jsx(a.Fragment,{}):a.jsx(a.Fragment,{})}),fp=p.memo(function({children:e}){const{editor:t}=mn(),n=Jn(),[r,s]=p.useState(()=>({selectors:[],states:[],selectedState:"",targets:[],addSelector:En,removeSelector:En,setState:En,Container:()=>a.jsx(a.Fragment,{})}));return p.useEffect(()=>{if(!t)return;const{Selectors:o}=t,i=o.events.custom,l=({container:c})=>{s({selectors:o.getSelected(),states:o.getStates(),selectedState:o.getState(),targets:o.getSelectedTargets().map(u=>u.getSelectorsString()),addSelector:(...u)=>o.addSelected(...u),removeSelector:(...u)=>o.removeSelected(...u),setState:(...u)=>o.setState(...u),Container:uo(c)})};return t.on(i,l),()=>{t.off(i,l)}},[t]),p.useEffect(()=>n.setCustomSelectors(!0),[]),t?Fr(e)?e(r):a.jsx(a.Fragment,{}):a.jsx(a.Fragment,{})}),kv=p.memo(function({children:e}){const{editor:t}=mn(),n=Jn(),[r,s]=p.useState(()=>({sectors:[],Container:()=>a.jsx(a.Fragment,{})}));return p.useEffect(()=>{if(!t)return;const{Styles:o}=t,i=o.events.custom,l=({container:c})=>{s({sectors:o.getSectors({visible:!0}),Container:uo(c)})};return t.on(i,l),()=>{t.off(i,l)}},[t]),p.useEffect(()=>n.setCustomStyles(!0),[]),t?Fr(e)?e(r):a.jsx(a.Fragment,{}):a.jsx(a.Fragment,{})}),Fu=p.memo(function({children:e}){const{editor:t}=mn(),n=Jn(),[r,s]=p.useState(()=>({traits:[],Container:()=>a.jsx(a.Fragment,{})}));return p.useEffect(()=>{if(!t)return;const{Traits:o}=t,i=o.events.custom,l=({container:c})=>{s({traits:o.getCurrent(),Container:uo(c)})};return t.on(i,l),o.__trgCustom(),()=>{t.off(i,l)}},[t]),p.useEffect(()=>n.setCustomTraits(!0),[]),t?Fr(e)?e(r):a.jsx(a.Fragment,{}):a.jsx(a.Fragment,{})}),bs=({children:e})=>up()?a.jsx(a.Fragment,{children:e}):a.jsx(a.Fragment,{}),hp="gs-cmp-accordion",zu=`${hp}-handler`,Xi=`${zu}__content`,g5=`${hp}-content`;function ys({className:e,classNameWrap:t,classNameContent:n,style:r,handler:s,handlerIcon:o,children:i,inverted:l,disabled:c,sticky:u,onChange:d,open:f}){return a.jsx(Cc,{as:"div",defaultOpen:f,className:R(hp,t,"relative"),children:({open:h})=>a.jsxs(a.Fragment,{children:[a.jsx(Cc.Button,{as:c?"div":"button",disabled:c,style:r,onClick:g=>d==null?void 0:d({event:g,open:!h}),className:({open:g})=>W(zu,rt(e)?e(g):e,u&&"gs-utl-sticky gs-utl-top-0 gs-utl-z-10","gs-utl-w-full"),children:({open:g})=>a.jsxs(D,{items:"center",className:R("gap-2"),full:!0,children:[a.jsx(L,{className:R(Xi,"text-left"),grow:!0,children:rt(s)?s(g):a.jsxs(D,{items:"center",className:R(`${Xi}-wrp`,"gap-3"),nowrap:!0,children:[!!o&&a.jsx(J,{className:R(`${Xi}-icon`),icon:o,size:oe.s2x}),a.jsx(L,{className:R(`${Xi}-label gs-utl-w-full`),children:s})]})}),a.jsx(L,{className:R(`${zu}-toggle`,l&&"-order-1",c&&"gs-utl-hidden"),children:a.jsx(J,{icon:Y.chevronDown,className:R("w-5 h-5 transition-transform",g&&"rotate-180")})})]})}),a.jsx(Cc.Panel,{className:R(g5,n),children:i})]})})}function ae({label:e,property:t,hasValue:n,empty:r,onClear:s,children:o,shallow:i,row:l,tooltip:c,className:u,...d}){const f=e||(t==null?void 0:t.getLabel()),h=t==null?void 0:t.getParentTarget(),g=n||!r&&(t==null?void 0:t.hasValue({noParent:!0})),v=!g&&(t==null?void 0:t.hasValue())&&h,m=h==null?void 0:h.getDevice(),b=h==null?void 0:h.getState(),y=h==null?void 0:h.getComponent(),x=()=>s?s():t==null?void 0:t.clear(),w={className:R(u,"text-sm w-full"),col:!l,items:l?"center":void 0,...d};return t&&!t.isVisible()?null:a.jsx(a.Fragment,{children:a.jsxs(D,{...w,children:[a.jsx(L,{grow:!0,children:a.jsxs(D,{as:"label",items:"center",space:"xs",className:R("block",!l&&"gjs-mb-1",g&&!i&&H.tAo),children:[c&&a.jsx(L,{children:a.jsx(lt,{title:c,children:a.jsx(J,{icon:Y.information,size:oe.sx})})}),a.jsx(L,{children:r?a.jsx("span",{children:" "}):f}),!!v&&!i&&a.jsx(lt,{title:a.jsxs(a.Fragment,{children:[a.jsx("div",{className:R("gjs-mb-1"),children:"Value inherited from"}),!!m&&a.jsxs(D,{space:"s",children:[a.jsx(L,{children:a.jsx(J,{icon:Y.cellphoneLink,size:oe.sx})}),a.jsx(L,{children:a.jsx("b",{children:m.getName()})})]}),a.jsxs(D,{space:"s",children:[a.jsx(L,{children:a.jsx(J,{icon:y?Y.targetVariant:Y.tag,size:oe.sx})}),a.jsxs(L,{children:[a.jsx("b",{children:y?"Components":"Selectors"}),a.jsxs("span",{className:R("text-xs opacity-75"),children:[" ",h==null?void 0:h.selectorsToString({skipState:1})]})]})]}),!!b&&a.jsxs(D,{space:"s",children:[a.jsx(L,{children:a.jsx(J,{icon:Y.flare,size:oe.sx})}),a.jsx(L,{children:a.jsx("b",{children:b.getLabel()})})]})]}),children:a.jsx("div",{className:R("gs-utl-w-[6px] gs-utl-h-[6px] gjs-rounded-full",H.bgW)})}),g&&!i&&a.jsx(lt,{title:"Clear value",onClick:x,children:a.jsx(J,{className:R(qe.click),icon:Y.close,size:oe.s2x})})]})}),a.jsx(L,{grow:!0,className:R("max-w-full"),children:o})]})})}function _t({className:e,options:t,label:n,name:r,value:s,size:o="m",required:i,disabled:l,style:c,onChange:u}){const d=h=>{const g=t.filter(v=>v.id===h)[0];return t.indexOf(g)===t.length-1},f=(h,g)=>R("cursor-pointer",o==="m"&&Pe.xy,o==="s"&&"gs-utl-px-2 gs-utl-py-1 text-sm",o==="xs"&&"gs-utl-p-1 text-sm",H.br,h&&H.bgO,!d(g)&&ee.br);return a.jsxs(Mf,{value:s,onChange:u,className:R("gs-field-buttons w-full"),disabled:l,style:c,children:[!!n&&a.jsx(wt,{size:o,children:n}),r&&a.jsx("input",{type:"hidden",name:r,value:s,required:i}),a.jsx(D,{className:R(e,ee.b,ee.rnd,H.br,"cursor-pointer"),items:"center",full:!0,nowrap:!0,children:t.map(({id:h,label:g,title:v,icon:m})=>a.jsx(lt,{title:v,className:R("w-full"),classNameWrp:R("flex-1"),children:a.jsx(Mf.Option,{value:h,className:({checked:b})=>f(b,h),children:a.jsxs(D,{justify:"center",space:"s",full:!0,children:[!!m&&a.jsx(J,{icon:m,size:oe.s}),g&&a.jsx(L,{children:g})]})})},h))})]})}var m5={grad:.9,turn:360,rad:360/(2*Math.PI)},er=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},ht=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},cn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},Lv=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},xh=function(e){return{r:cn(e.r,0,255),g:cn(e.g,0,255),b:cn(e.b,0,255),a:cn(e.a)}},Ic=function(e){return{r:ht(e.r),g:ht(e.g),b:ht(e.b),a:ht(e.a,3)}},v5=/^#([0-9a-f]{3,8})$/i,Zi=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},$v=function(e){var t=e.r,n=e.g,r=e.b,s=e.a,o=Math.max(t,n,r),i=o-Math.min(t,n,r),l=i?o===t?(n-r)/i:o===n?2+(r-t)/i:4+(t-n)/i:0;return{h:60*(l<0?l+6:l),s:o?i/o*100:0,v:o/255*100,a:s}},Nv=function(e){var t=e.h,n=e.s,r=e.v,s=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),i=r*(1-n),l=r*(1-(t-o)*n),c=r*(1-(1-t+o)*n),u=o%6;return{r:255*[r,l,i,i,c,r][u],g:255*[c,r,r,l,i,i][u],b:255*[i,i,c,r,r,l][u],a:s}},wh=function(e){return{h:Lv(e.h),s:cn(e.s,0,100),l:cn(e.l,0,100),a:cn(e.a)}},Sh=function(e){return{h:ht(e.h),s:ht(e.s),l:ht(e.l),a:ht(e.a,3)}},jh=function(e){return Nv((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Bo=function(e){return{h:(t=$v(e)).h,s:(s=(200-(n=t.s))*(r=t.v)/100)>0&&s<200?n*r/100/(s<=100?s:200-s)*100:0,l:s/2,a:t.a};var t,n,r,s},b5=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y5=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,x5=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,w5=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Uu={string:[[function(e){var t=v5.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?ht(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?ht(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=x5.exec(e)||w5.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:xh({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=b5.exec(e)||y5.exec(e);if(!t)return null;var n,r,s=wh({h:(n=t[1],r=t[2],r===void 0&&(r="deg"),Number(n)*(m5[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return jh(s)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,s=e.a,o=s===void 0?1:s;return er(t)&&er(n)&&er(r)?xh({r:Number(t),g:Number(n),b:Number(r),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,s=e.a,o=s===void 0?1:s;if(!er(t)||!er(n)||!er(r))return null;var i=wh({h:Number(t),s:Number(n),l:Number(r),a:Number(o)});return jh(i)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,s=e.a,o=s===void 0?1:s;if(!er(t)||!er(n)||!er(r))return null;var i=function(l){return{h:Lv(l.h),s:cn(l.s,0,100),v:cn(l.v,0,100),a:cn(l.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(o)});return Nv(i)},"hsv"]]},Ch=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},S5=function(e){return typeof e=="string"?Ch(e.trim(),Uu.string):typeof e=="object"&&e!==null?Ch(e,Uu.object):[null,void 0]},Vc=function(e,t){var n=Bo(e);return{h:n.h,s:cn(n.s+100*t,0,100),l:n.l,a:n.a}},Hc=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Eh=function(e,t){var n=Bo(e);return{h:n.h,s:n.s,l:cn(n.l+100*t,0,100),a:n.a}},Wu=function(){function e(t){this.parsed=S5(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return ht(Hc(this.rgba),2)},e.prototype.isDark=function(){return Hc(this.rgba)<.5},e.prototype.isLight=function(){return Hc(this.rgba)>=.5},e.prototype.toHex=function(){return t=Ic(this.rgba),n=t.r,r=t.g,s=t.b,i=(o=t.a)<1?Zi(ht(255*o)):"","#"+Zi(n)+Zi(r)+Zi(s)+i;var t,n,r,s,o,i},e.prototype.toRgb=function(){return Ic(this.rgba)},e.prototype.toRgbString=function(){return t=Ic(this.rgba),n=t.r,r=t.g,s=t.b,(o=t.a)<1?"rgba("+n+", "+r+", "+s+", "+o+")":"rgb("+n+", "+r+", "+s+")";var t,n,r,s,o},e.prototype.toHsl=function(){return Sh(Bo(this.rgba))},e.prototype.toHslString=function(){return t=Sh(Bo(this.rgba)),n=t.h,r=t.s,s=t.l,(o=t.a)<1?"hsla("+n+", "+r+"%, "+s+"%, "+o+")":"hsl("+n+", "+r+"%, "+s+"%)";var t,n,r,s,o},e.prototype.toHsv=function(){return t=$v(this.rgba),{h:ht(t.h),s:ht(t.s),v:ht(t.v),a:ht(t.a,3)};var t},e.prototype.invert=function(){return kn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),kn(Vc(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),kn(Vc(this.rgba,-t))},e.prototype.grayscale=function(){return kn(Vc(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),kn(Eh(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),kn(Eh(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?kn({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):ht(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=Bo(this.rgba);return typeof t=="number"?kn({h:t,s:n.s,l:n.l,a:n.a}):ht(n.h)},e.prototype.isEqual=function(t){return this.toHex()===kn(t).toHex()},e}(),kn=function(e){return e instanceof Wu?e:new Wu(e)},Ph=[],j5=function(e){e.forEach(function(t){Ph.indexOf(t)<0&&(t(Wu,Uu),Ph.push(t))})};function C5(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var s in n)r[n[s]]=s;var o={};e.prototype.toName=function(i){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,u=r[this.toHex()];if(u)return u;if(i!=null&&i.closest){var d=this.toRgb(),f=1/0,h="black";if(!o.length)for(var g in n)o[g]=new e(n[g]).toRgb();for(var v in n){var m=(l=d,c=o[v],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));m<f&&(f=m,h=v)}return h}},t.string.push([function(i){var l=i.toLowerCase(),c=l==="transparent"?"#0000":n[l];return c?new e(c).toRgb():null},"name"])}function Dl(){return(Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dv(e,t){if(e==null)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(s[n]=e[n]);return s}function Gu(e){var t=p.useRef(e),n=p.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var to=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Fo=function(e){return"touches"in e},Ku=function(e){return e&&e.ownerDocument.defaultView||self},Oh=function(e,t,n){var r=e.getBoundingClientRect(),s=Fo(t)?function(o,i){for(var l=0;l<o.length;l++)if(o[l].identifier===i)return o[l];return o[0]}(t.touches,n):t;return{left:to((s.pageX-(r.left+Ku(e).pageXOffset))/r.width),top:to((s.pageY-(r.top+Ku(e).pageYOffset))/r.height)}},_h=function(e){!Fo(e)&&e.preventDefault()},gp=p.memo(function(e){var t=e.onMove,n=e.onKey,r=Dv(e,["onMove","onKey"]),s=p.useRef(null),o=Gu(t),i=Gu(n),l=p.useRef(null),c=p.useRef(!1),u=p.useMemo(function(){var g=function(b){_h(b),(Fo(b)?b.touches.length>0:b.buttons>0)&&s.current?o(Oh(s.current,b,l.current)):m(!1)},v=function(){return m(!1)};function m(b){var y=c.current,x=Ku(s.current),w=b?x.addEventListener:x.removeEventListener;w(y?"touchmove":"mousemove",g),w(y?"touchend":"mouseup",v)}return[function(b){var y=b.nativeEvent,x=s.current;if(x&&(_h(y),!function(S,j){return j&&!Fo(S)}(y,c.current)&&x)){if(Fo(y)){c.current=!0;var w=y.changedTouches||[];w.length&&(l.current=w[0].identifier)}x.focus(),o(Oh(x,y,l.current)),m(!0)}},function(b){var y=b.which||b.keyCode;y<37||y>40||(b.preventDefault(),i({left:y===39?.05:y===37?-.05:0,top:y===40?.05:y===38?-.05:0}))},m]},[i,o]),d=u[0],f=u[1],h=u[2];return p.useEffect(function(){return h},[h]),p.createElement("div",Dl({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:s,onKeyDown:f,tabIndex:0,role:"slider"}))}),Il=function(e){return e.filter(Boolean).join(" ")},mp=function(e){var t=e.color,n=e.left,r=e.top,s=r===void 0?.5:r,o=Il(["react-colorful__pointer",e.className]);return p.createElement("div",{className:o,style:{top:100*s+"%",left:100*n+"%"}},p.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Tt=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},Iv=function(e){var t=e.s,n=e.v,r=e.a,s=(200-t)*n/100;return{h:Tt(e.h),s:Tt(s>0&&s<200?t*n/100/(s<=100?s:200-s)*100:0),l:Tt(s/2),a:Tt(r,2)}},qu=function(e){var t=Iv(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Bc=function(e){var t=Iv(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},E5=function(e){var t=e.h,n=e.s,r=e.v,s=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),i=r*(1-n),l=r*(1-(t-o)*n),c=r*(1-(1-t+o)*n),u=o%6;return{r:Tt(255*[r,l,i,i,c,r][u]),g:Tt(255*[c,r,r,l,i,i][u]),b:Tt(255*[i,i,c,r,r,l][u]),a:Tt(s,2)}},P5=function(e){var t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?O5({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},O5=function(e){var t=e.r,n=e.g,r=e.b,s=e.a,o=Math.max(t,n,r),i=o-Math.min(t,n,r),l=i?o===t?(n-r)/i:o===n?2+(r-t)/i:4+(t-n)/i:0;return{h:Tt(60*(l<0?l+6:l)),s:Tt(o?i/o*100:0),v:Tt(o/255*100),a:s}},_5=p.memo(function(e){var t=e.hue,n=e.onChange,r=Il(["react-colorful__hue",e.className]);return p.createElement("div",{className:r},p.createElement(gp,{onMove:function(s){n({h:360*s.left})},onKey:function(s){n({h:to(t+360*s.left,0,360)})},"aria-label":"Hue","aria-valuenow":Tt(t),"aria-valuemax":"360","aria-valuemin":"0"},p.createElement(mp,{className:"react-colorful__hue-pointer",left:t/360,color:qu({h:t,s:100,v:100,a:1})})))}),T5=p.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:qu({h:t.h,s:100,v:100,a:1})};return p.createElement("div",{className:"react-colorful__saturation",style:r},p.createElement(gp,{onMove:function(s){n({s:100*s.left,v:100-100*s.top})},onKey:function(s){n({s:to(t.s+100*s.left,0,100),v:to(t.v-100*s.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Tt(t.s)+"%, Brightness "+Tt(t.v)+"%"},p.createElement(mp,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:qu(t)})))}),A5=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},M5=function(e,t){return e.replace(/\s/g,"")===t.replace(/\s/g,"")};function R5(e,t,n){var r=Gu(n),s=p.useState(function(){return e.toHsva(t)}),o=s[0],i=s[1],l=p.useRef({color:t,hsva:o});p.useEffect(function(){if(!e.equal(t,l.current.color)){var u=e.toHsva(t);l.current={hsva:u,color:t},i(u)}},[t,e]),p.useEffect(function(){var u;A5(o,l.current.hsva)||e.equal(u=e.fromHsva(o),l.current.color)||(l.current={hsva:o,color:u},r(u))},[o,e,r]);var c=p.useCallback(function(u){i(function(d){return Object.assign({},d,u)})},[]);return[o,c]}var k5=typeof window<"u"?p.useLayoutEffect:p.useEffect,L5=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Th=new Map,$5=function(e){k5(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Th.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Th.set(t,n);var r=L5();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},N5=function(e){var t=e.className,n=e.hsva,r=e.onChange,s={backgroundImage:"linear-gradient(90deg, "+Bc(Object.assign({},n,{a:0}))+", "+Bc(Object.assign({},n,{a:1}))+")"},o=Il(["react-colorful__alpha",t]),i=Tt(100*n.a);return p.createElement("div",{className:o},p.createElement("div",{className:"react-colorful__alpha-gradient",style:s}),p.createElement(gp,{onMove:function(l){r({a:l.left})},onKey:function(l){r({a:to(n.a+l.left)})},"aria-label":"Alpha","aria-valuetext":i+"%","aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"},p.createElement(mp,{className:"react-colorful__alpha-pointer",left:n.a,color:Bc(n)})))},D5=function(e){var t=e.className,n=e.colorModel,r=e.color,s=r===void 0?n.defaultColor:r,o=e.onChange,i=Dv(e,["className","colorModel","color","onChange"]),l=p.useRef(null);$5(l);var c=R5(n,s,o),u=c[0],d=c[1],f=Il(["react-colorful",t]);return p.createElement("div",Dl({},i,{ref:l,className:f}),p.createElement(T5,{hsva:u,onChange:d}),p.createElement(_5,{hue:u.h,onChange:d}),p.createElement(N5,{hsva:u,onChange:d,className:"react-colorful__last-control"}))},I5={defaultColor:"rgba(0, 0, 0, 1)",toHsva:P5,fromHsva:function(e){var t=E5(e);return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},equal:M5},V5=function(e){return p.createElement(D5,Dl({},e,{colorModel:I5}))},Vl=(e=>(e.m="m",e.s="s",e))(Vl||{});const Ah=e=>Ti(e)?e:"",vp=(e={})=>R("w-full placeholder:italic",H.bgTr,cs.inputText,e.disabled&&H.txtLowEmphasis),H5="gs-input-field",nt=p.forwardRef(function(t,n){const{className:r,value:s,label:o,size:i="m",type:l,placeholder:c,required:u,disabled:d,readOnly:f,description:h,name:g,style:v,tip:m,onInput:b,onChange:y,onBlur:x}=t,[w,S]=p.useState(Ah(s)),j=vp(t),C=p.useRef(null);p.useImperativeHandle(n,()=>C.current,[]),p.useEffect(()=>{S(Ah(s))},[s]);const O=(M,k)=>{y==null||y(M,k)},E=M=>{const{key:k}=M;switch(k){case"Escape":return S(s);case"Enter":return O(w)}},T=()=>{O(w),x==null||x()},_=M=>{const k=M.target.value;S(k),b==null||b(k)};return a.jsxs("div",{className:R(H5,r),style:v,ref:C,children:[!!o&&a.jsx(wt,{size:i,children:o}),!!h&&a.jsx(wt,{size:i,tip:m,as:"span",className:R(H.txtLowEmphasis),capitalize:!1,children:h}),a.jsx(D,{className:R(H.bg,ee.b,ee.rnd,H.br,i==="m"&&Pe.xy,i==="s"&&"gjs-px-3 gjs-py-1"),items:"center",space:"x2s",children:a.jsx(L,{grow:!0,children:a.jsx("input",{className:j,name:g,value:w,onChange:_,placeholder:c,required:u,onBlur:T,onKeyDown:E,readOnly:f,disabled:d,type:l})})})]})});j5([C5]);const B5="gs-cmp-color-picker",F5={backgroundSize:"10px"},z5=[0,15],U5=e=>e.startsWith("rgba")?e:kn(e).toRgbString();function Vv({className:e,value:t,onChange:n}){const r=U5(t||""),[s,o]=p.useState(!1),i=Zn()&&!!window.EyeDropper,l=W(`${B5}-handler gs-utl-bg-checker gs-utl-overflow-hidden gs-utl-cursor-pointer`,e,ee.b,ee.rnd,H.br),c=g=>{n==null||n(g,!0)},u=()=>{i&&new window.EyeDropper().open().then(v=>c(v.sRGBHex))},d=()=>{o(!0)},f=()=>{n==null||n(r,!1),o(!1)},h=a.jsxs("div",{style:F5,className:l,children:[s&&a.jsx("div",{onPointerUp:f,className:W("gs-utl-fixed gs-utl-inset-0 gs-utl-z-50 gs-utl-cursor-grabbing")}),a.jsx("div",{className:W("gs-utl-w-4 gs-utl-h-4"),style:{backgroundColor:t}})]});return a.jsxs(Cr,{handler:h,title:"Color",size:"s",placement:"left-end",offset:z5,clickAway:!0,children:[a.jsx(V5,{className:"color-picker",color:r,onChange:c,onPointerDown:d,onPointerUp:f}),a.jsxs(D,{className:W("gs-utl-mt-3"),space:"s",children:[a.jsx(L,{grow:!0,children:a.jsx(nt,{size:"s",value:r,onChange:c})}),i&&a.jsx(ze,{type:"button",onClick:u,children:a.jsx(J,{icon:Y.eyedropperVariant,size:oe.s})})]})]})}const Mh=e=>Ti(e)?e:"",W5="gs-cmp-color-field";function xr({className:e,value:t,label:n,size:r="m",placeholder:s,preventSubmitOnEnter:o=!1,onChange:i}){const[l,c]=p.useState(Mh(t));p.useEffect(()=>{c(Mh(t))},[t]);const u=(h,g)=>{i==null||i(h,g)},d=h=>{switch(h.key){case"Escape":return c(t);case"Enter":u(l),o&&(h.preventDefault(),h.stopPropagation())}},f=()=>{u(l)};return a.jsxs("div",{className:R(W5,e),children:[!!n&&a.jsx(wt,{size:r,children:n}),a.jsxs(D,{className:R(H.bg,H.br,ee.b,ee.rnd,r==="m"&&Pe.xy,r==="s"&&"gjs-px-3 gjs-py-1"),items:"center",space:"s",children:[a.jsx(L,{children:a.jsx(Vv,{value:t,onChange:i})}),a.jsx(L,{grow:!0,children:a.jsx("input",{className:R("w-full focus:gs-utl-outline-none",H.bgTr),value:l,onChange:h=>c(h.target.value),placeholder:s,onBlur:f,onKeyDown:d})})]})]})}const G5=e=>{const t=parseFloat(e),n=e.replace(`${t}`,"").trim();return{number:t||t===0?`${t}`:"",unit:n}},Hv=({value:e,step:t})=>{const n=parseFloat(`${e}`);let r=0;if(Math.floor(n)!==n&&t){const s=`${t}`.split(".")[1];r=(s==null?void 0:s.length)||0}return r?parseFloat(n.toFixed(r)):n},K5=({value:e,key:t,shiftKey:n,min:r,max:s,step:o=1})=>{const i=t==="ArrowUp",l=t==="ArrowDown";let c=null;if(i||l){c=Number(e);const u=parseFloat(`${o}`);i&&(c+=(n?10:1)*u),l&&(c-=(n?10:1)*u),c=`${Hl({min:r,max:s,value:c})}`,c=Hv({value:c,step:o})}return c},Hl=({min:e,max:t,value:n})=>{const r=parseFloat(`${n}`);let s=r||0;return fr(e)&&(s=Math.max(s,parseFloat(`${e}`)||0)),fr(t)&&(s=Math.min(s,parseFloat(`${t}`)||0)),`${`${r}`!=`${n}`?n:s}`},q5=(e,t,n,r={})=>{const s=parseInt(`${e}`,10)||0,{min:o,max:i,step:l=1}=r;let c=s;const u=f=>{const h=f.clientY-t,g=s-h*parseFloat(`${l}`);c=Hv({value:Hl({min:o,max:i,value:g}),step:l}),n(c,!0)},d=()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),n(c)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},Y5=(e,t,n={})=>{const{partial:r}=n,s=(o,i)=>o===i||r&&o.startsWith(i);return t.some(o=>s(typeof o=="string"?o:o.id,e))},Rh=e=>Ti(e)?e:"",X5="gs-cmp-number-field";function Ce({className:e,value:t,units:n,valueUnit:r,label:s,size:o="m",pan:i=!0,min:l,max:c,step:u,tip:d,placeholder:f,onChange:h,onChangeUnit:g}){const[v,m]=p.useState(Rh(t)),[b,y]=p.useState(!1),x=(n==null?void 0:n.map(E=>({id:E,label:E})))||[],w={min:l,max:c,step:u};p.useEffect(()=>{m(Rh(t))},[t,r]);const S=(E,T)=>{h==null||h(Hl({min:l,max:c,value:E}),T)},j=E=>{y(!0);const T=(_,M)=>{S(_,!!M),!M&&y(!1)};q5(v,E.clientY,T,w)},C=E=>{const{key:T,shiftKey:_}=E;switch(T){case"Escape":return m(t);case"Enter":return S(v)}const M=K5({step:u,value:t,key:T,shiftKey:_});M!==null&&(E.preventDefault(),S(M))},O=()=>{S(v)};return a.jsxs("div",{className:R(X5,e),children:[b&&a.jsx("div",{className:R("fixed inset-0 z-50 cursor-ns")}),!!s&&a.jsx(wt,{size:o,tip:d,children:s}),a.jsxs(D,{className:R(H.bg,H.br,ee.b,ee.rnd,o==="m"&&Pe.xy,o==="s"&&"gjs-px-3 gjs-py-1"),items:"center",space:"x2s",children:[!!i&&a.jsx(L,{onMouseDown:j,className:R("opacity-50 cursor-ns",o==="m"&&"-gjs-ml-3",o==="s"&&"-gjs-ml-2",i!==!0&&"gjs-mr-0.5 -gjs-ml-1"),children:i===!0?a.jsx(J,{icon:Y.panVertical,size:oe.s2x}):i}),a.jsx(L,{grow:!0,children:a.jsx("input",{className:R("w-full",H.bgTr,cs.inputText),value:v,onChange:E=>m(E.target.value),placeholder:f,onBlur:O,onKeyDown:C})}),!!x.length&&a.jsx(L,{className:R(x.length===1&&"opacity-50 pointer-events-none"),children:a.jsx(Se,{caret:"",size:"x2s",pos:"right",width:"75px",emptyState:"-",border:!1,value:r,onChange:E=>g==null?void 0:g(E),options:x})})]})]})}function Z5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const Bl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function po(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function bp(e){return"nodeType"in e}function zr(e){var t,n;return e?po(e)?e:bp(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function yp(e){const{Document:t}=zr(e);return e instanceof t}function fo(e){return po(e)?!1:e instanceof zr(e).HTMLElement}function Bv(e){return e instanceof zr(e).SVGElement}function ho(e){return e?po(e)?e.document:bp(e)?yp(e)?e:fo(e)||Bv(e)?e.ownerDocument:document:document:document}const ds=Bl?p.useLayoutEffect:p.useEffect;function J5(e){const t=p.useRef(e);return ds(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Q5(){const e=p.useRef(null),t=p.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ki(e,t){const n=p.useRef();return p.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function xp(e){const t=J5(e),n=p.useRef(null),r=p.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}let Fc={};function Li(e,t){return p.useMemo(()=>{if(t)return t;const n=Fc[e]==null?0:Fc[e]+1;return Fc[e]=n,e+"-"+n},[e,t])}function Fv(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,i)=>{const l=Object.entries(i);for(const[c,u]of l){const d=o[c];d!=null&&(o[c]=d+e*u)}return o},{...t})}}const li=Fv(1),zv=Fv(-1);function eA(e){return"clientX"in e&&"clientY"in e}function tA(e){if(!e)return!1;const{KeyboardEvent:t}=zr(e.target);return t&&e instanceof t}function nA(e){if(!e)return!1;const{TouchEvent:t}=zr(e.target);return t&&e instanceof t}function Yu(e){if(nA(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return eA(e)?{x:e.clientX,y:e.clientY}:null}const ci=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ci.Translate.toString(e),ci.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),rA={display:"none"};function sA(e){let{id:t,value:n}=e;return p.createElement("div",{id:t,style:rA},n)}function oA(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return p.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function iA(){const[e,t]=p.useState("");return{announce:p.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const aA={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},lA={onDragStart(e){return`Picked up draggable item ${e}.`},onDragOver(e,t){return t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`},onDragEnd(e,t){return t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`},onDragCancel(e){return`Dragging was cancelled. Draggable item ${e} was dropped.`}};var Ge;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ge||(Ge={}));function zc(...e){}class zo extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(({disabled:t})=>!t)}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Fl=p.createContext({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:zc,draggableNodes:{},droppableRects:new Map,droppableContainers:new zo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:zc},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:zc,windowRect:null,willRecomputeLayouts:!1});function cA(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new zo}}}function uA(e,t){switch(t.type){case Ge.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ge.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Ge.DragEnd:case Ge.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ge.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new zo(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case Ge.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new zo(e.droppable.containers);return i.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case Ge.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new zo(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}const Uv=p.createContext({type:null,event:null});function dA({onDragStart:e,onDragMove:t,onDragOver:n,onDragEnd:r,onDragCancel:s}){const o=p.useContext(Uv),i=p.useRef(o);p.useEffect(()=>{if(o!==i.current){const{type:l,event:c}=o;switch(l){case Ge.DragStart:e==null||e(c);break;case Ge.DragMove:t==null||t(c);break;case Ge.DragOver:n==null||n(c);break;case Ge.DragCancel:s==null||s(c);break;case Ge.DragEnd:r==null||r(c);break}i.current=o}},[o,e,t,n,r,s])}function pA({announcements:e=lA,hiddenTextDescribedById:t,screenReaderInstructions:n}){const{announce:r,announcement:s}=iA(),o=Li("DndLiveRegion"),[i,l]=p.useState(!1);return p.useEffect(()=>{l(!0)},[]),dA(p.useMemo(()=>({onDragStart({active:c}){r(e.onDragStart(c.id))},onDragMove({active:c,over:u}){e.onDragMove&&r(e.onDragMove(c.id,u==null?void 0:u.id))},onDragOver({active:c,over:u}){r(e.onDragOver(c.id,u==null?void 0:u.id))},onDragEnd({active:c,over:u}){r(e.onDragEnd(c.id,u==null?void 0:u.id))},onDragCancel({active:c}){r(e.onDragCancel(c.id))}}),[r,e])),i?$t.createPortal(p.createElement(p.Fragment,null,p.createElement(sA,{id:t,value:n.draggable}),p.createElement(oA,{id:o,announcement:s})),document.body):null}const wr=Object.freeze({x:0,y:0});function Wv(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function kh(e,t=e.offsetLeft,n=e.offsetTop){return{x:t+e.width*.5,y:n+e.height*.5}}const fA=({collisionRect:e,droppableContainers:t})=>{const n=kh(e,e.left,e.top);let r=1/0,s=null;for(const o of t){const{rect:{current:i}}=o;if(i){const l=Wv(kh(i),n);l<r&&(r=l,s=o.id)}}return s};function hA(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function gA(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:wr}function mA(e){return function(n,...r){return r.reduce((s,o)=>({...s,top:s.top+e*o.y,bottom:s.bottom+e*o.y,left:s.left+e*o.x,right:s.right+e*o.x,offsetLeft:s.offsetLeft+e*o.x,offsetTop:s.offsetTop+e*o.y}),{...n})}}const Lh=mA(1);function vA(e,t=window.getComputedStyle(e)){return t.position==="fixed"}function bA(e,t=window.getComputedStyle(e)){const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].find(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})!=null}function wp(e){const t=[];function n(r){if(!r)return t;if(yp(r)&&r.scrollingElement!=null&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!fo(r)||Bv(r)||t.includes(r))return t;const s=window.getComputedStyle(r);return bA(r,s)&&t.push(r),vA(r,s)?t:n(r.parentNode)}return e?n(e.parentNode):t}function Uc(e){return!Bl||!e?null:po(e)?e:bp(e)?yp(e)||e===ho(e).scrollingElement?window:fo(e)?e:null:null}function Xu(e){return po(e)?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}var $s;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})($s||($s={}));function Gv(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight},r=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,i=e.scrollLeft>=n.x;return{isTop:r,isLeft:s,isBottom:o,isRight:i,maxScroll:n,minScroll:t}}function yA(e){return!Bl||!e?!1:e===document.scrollingElement}const xA={x:.2,y:.2};function wA(e,t,{top:n,left:r,right:s,bottom:o},i=10,l=xA){const{clientHeight:c,clientWidth:u}=e,d=yA(e)?{top:0,left:0,right:u,bottom:c,width:u,height:c}:t,{isTop:f,isBottom:h,isLeft:g,isRight:v}=Gv(e),m={x:0,y:0},b={x:0,y:0},y={height:d.height*l.y,width:d.width*l.x};return!f&&n<=d.top+y.height?(m.y=$s.Backward,b.y=i*Math.abs((d.top+y.height-n)/y.height)):!h&&o>=d.bottom-y.height&&(m.y=$s.Forward,b.y=i*Math.abs((d.bottom-y.height-o)/y.height)),!v&&s>=d.right-y.width?(m.x=$s.Forward,b.x=i*Math.abs((d.right-y.width-s)/y.width)):!g&&r<=d.left+y.width&&(m.x=$s.Backward,b.x=i*Math.abs((d.left+y.width-r)/y.width)),{direction:m,speed:b}}function SA(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Kv(e){return e.reduce((t,n)=>li(t,Xu(n)),wr)}function qv(e,t,n=wr){if(!e||!fo(e))return n;const r={x:n.x+e.offsetLeft,y:n.y+e.offsetTop};return e.offsetParent===t?r:qv(e.offsetParent,t,r)}function zl(e){const{offsetWidth:t,offsetHeight:n}=e,{x:r,y:s}=qv(e,null);return{width:t,height:n,offsetTop:s,offsetLeft:r}}function Ul(e){if(po(e)){const u=window.innerWidth,d=window.innerHeight;return{top:0,left:0,right:u,bottom:d,width:u,height:d,offsetTop:0,offsetLeft:0}}const{offsetTop:t,offsetLeft:n}=zl(e),{width:r,height:s,top:o,bottom:i,left:l,right:c}=e.getBoundingClientRect();return{width:r,height:s,top:o,bottom:i,right:c,left:l,offsetTop:t,offsetLeft:n}}function Zu(e){const{width:t,height:n,offsetTop:r,offsetLeft:s}=zl(e),o=wp(e),i=Kv(o),l=r-i.y,c=s-i.x;return{width:t,height:n,top:l,bottom:l+n,right:c+t,left:c,offsetTop:r,offsetLeft:s}}function $h(e){return"top"in e}function Nh(e,t=e.offsetLeft,n=e.offsetTop){return[{x:t,y:n},{x:t+e.width,y:n},{x:t,y:n+e.height},{x:t+e.width,y:n+e.height}]}const jA=({collisionRect:e,droppableContainers:t})=>{let n=1/0,r=null;const s=Nh(e,e.left,e.top);for(const o of t){const{rect:{current:i}}=o;if(i){const l=Nh(i,$h(i)?i.left:void 0,$h(i)?i.top:void 0),c=s.reduce((d,f,h)=>d+Wv(l[h],f),0),u=Number((c/4).toFixed(4));u<n&&(n=u,r=o.id)}}return r};function CA(e,t){const n=Math.max(t.top,e.offsetTop),r=Math.max(t.left,e.offsetLeft),s=Math.min(t.left+t.width,e.offsetLeft+e.width),o=Math.min(t.top+t.height,e.offsetTop+e.height),i=s-r,l=o-n;if(r<s&&n<o){const c=t.width*t.height,u=e.width*e.height,d=i*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const EA=({collisionRect:e,droppableContainers:t})=>{let n=0,r=null;for(const s of t){const{rect:{current:o}}=s;if(o){const i=CA(o,e);i>n&&(n=i,r=s.id)}}return r};var Uo;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Uo||(Uo={}));var qa;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(qa||(qa={}));function PA({acceleration:e,activator:t=Uo.Pointer,canScroll:n,draggingRect:r,enabled:s,interval:o=5,order:i=qa.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,threshold:d}){const[f,h]=Q5(),g=p.useRef({x:1,y:1}),v=p.useMemo(()=>{switch(t){case Uo.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Uo.DraggableRect:return r}return null},[t,r,l]),m=p.useRef(wr),b=p.useRef(null),y=p.useCallback(()=>{const w=b.current;if(!w)return;const S=g.current.x*m.current.x,j=g.current.y*m.current.y;w.scrollBy(S,j)},[]),x=p.useMemo(()=>i===qa.TreeOrder?[...c].reverse():c,[i,c]);p.useEffect(()=>{if(!s||!c.length||!v){h();return}for(const w of x){if((n==null?void 0:n(w))===!1)continue;const S=c.indexOf(w),j=u[S];if(!j)continue;const{direction:C,speed:O}=wA(w,j,v,e,d);if(O.x>0||O.y>0){h(),b.current=w,f(y,o),g.current=O,m.current=C;return}}g.current={x:0,y:0},m.current={x:0,y:0},h()},[e,y,n,h,s,o,JSON.stringify(v),f,c,x,u,JSON.stringify(d)])}function OA(e,t){const n=t!==null?e[t]:void 0,r=n?n.node.current:null;return ki(s=>{var o;return t===null?null:(o=r??s)!=null?o:null},[r,t])}function _A(e,t){return p.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...o]},[]),[e,t])}function Yv(e){const t=p.useRef(e);return ds(()=>{t.current!==e&&(t.current=e)},[e]),t}var ui;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ui||(ui={}));var Ju;(function(e){e.Optimized="optimized"})(Ju||(Ju={}));const Dh=new Map,TA={measure:zl,strategy:ui.WhileDragging,frequency:Ju.Optimized};function AA(e,{dragging:t,dependencies:n,config:r}){const[s,o]=p.useState(!1),{frequency:i,measure:l,strategy:c}={...TA,...r},u=p.useRef(e),d=p.useCallback(()=>o(!0),[]),f=p.useRef(null),h=v(),g=ki(m=>{if(h&&!t)return Dh;if(!m||m===Dh||u.current!==e||s){for(let b of e)b&&(b.rect.current=b.node.current?l(b.node.current):null);return MA(e)}return m},[e,t,h,l,s]);return p.useEffect(()=>{u.current=e},[e]),p.useEffect(()=>{s&&o(!1)},[s]),p.useEffect(function(){h||requestAnimationFrame(d)},[t,h]),p.useEffect(function(){h||typeof i!="number"||f.current!==null||(f.current=setTimeout(()=>{d(),f.current=null},i))},[i,h,d,...n]),{layoutRectMap:g,recomputeLayouts:d,willRecomputeLayouts:s};function v(){switch(c){case ui.Always:return!1;case ui.BeforeDragging:return t;default:return!t}}}function MA(e){const t=new Map;if(e)for(const n of e){if(!n)continue;const{id:r,rect:s}=n;s.current!=null&&t.set(r,s.current)}return t}function RA(e){const[t,n]=p.useState(null),r=p.useRef(e),s=p.useCallback(o=>{const i=Uc(o.target);i&&n(l=>l?(l.set(i,Xu(i)),new Map(l)):null)},[]);return p.useEffect(()=>{const o=r.current;if(e!==o){i(o);const l=e.map(c=>{const u=Uc(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Xu(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{i(e),i(o)};function i(l){l.forEach(c=>{const u=Uc(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>li(o,i),wr):Kv(e):wr,[e,t])}const kA=[];function LA(e){const t=p.useRef(e),n=ki(r=>e?r&&e&&t.current&&e.parentNode===t.current.parentNode?r:wp(e):kA,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function $A(e){p.useEffect(()=>{if(!Bl)return;const t=e.map(({sensor:n})=>n.setup==null?void 0:n.setup());return()=>{for(const n of t)n==null||n()}},e.map(({sensor:t})=>t))}function NA(e,t){return p.useMemo(()=>e.reduce((n,{eventName:r,handler:s})=>(n[r]=o=>{s(o,t)},n),{}),[e,t])}const Wc=Zv(Ul),DA=IA(Ul);function Xv(e,t,n){const r=p.useRef(e);return ki(s=>e?n||!s&&e||e!==r.current?fo(e)&&e.parentNode==null?null:t(e):s??null:null,[e,n,t])}function Zv(e){return(t,n)=>Xv(t,e,n)}function IA(e){const t=[];return function(r,s){const o=p.useRef(r);return ki(i=>r.length?s||!i&&r.length||r!==o.current?r.map(l=>e(l)):i??t:t,[r,s])}}function VA(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return fo(t)?t:e}function HA(e){const{width:t,height:n,offsetLeft:r,offsetTop:s}=zl(e);return{top:s,bottom:s+n,left:r,right:r+t,width:t,height:n,offsetTop:s,offsetLeft:r}}const BA=Zv(HA);function FA({disabled:e,forceRecompute:t}){const[n,r]=xp(),s=BA(e?null:VA(n.current),t);return p.useMemo(()=>({nodeRef:n,rect:s,setRef:r}),[s,n,r])}function Ih(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function zA(...e){return p.useMemo(()=>[...e].filter(t=>t!=null),[...e])}class Wo{constructor(t){this.target=t,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})}}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function UA(e){const{EventTarget:t}=zr(e);return e instanceof t?e:ho(e)}function Gc(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var rn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(rn||(rn={}));function Vh(e){e.preventDefault()}function WA(e){e.stopPropagation()}var Ae;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Ae||(Ae={}));const Jv={start:[Ae.Space,Ae.Enter],cancel:[Ae.Esc],end:[Ae.Space,Ae.Enter]},GA=(e,{currentCoordinates:t})=>{switch(e.code){case Ae.Right:return{...t,x:t.x+25};case Ae.Left:return{...t,x:t.x-25};case Ae.Down:return{...t,y:t.y+25};case Ae.Up:return{...t,y:t.y-25}}};class Sp{constructor(t){this.props=t,this.autoScrollEnabled=!1,this.coordinates=wr;const{event:{target:n}}=t;this.props=t,this.listeners=new Wo(ho(n)),this.windowListeners=new Wo(zr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(rn.Resize,this.handleCancel),this.windowListeners.add(rn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(rn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props;if(!t.node.current)throw new Error("Active draggable node is undefined");const r=Ul(t.node.current),s={x:r.left,y:r.top};this.coordinates=s,n(s)}handleKeyDown(t){if(tA(t)){const{coordinates:n}=this,{active:r,context:s,options:o}=this.props,{keyboardCodes:i=Jv,coordinateGetter:l=GA,scrollBehavior:c="smooth"}=o,{code:u}=t;if(i.end.includes(u)){this.handleEnd(t);return}if(i.cancel.includes(u)){this.handleCancel(t);return}const d=l(t,{active:r,context:s.current,currentCoordinates:n});if(d){const f={x:0,y:0},{scrollableAncestors:h}=s.current;for(const g of h){const v=t.code,m=zv(d,n),{isTop:b,isRight:y,isLeft:x,isBottom:w,maxScroll:S,minScroll:j}=Gv(g),C=SA(g),O={x:Math.min(v===Ae.Right?C.right-C.width/2:C.right,Math.max(v===Ae.Right?C.left:C.left+C.width/2,d.x)),y:Math.min(v===Ae.Down?C.bottom-C.height/2:C.bottom,Math.max(v===Ae.Down?C.top:C.top+C.height/2,d.y))},E=v===Ae.Right&&!y||v===Ae.Left&&!x,T=v===Ae.Down&&!w||v===Ae.Up&&!b;if(E&&O.x!==d.x){if(v===Ae.Right&&g.scrollLeft+m.x<=S.x||v===Ae.Left&&g.scrollLeft+m.x>=j.x){g.scrollBy({left:m.x,behavior:c});return}f.x=v===Ae.Right?g.scrollLeft-S.x:g.scrollLeft-j.x,g.scrollBy({left:-f.x,behavior:c});break}else if(T&&O.y!==d.y){if(v===Ae.Down&&g.scrollTop+m.y<=S.y||v===Ae.Up&&g.scrollTop+m.y>=j.y){g.scrollBy({top:m.y,behavior:c});return}f.y=v===Ae.Down?g.scrollTop-S.y:g.scrollTop-j.y,g.scrollBy({top:-f.y,behavior:c});break}}this.handleMove(t,li(d,f))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n),this.coordinates=n}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Sp.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=Jv,onActivation:n})=>{const{code:r}=e.nativeEvent;return t.start.includes(r)?(e.preventDefault(),n==null||n({event:e.nativeEvent}),!0):!1}}];function Hh(e){return!!(e&&"distance"in e)}function Bh(e){return!!(e&&"delay"in e)}class jp{constructor(t,n,r=UA(t.event.target)){this.props=t,this.events=n,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;const{event:s}=t,{target:o}=s;this.props=t,this.events=n,this.document=ho(o),this.documentListeners=new Wo(this.document),this.listeners=new Wo(r),this.windowListeners=new Wo(zr(o)),this.initialCoordinates=Yu(s),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(rn.Resize,this.handleCancel),this.windowListeners.add(rn.DragStart,Vh),this.windowListeners.add(rn.VisibilityChange,this.handleCancel),this.windowListeners.add(rn.ContextMenu,Vh),this.documentListeners.add(rn.Keydown,this.handleKeydown),n){if(Hh(n))return;if(Bh(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(rn.Click,WA,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(rn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){const{activated:n,initialCoordinates:r,props:s}=this,{onMove:o,options:{activationConstraint:i}}=s;if(!r)return;const l=Yu(t),c=zv(r,l);if(!n&&i){if(Bh(i))return Gc(c,i.tolerance)?this.handleCancel():void 0;if(Hh(i))return i.tolerance!=null&&Gc(c,i.tolerance)?this.handleCancel():Gc(c,i.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Ae.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const KA={move:{name:"pointermove"},end:{name:"pointerup"}};class Cp extends jp{constructor(t){const{event:n}=t,r=ho(n.target);super(t,KA,r)}}Cp.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!e.isPrimary||e.button!==0?!1:(t==null||t({event:e}),!0)}];const qA={move:{name:"mousemove"},end:{name:"mouseup"}};var Qu;(function(e){e[e.RightClick=2]="RightClick"})(Qu||(Qu={}));class YA extends jp{constructor(t){super(t,qA,ho(t.event.target))}}YA.activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button===Qu.RightClick?!1:(t==null||t({event:e}),!0)}];const Kc={move:{name:"touchmove"},end:{name:"touchend"}};class XA extends jp{constructor(t){super(t,Kc)}static setup(){return window.addEventListener(Kc.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Kc.move.name,t)};function t(){}}}XA.activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:n}=e;return n.length>1?!1:(t==null||t({event:e}),!0)}}];function ZA(e,{transform:t,...n}){return e!=null&&e.length?e.reduce((r,s)=>s({transform:r,...n}),t):t}const JA=[{sensor:Cp,options:{}},{sensor:Sp,options:{}}],QA={current:{}},Qv=p.createContext({...wr,scaleX:1,scaleY:1}),eM=p.memo(function({id:t,autoScroll:n=!0,announcements:r,children:s,sensors:o=JA,collisionDetection:i=EA,measuring:l,modifiers:c,screenReaderInstructions:u=aA,...d}){var f,h,g,v,m;const b=p.useReducer(uA,void 0,cA),[y,x]=b,[w,S]=p.useState(()=>({type:null,event:null})),[j,C]=p.useState(!1),{draggable:{active:O,nodes:E,translate:T},droppable:{containers:_}}=y,M=O?E[O]:null,k=p.useRef({initial:null,translated:null}),B=p.useMemo(()=>{var St;return O!=null?{id:O,data:(St=M==null?void 0:M.data)!=null?St:QA,rect:k}:null},[O,M]),z=p.useRef(null),[P,A]=p.useState(null),[$,N]=p.useState(null),I=p.useRef(d),V=Li("DndDescribedBy",t),U=p.useMemo(()=>_.getEnabled(),[_]),{layoutRectMap:X,recomputeLayouts:ne,willRecomputeLayouts:K}=AA(U,{dragging:j,dependencies:[T.x,T.y],config:l==null?void 0:l.droppable}),Q=OA(E,O),ce=$?Yu($):null,te=Xv(Q,(f=l==null||(h=l.draggable)==null?void 0:h.measure)!=null?f:Zu),G=Wc(Q),Z=p.useRef(null),le=Z.current,se=p.useRef({active:null,activeNode:Q,collisionRect:null,droppableRects:X,draggableNodes:E,draggingNodeRect:null,droppableContainers:_,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null,translatedRect:null}),me=_.getNodeFor((g=se.current.over)==null?void 0:g.id),ye=Wc(Q?Q.ownerDocument.defaultView:null),Ze=Wc(Q?Q.parentElement:null),et=LA(O?me??Q:null),gt=DA(et),st=FA({disabled:O==null,forceRecompute:K}),Ue=(v=st.rect)!=null?v:te,Jt=Ue===te?gA(te,le):wr,$e=ZA(c,{transform:{x:T.x-Jt.x,y:T.y-Jt.y,scaleX:1,scaleY:1},activatorEvent:$,active:B,activeNodeRect:G,containerNodeRect:Ze,draggingNodeRect:Ue,over:se.current.over,overlayNodeRect:st.rect,scrollableAncestors:et,scrollableAncestorRects:gt,windowRect:ye}),Je=ce?li(ce,T):null,bn=RA(et),mt=li($e,bn),it=Ue?Lh(Ue,$e):null,pt=it?Lh(it,bn):null,yn=B&&pt?i({active:B,collisionRect:pt,droppableContainers:U}):null,[Ot,xn]=p.useState(null),Wr=hA($e,(m=Ot==null?void 0:Ot.rect)!=null?m:null,te),js=p.useCallback((St,{sensor:Qt,options:Rt})=>{if(!z.current)return;const Mn=E[z.current];if(!Mn)return;const en=new Qt({active:z.current,activeNode:Mn,event:St.nativeEvent,options:Rt,context:se,onStart(tn){const yo=z.current;if(!yo)return;const xo=E[yo];if(!xo)return;const{onDragStart:Di}=I.current,wo={active:{id:yo,data:xo.data,rect:k}};$t.unstable_batchedUpdates(()=>{x({type:Ge.DragStart,initialCoordinates:tn,active:yo}),S({type:Ge.DragStart,event:wo})}),Di==null||Di(wo)},onMove(tn){x({type:Ge.DragMove,coordinates:tn})},onEnd:bo(Ge.DragEnd),onCancel:bo(Ge.DragCancel)});$t.unstable_batchedUpdates(()=>{A(en),N(St.nativeEvent)});function bo(tn){return async function(){const{active:xo,over:Di,scrollAdjustedTranslate:wo}=se.current;let Es=null;if(xo&&wo){const{cancelDrop:Ii}=I.current;Es={active:xo,delta:wo,over:Di},tn===Ge.DragEnd&&typeof Ii=="function"&&await Promise.resolve(Ii(Es))&&(tn=Ge.DragCancel)}if(z.current=null,$t.unstable_batchedUpdates(()=>{x({type:tn}),xn(null),C(!1),A(null),N(null),Es&&S({type:tn,event:Es})}),Es){const{onDragCancel:Ii,onDragEnd:Wp}=I.current,Gp=tn===Ge.DragEnd?Wp:Ii;Gp==null||Gp(Es)}}}},[x,E]),Cs=p.useCallback((St,Qt)=>(Rt,Mn)=>{const en=Rt.nativeEvent;z.current!==null||en.dndKit||en.defaultPrevented||St(Rt,Qt.options)===!0&&(en.dndKit={capturedBy:Qt.sensor},z.current=Mn,js(Rt,Qt))},[js]),vo=_A(o,Cs);$A(o),ds(()=>{I.current=d},Object.values(d)),p.useEffect(()=>{O!=null&&C(!0)},[O]),p.useEffect(()=>{B||(Z.current=null),B&&te&&!Z.current&&(Z.current=te)},[te,B]),p.useEffect(()=>{const{onDragMove:St}=I.current,{active:Qt,over:Rt}=se.current;if(!Qt)return;const Mn={active:Qt,delta:{x:mt.x,y:mt.y},over:Rt};S({type:Ge.DragMove,event:Mn}),St==null||St(Mn)},[mt.x,mt.y]),p.useEffect(()=>{const{active:St,droppableContainers:Qt,scrollAdjustedTranslate:Rt}=se.current;if(!St||!z.current||!Rt)return;const{onDragOver:Mn}=I.current,en=Qt.get(yn),bo=en&&en.rect.current?{id:en.id,rect:en.rect.current,data:en.data,disabled:en.disabled}:null,tn={active:St,delta:{x:Rt.x,y:Rt.y},over:bo};$t.unstable_batchedUpdates(()=>{xn(bo),S({type:Ge.DragOver,event:tn}),Mn==null||Mn(tn)})},[yn]),ds(()=>{se.current={active:B,activeNode:Q,collisionRect:pt,droppableRects:X,draggableNodes:E,draggingNodeRect:Ue,droppableContainers:_,over:Ot,scrollableAncestors:et,scrollAdjustedTranslate:mt,translatedRect:it},k.current={initial:Ue,translated:it}},[B,Q,pt,E,Ue,X,_,Ot,et,mt,it]),PA({...d0(),draggingRect:it,pointerCoordinates:Je,scrollableAncestors:et,scrollableAncestorRects:gt});const sc=p.useMemo(()=>({active:B,activeNode:Q,activeNodeRect:te,activeNodeClientRect:G,activatorEvent:$,activators:vo,ariaDescribedById:{draggable:V},containerNodeRect:Ze,dispatch:x,dragOverlay:st,draggableNodes:E,droppableContainers:_,droppableRects:X,over:Ot,recomputeLayouts:ne,scrollableAncestors:et,scrollableAncestorRects:gt,willRecomputeLayouts:K,windowRect:ye}),[B,Q,G,te,$,vo,Ze,st,x,E,V,_,X,Ot,ne,et,gt,K,ye]);return p.createElement(Uv.Provider,{value:w},p.createElement(Fl.Provider,{value:sc},p.createElement(Qv.Provider,{value:Wr},s)),p.createElement(pA,{announcements:r,hiddenTextDescribedById:V,screenReaderInstructions:u}));function d0(){const St=(P==null?void 0:P.autoScrollEnabled)===!1,Qt=typeof n=="object"?n.enabled===!1:n===!1,Rt=!St&&!Qt;return typeof n=="object"?{...n,enabled:Rt}:{enabled:Rt}}}),tM=p.createContext(null),Fh="button",nM="Droppable";function rM({id:e,data:t,disabled:n=!1,attributes:r}){const s=Li(nM),{active:o,activeNodeRect:i,activatorEvent:l,ariaDescribedById:c,draggableNodes:u,droppableRects:d,activators:f,over:h}=p.useContext(Fl),{role:g=Fh,roleDescription:v="draggable",tabIndex:m=0}=r??{},b=(o==null?void 0:o.id)===e,y=p.useContext(b?Qv:tM),[x,w]=xp(),S=NA(f,e),j=Yv(t);p.useEffect(()=>(u[e]={id:e,key:s,node:x,data:j},()=>{const O=u[e];O&&O.key===s&&delete u[e]}),[u,e]);const C=p.useMemo(()=>({role:g,tabIndex:m,"aria-pressed":b&&g===Fh?!0:void 0,"aria-roledescription":v,"aria-describedby":c.draggable}),[g,m,b,v,c.draggable]);return{active:o,activeNodeRect:i,activatorEvent:l,attributes:C,droppableRects:d,isDragging:b,listeners:n?void 0:S,node:x,over:h,setNodeRef:w,transform:y}}function sM(){return p.useContext(Fl)}const oM="Droppable";function iM({data:e,disabled:t=!1,id:n}){const r=Li(oM),{active:s,dispatch:o,over:i}=p.useContext(Fl),l=p.useRef(null),[c,u]=xp(),d=Yv(e);return ds(()=>(o({type:Ge.RegisterDroppable,element:{id:n,key:r,disabled:t,node:c,rect:l,data:d}}),()=>o({type:Ge.UnregisterDroppable,key:r,id:n})),[n]),p.useEffect(()=>{o({type:Ge.SetDroppableDisabled,id:n,key:r,disabled:t})},[t]),{active:s,rect:l,isOver:(i==null?void 0:i.id)===n,node:c,over:i,setNodeRef:u}}function aM(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const lM=({draggingNodeRect:e,transform:t,scrollableAncestorRects:n})=>{const r=n[0];return!e||!r?t:aM(t,e,r)},cM=({transform:e})=>({...e,x:0});function eb(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function uM(e,t){return e.reduce((n,r,s)=>{const o=t.get(r);return o&&(n[s]=o),n},Array(e.length))}function Ji(e){return e!==null&&e>=0}const tb=({layoutRects:e,activeIndex:t,overIndex:n,index:r})=>{const s=eb(e,n,t),o=e[r],i=s[r];return!i||!o?null:{x:i.offsetLeft-o.offsetLeft,y:i.offsetTop-o.offsetTop,scaleX:i.width/o.width,scaleY:i.height/o.height}},Qi={scaleX:1,scaleY:1},dM=({activeIndex:e,activeNodeRect:t,index:n,layoutRects:r,overIndex:s})=>{var o;const i=(o=r[e])!=null?o:t;if(!i)return null;if(n===e){const c=r[s];return c?{x:0,y:e<s?c.offsetTop+c.height-(i.offsetTop+i.height):c.offsetTop-i.offsetTop,...Qi}:null}const l=pM(r,n,e);return n>e&&n<=s?{x:0,y:-i.height-l,...Qi}:n<e&&n>=s?{x:0,y:i.height+l,...Qi}:{x:0,y:0,...Qi}};function pM(e,t,n){const r=e[t],s=e[t-1],o=e[t+1];return r?n<t?s?r.offsetTop-(s.offsetTop+s.height):o?o.offsetTop-(r.offsetTop+r.height):0:o?o.offsetTop-(r.offsetTop+r.height):s?r.offsetTop-(s.offsetTop+s.height):0:0}const nb="Sortable",rb=p.createContext({activeIndex:-1,containerId:nb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tb,wasDragging:{current:!1}});function fM({children:e,id:t,items:n,strategy:r=tb}){const{active:s,dragOverlay:o,droppableRects:i,over:l,recomputeLayouts:c,willRecomputeLayouts:u}=sM(),d=Li(nb,t),f=o.rect!==null,h=p.useMemo(()=>n.map(O=>typeof O=="string"?O:O.id),[n]),g=s!=null,v=p.useRef(!1),m=s?h.indexOf(s.id):-1,b=m!==-1,y=l?h.indexOf(l.id):-1,x=p.useRef(h),w=uM(h,i),S=!hM(h,x.current),j=y!==-1&&m===-1||S;ds(()=>{S&&b&&!u&&c()},[S,b,c,u]),p.useEffect(()=>{x.current=h},[h]),p.useEffect(()=>{const O=setTimeout(()=>{v.current=g},100);return()=>clearTimeout(O)},[g]);const C=p.useMemo(()=>({activeIndex:m,containerId:d,disableTransforms:j,items:h,overIndex:y,useDragOverlay:f,sortedRects:w,strategy:r,wasDragging:v}),[m,d,j,h,y,w,f,r,v]);return p.createElement(rb.Provider,{value:C},e)}function hM(e,t){return e.join()===t.join()}const gM=({id:e,items:t,activeIndex:n,overIndex:r})=>eb(t,n,r).indexOf(e),mM=({containerId:e,isSorting:t,wasDragging:n,index:r,items:s,newIndex:o,previousItems:i,previousContainerId:l,transition:c})=>!c||!n||i!==s&&r===o?!1:t?!0:o!==r&&e===l,vM={duration:200,easing:"ease"},sb="transform",bM=ci.Transition.toString({property:sb,duration:0,easing:"linear"}),yM={roleDescription:"sortable"};function xM({disabled:e,index:t,node:n,rect:r}){const[s,o]=p.useState(null),i=p.useRef(t);return ds(()=>{if(!e&&t!==i.current&&n.current){const l=r.current;if(l){const c=Ul(n.current),u={x:l.offsetLeft-c.offsetLeft,y:l.offsetTop-c.offsetTop,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}t!==i.current&&(i.current=t)},[e,t,n,r]),p.useEffect(()=>{s&&requestAnimationFrame(()=>{o(null)})},[s]),s}function wM({animateLayoutChanges:e=mM,attributes:t,disabled:n,data:r,getNewIndex:s=gM,id:o,strategy:i,transition:l=vM}){const{items:c,containerId:u,activeIndex:d,disableTransforms:f,sortedRects:h,overIndex:g,useDragOverlay:v,strategy:m,wasDragging:b}=p.useContext(rb),y=c.indexOf(o),x=p.useMemo(()=>({sortable:{containerId:u,index:y,items:c},...r}),[u,r,y,c]),{rect:w,node:S,setNodeRef:j}=iM({id:o,data:x}),{active:C,activeNodeRect:O,activatorEvent:E,attributes:T,setNodeRef:_,listeners:M,isDragging:k,over:B,transform:z}=rM({id:o,data:x,attributes:{...yM,...t},disabled:n}),P=Z5(j,_),A=!!C,$=A&&b.current&&!f&&Ji(d)&&Ji(g),N=!v&&k,I=N&&$?z:null,U=$?I??(i??m)({layoutRects:h,activeNodeRect:O,activeIndex:d,overIndex:g,index:y}):null,X=Ji(d)&&Ji(g)?s({id:o,items:c,activeIndex:d,overIndex:g}):y,ne=p.useRef(c),K=c!==ne.current,Q=p.useRef(X),ce=p.useRef(u),te=e({active:C,containerId:u,isDragging:k,isSorting:A,id:o,index:y,items:c,newIndex:Q.current,previousItems:ne.current,previousContainerId:ce.current,transition:l,wasDragging:b.current}),G=xM({disabled:!te,index:y,node:S,rect:w});return p.useEffect(()=>{A&&Q.current!==X&&(Q.current=X),u!==ce.current&&(ce.current=u),c!==ne.current&&(ne.current=c)},[A,X,u,c]),{active:C,attributes:T,activatorEvent:E,rect:w,index:y,isSorting:A,isDragging:k,listeners:M,node:S,overIndex:g,over:B,setNodeRef:P,setDroppableNodeRef:j,setDraggableNodeRef:_,transform:G??U,transition:Z()};function Z(){if(G||K&&Q.current===y)return bM;if(!(N||!l)&&(A||te))return ci.Transition.toString({...l,property:sb})}}const SM=[Ae.Down,Ae.Right,Ae.Up,Ae.Left],jM=(e,{context:{active:t,droppableContainers:n,translatedRect:r,scrollableAncestors:s}})=>{if(SM.includes(e.code)){if(e.preventDefault(),!t||!r)return;const i=[];n.getEnabled().forEach(c=>{if(!c||c!=null&&c.disabled)return;const u=c==null?void 0:c.node.current;if(!u)return;const d=Zu(u),f={...c,rect:{current:d}};switch(e.code){case Ae.Down:r.top+r.height<=d.top&&i.push(f);break;case Ae.Up:r.top>=d.top+d.height&&i.push(f);break;case Ae.Left:r.left>=d.left+d.width&&i.push(f);break;case Ae.Right:r.left+r.width<=d.left&&i.push(f);break}});const l=jA({active:t,collisionRect:r,droppableContainers:i});if(l){var o;const c=(o=n.get(l))==null?void 0:o.node.current;if(c){const d=wp(c).some((v,m)=>s[m]!==v),f=Zu(c),h=d?{x:0,y:0}:{x:r.width-f.width,y:r.height-f.height};return{x:f.left-h.x,y:f.top-h.y}}}}};function CM(e){const{id:t,item:n,className:r,select:s,remove:o,renderItem:i,previewStyle:l}=e,{attributes:c,listeners:u,setNodeRef:d,transform:f,transition:h}=wM({id:t}),g={transform:ci.Transform.toString(f),transition:h},v=()=>s==null?void 0:s(n);return a.jsx("div",{ref:d,style:g,...c,children:a.jsxs(D,{space:"s",onClick:v,className:r,items:"center",nowrap:!0,children:[a.jsx(L,{className:R(qe.hover,"cursor-grab"),...u,children:a.jsx(J,{icon:Y.dotsVertical,size:oe.sx})}),a.jsx(L,{grow:!0,className:R("overflow-hidden"),children:a.jsxs(D,{children:[a.jsx(L,{grow:!0,className:R("overflow-ellipsis overflow-hidden"),children:i(n)}),!!l&&a.jsx(L,{children:a.jsx("div",{className:R("w-4 h-4 gjs-bg-white",ee.b,ee.rnd),style:l(n)})})]})}),a.jsx(L,{className:R(qe.click),onClick:m=>{ti(m),o==null||o(n)},children:a.jsx(J,{icon:Y.close,size:oe.sx})})]},n.getIndex?n.getIndex():n.id||n.cid)})}const ea=e=>e.cid??e.id;function sr({className:e,items:t,selected:n,children:r,title:s,titleAdd:o,label:i,select:l,add:c,move:u,remove:d,renderItem:f,previewStyle:h}){const g=zA(Ih(Cp),Ih(Sp,{coordinateGetter:jM}));function v(b){const{active:y,over:x}=b;if(y.id!==(x==null?void 0:x.id)){const w=t.find(j=>ea(j)===y.id),S=t.findIndex(j=>ea(j)===(x==null?void 0:x.id));w&&(u==null||u(w,S))}}const m=R(ee.rnd,H.br,t.length&&ee.b,t.length&&"gjs-mt-1");return a.jsxs("div",{className:R(e,"w-full"),children:[!!(i||c)&&a.jsxs(D,{items:"center",children:[a.jsx(L,{grow:!0,children:a.jsx(wt,{size:"s",children:i})}),!!c&&a.jsx(L,{children:a.jsx(lt,{title:o,inline:!0,children:a.jsx(ze,{onClick:c,size:"s",children:a.jsx(J,{icon:Y.plus,size:oe.s})})})})]}),a.jsx(Cr,{placement:"left",size:"s",buttonAs:"div",title:s,classNameBody:"gs-utl-gap-2 gs-utl-flex gs-utl-flex-col",open:!!n,onClose:()=>l==null?void 0:l(null),handler:a.jsx(eM,{sensors:g,collisionDetection:fA,onDragEnd:v,modifiers:[cM,lM],children:a.jsx(fM,{items:t.map(ea),strategy:dM,children:a.jsx("div",{className:m,children:t.map((b,y)=>{const x=ea(b),w=b===n,S=R("gjs-px-2 gjs-py-2 text-xs",H.br,y&&ee.bt,!w&&H.hBgH2,w&&H.bgH);return a.jsx(CM,{id:x,item:b,className:S,select:l,remove:d,renderItem:f,previewStyle:h},x)})})})}),children:r})]})}const tr="gs-cmp-file-field";function di({className:e,value:t,label:n,btnLabel:r,nameLabel:s,size:o,isContain:i,clear:l,inputField:c,placeholder:u,description:d,preview:f=50,onChange:h,onOpen:g}){var w;const v=(t||"").replace(/^"|"$/gi,""),m=((w=v.split("/").pop())==null?void 0:w.split("?")[0])||"",b={minWidth:f,minHeight:f},y=v?{...b,backgroundImage:`url("${v}")`}:b,x=W(" gs-utl-w-full gs-utl-bg-checker gs-utl-bg-no-repeat gs-utl-bg-center",i?"gs-utl-bg-contain":"gs-utl-bg-cover",ee.b,ee.rnd,H.br);return a.jsxs(D,{className:W(tr,e,"gs-utl-gap-1"),col:!0,nowrap:!0,children:[!!n&&a.jsx(wt,{className:W(`${tr}-label`),size:o,m:"",children:n}),!!d&&a.jsx(wt,{className:W(`${tr}-desc`,H.txtLowEmphasis),size:o,as:"span",m:"",capitalize:!1,children:d}),a.jsxs(D,{className:W(`${tr}-content gs-utl-gap-1`,H.bg),items:"center",nowrap:!0,children:[a.jsx(L,{className:W(`${tr}-preview`),children:a.jsx("div",{className:x,style:y})}),a.jsxs(L,{className:W(`${tr}-fields gs-utl-overflow-hidden`),grow:!0,children:[m&&s!==!1&&a.jsx(wt,{className:W(`${tr}-name`,"gs-utl-mb-2",qe.txtEllips),as:"div",size:o,capitalize:!1,children:m}),a.jsxs(D,{className:W(`${tr}-buttons`),space:"s",nowrap:!0,children:[a.jsx(ze,{onClick:()=>g==null?void 0:g(t),size:o,type:"button",block:!0,full:!0,children:r||"Select image"}),!!t&&l&&a.jsx(At,{onClick:()=>h==null?void 0:h(""),title:l.tooltip,size:o,icon:{icon:Y.close,size:oe.s},type:"button",block:!0})]})]})]}),c&&a.jsx(nt,{className:W(`${tr}-input`),value:v,onChange:h,size:o,placeholder:u})]})}function Ya(e){return e.isFull()||["slider","composite","stack","file"].includes(e.getType())}function EM(e){return["composite","stack"].includes(e.getType())}function Xa({property:e}){switch(e.getType()){case"number":case"slider":case"integer":return a.jsx(Ce,{...He(e)});case"color":return a.jsx(xr,{...Sr(e)});case"select":return a.jsx(Se,{...Re(e)});case"radio":return a.jsx(_t,{...Re(e)});case"file":return a.jsx(di,{...zM(e)});case"composite":return a.jsx(Dt,{property:e,corners:e.get("corners"),generic:e.get("generic")});case"stack":return a.jsx(sr,{..._r(e),children:e.getProperties().map(t=>a.jsx(ae,{property:t,className:F(Ya(t)&&"col-span-full"),children:a.jsx(Xa,{property:t})},t.getId()))});default:return a.jsx(nt,{...Sr(e)})}}function PM({sector:e}){const t=e.getProperties().filter(n=>n.isVisible());return a.jsx("div",{className:F("grid grid-cols-2 gap-2"),children:t.map(n=>EM(n)?a.jsx("div",{className:F(Ya(n)&&"col-span-full"),children:a.jsx(Xa,{property:n})},n.getId()):a.jsx(ae,{property:n,className:F(Ya(n)&&"col-span-full"),children:a.jsx(Xa,{property:n})},n.getId()))})}const OM="gs-cmp-sector-row";function de({className:e,children:t,bottom:n,separator:r,separatorTop:s,property:o,...i}){const l=a.jsx("div",{className:R("gjs-mb-2 -gjs-ml-2 -gjs-mr-2",ee.bb,H.br)}),c=R(OM,e,"w-full gs-utl-gap-2",n),u=(Array.isArray(o)?o:[o]).filter(Boolean);return(u.length?u.some(f=>f.isVisible()):!0)?a.jsxs(a.Fragment,{children:[s&&l,a.jsx(D,{className:c,nowrap:!0,...i,children:t}),r&&l]}):null}function To(e,t,n={}){const r=e.getType(),{compact:s=!1}=n,o=e.getParent(),i=e.getDefaultValue();if(r==="select"){const c={property:o.getName()};return a.jsx(Se,{...Re(e,c),...t?{value:t.same?e.getValue({noDefault:!0}):"",emptyState:t.same?e.getOptionLabel(i,c)||i:"Custom",onChange:u=>t.all.map(d=>d.upValue(u))}:{}})}else return r==="color"?a.jsx(xr,{...Sr(e),...t?{value:t.same?e.getValue({noDefault:!0}):"",placeholder:t.same?i:"Custom",onChange:(l,c)=>t.all.map(u=>u.upValue(l,{partial:c}))}:{}}):a.jsx(Ce,{...He(e),...s?{pan:e.getLabel()[0]}:{},...t?{value:t.same?e.getValue({noDefault:!0}):"",valueUnit:t.same?e.getUnit():"",placeholder:t.same?i:"Custom",onChange:(l,c)=>t.all.map(u=>u.upValue(l,{partial:c})),onChangeUnit:l=>t.all.map(c=>c.upUnit(l))}:{}})}function Dt({property:e,corners:t,compact:n,generic:r,children:s,options:o}){const i={id:"custom",label:a.jsx(J,{icon:Y.borderStyle,size:oe.s}),title:"Custom"},l=[{id:"all",label:a.jsx(J,{icon:Y.borderAllVariant,size:oe.s}),title:"All"},i],[c,u]=p.useState(null),d=e.isDetached(),f=e.getProperties(),h=f.length,[g,v,m,b]=f,y=g.getFullValue(),w=f.map(z=>z.getFullValue()).every(z=>z===y),S=c!==null?c:w||o?"all":i.id,j=o?[...o,i]:[],C=e.getFullValue(),O=j.some(z=>z.id===C),E=S===i.id||(o?!O:!1)||!!r,T=a.jsx(ae,{property:n?null:g,shallow:!d,children:To(g,null,{compact:n})}),_=a.jsx(ae,{property:n?null:v,shallow:!d,children:To(v,null,{compact:n})}),M=!!m&&a.jsx(ae,{property:n?null:m,shallow:!d,children:To(m,null,{compact:n})}),k=!!b&&a.jsx(ae,{property:n?null:b,shallow:!d,children:To(b,null,{compact:n})}),B=n?{label:e.getLabel()}:{property:e};return e!=null&&e.isVisible()?a.jsxs(D,{className:R("w-full gs-utl-gap-2"),col:!0,nowrap:!0,children:[a.jsx(de,{children:a.jsx(ae,{...B,children:!r&&a.jsx(de,{bottom:"0",children:s!==void 0?s:o?a.jsx(a.Fragment,{children:a.jsx(L,{grow:!0,children:a.jsx(_t,{size:"s",options:j,value:E?i.id:C,onChange:z=>{z===i.id?u(z):(e.upValue(z),u(""))}})})}):a.jsxs(a.Fragment,{children:[a.jsx(L,{grow:!0,children:To(g,{same:w,all:f})}),a.jsx(L,{grow:!0,children:a.jsx(_t,{size:"s",options:l,value:S,onChange:u})})]})})})}),E&&a.jsx(de,{col:!0,className:R("gjs-px-2 gjs-py-1",H.bgH2,ee.rnd,ee.b,H.br),children:r?a.jsx("div",{className:R("grid grid-cols-2 gap-2"),children:f.map(z=>a.jsx(ae,{property:z,shallow:!d,className:R(Ya(z)&&"col-span-full"),children:a.jsx(Xa,{property:z})},z.getId()))}):h===2?a.jsx(a.Fragment,{children:a.jsxs(D,{space:"s",children:[a.jsx(L,{grow:!0,children:T}),a.jsx(L,{grow:!0,children:_})]})}):h===3?a.jsxs(a.Fragment,{children:[a.jsxs(D,{space:"s",children:[a.jsx(L,{grow:!0,children:T}),a.jsx(L,{grow:!0,children:_})]}),a.jsx(D,{space:"s",children:a.jsx(L,{grow:!0,children:M})})]}):t?a.jsxs(a.Fragment,{children:[a.jsxs(D,{space:"s",children:[a.jsx(L,{grow:!0,children:T}),a.jsx(L,{grow:!0,children:_})]}),a.jsxs(D,{space:"s",children:[a.jsx(L,{grow:!0,children:k}),a.jsx(L,{grow:!0,children:M})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(D,{className:R("gs-utl-w-1/2 gjs-m-auto"),children:T}),a.jsxs(D,{space:"s",children:[a.jsx(L,{grow:!0,children:k}),a.jsx(L,{grow:!0,children:_})]}),a.jsx(D,{className:R("gs-utl-w-1/2 gjs-m-auto"),children:M})]})})]}):null}function _M({sector:e}){const t=e.getProperty("border-radius");return a.jsxs(a.Fragment,{children:[a.jsx(Dt,{property:t,corners:!0}),a.jsx(Dt,{property:e.getProperty("border-width")}),a.jsx(Dt,{property:e.getProperty("border-style")}),a.jsx(Dt,{property:e.getProperty("border-color")})]})}const Kr=e=>Hl({value:parseFloat(e),min:-3,max:3}),qc=(e,t="filter")=>{const n=e.getProperty(`${t}-value`),r=e.getProperty(`${t}-name`).getOption()||{},s=r.units||[],o=n.getUnit(),i=Y5(o,s)?o:s[0];return{...He(n),units:s,valueUnit:i,onChange:(l,c)=>{n.upValue(l,{partial:c,units:s,min:r.min,max:r.max})}}},zh=(e,t)=>{const n=e.getProperty(`${t}-name`),r=e.getProperty(`${t}-value`);return{...Re(n),onChange:s=>{n.upValue(s),r.upValue("")}}},TM={"text-shadow-h":"1px","text-shadow-v":"1px","text-shadow-blur":"5px"};function AM({sector:e}){const t=e.getProperty("box-shadow"),n=e.getProperty("text-shadow"),r=e.getProperty("filter"),s=e.getProperty("backdrop-filter"),o=e.getProperty("transition"),i=e.getProperty("transform"),l=e.getProperty("perspective-origin"),c=e.getProperty("backface-visibility"),u=e.getProperty("perspective"),d=e.getProperty("transform-style"),f=e.getProperty("opacity"),h=e.getProperty("mix-blend-mode"),g=e.getProperty("cursor"),v=b=>{const{boxShadowH:y,boxShadowV:x,boxShadowBlur:w,boxShadowColor:S,boxShadowSpread:j,boxShadowType:C}=b.getValues({camelCase:!0}),O=Kr(y),E=Kr(x),T=Kr(w),_=Kr(j),M=`${O}px ${E}px ${T}px ${_}px ${S} ${C}`.trim();return a.jsxs(D,{space:"s",items:"center",children:[a.jsxs(L,{grow:!0,children:[y," ",x," ",w," ",j]}),a.jsx(L,{children:a.jsx("div",{className:R("w-4 h-4 gjs-bg-white",ee.b,ee.rnd),style:{boxShadow:M}})})]})},m=b=>{const{textShadowH:y,textShadowV:x,textShadowBlur:w,textShadowColor:S}=b.getValues({camelCase:!0}),j=Kr(y),C=Kr(x),O=Kr(w),E=`${j}px ${C}px ${O}px ${S}`.trim();return a.jsxs(D,{space:"s",items:"center",children:[a.jsxs(L,{grow:!0,children:[y," ",x," ",w]}),a.jsx(L,{children:a.jsx("div",{className:R("w-4 h-4 gjs-bg-white",ee.b,ee.rnd),style:{boxShadow:E}})})]})};return a.jsxs(a.Fragment,{children:[a.jsxs(de,{property:[f,h],children:[a.jsx(ae,{property:f,children:a.jsx(Ce,{...He(f)})}),a.jsx(ae,{property:h,children:a.jsx(Se,{...Re(h)})})]}),a.jsx(de,{property:g,separator:!0,children:a.jsx(ae,{property:g,children:a.jsx(Se,{...Re(g)})})}),a.jsx(de,{property:t,separator:!0,children:a.jsxs(sr,{..._r(t),renderItem:v,children:[a.jsx(de,{children:a.jsx(_t,{...Re(t.getProperty("box-shadow-type"))})}),a.jsxs(de,{children:[a.jsx(ae,{label:"X offset",children:a.jsx(Ce,{...He(t.getProperty("box-shadow-h"))})}),a.jsx(ae,{label:"Y offset",children:a.jsx(Ce,{...He(t.getProperty("box-shadow-v"))})})]}),a.jsxs(de,{children:[a.jsx(ae,{label:"Blur",children:a.jsx(Ce,{...He(t.getProperty("box-shadow-blur"))})}),a.jsx(ae,{label:"Spread",children:a.jsx(Ce,{...He(t.getProperty("box-shadow-spread"))})})]}),a.jsx(de,{children:a.jsx(ae,{label:"Color",children:a.jsx(xr,{...Sr(t.getProperty("box-shadow-color"))})})})]})}),a.jsx(de,{property:n,separator:!0,children:a.jsxs(sr,{..._r(n,TM),renderItem:m,children:[a.jsxs(de,{children:[a.jsx(ae,{label:"X offset",children:a.jsx(Ce,{...He(n.getProperty("text-shadow-h"))})}),a.jsx(ae,{label:"Y offset",children:a.jsx(Ce,{...He(n.getProperty("text-shadow-v"))})})]}),a.jsx(de,{children:a.jsx(ae,{label:"Blur",children:a.jsx(Ce,{...He(n.getProperty("text-shadow-blur"))})})}),a.jsx(de,{children:a.jsx(ae,{label:"Color",children:a.jsx(xr,{...Sr(n.getProperty("text-shadow-color"))})})})]})}),a.jsx(de,{property:r,separator:!0,children:a.jsx(sr,{..._r(r,{"filter-name":"blur","filter-value":"3px"}),children:a.jsxs(de,{children:[a.jsx(ae,{label:"Type",children:a.jsx(Se,{...zh(r,"filter")})}),a.jsx(ae,{label:"Value",children:a.jsx(Ce,{...qc(r)})})]})})}),a.jsx(de,{property:s,separator:!0,children:a.jsx(sr,{..._r(s,{"backdrop-filter-name":"blur","backdrop-filter-value":"3px"}),children:a.jsxs(de,{children:[a.jsx(ae,{label:"Type",children:a.jsx(Se,{...Re(s.getProperty("backdrop-filter-name"))})}),a.jsx(ae,{label:"Value",children:a.jsx(Ce,{...qc(s,"backdrop-filter")})})]})})}),a.jsx(de,{property:o,separator:!0,children:a.jsxs(sr,{..._r(o),children:[a.jsx(de,{children:a.jsx(ae,{label:"Type",children:a.jsx(Se,{...Re(o.getProperty("transition-property"))})})}),a.jsx(de,{children:a.jsx(ae,{label:"Easing",children:a.jsx(Se,{...Re(o.getProperty("transition-timing-function"))})})}),a.jsxs(de,{children:[a.jsx(ae,{label:"Duration",children:a.jsx(Ce,{...He(o.getProperty("transition-duration"))})}),a.jsx(ae,{label:"Delay",children:a.jsx(Ce,{...He(o.getProperty("transition-delay"))})})]})]})}),a.jsx(de,{property:i,separator:!0,children:a.jsx(sr,{..._r(i),children:a.jsxs(de,{children:[a.jsx(ae,{label:"Type",children:a.jsx(Se,{...zh(i,"transform")})}),a.jsx(ae,{label:"Value",children:a.jsx(Ce,{...qc(i,"transform")})})]})})}),a.jsx(Dt,{property:e.getProperty("transform-origin")}),a.jsx(Dt,{property:e.getProperty("overflow")}),a.jsx(de,{property:c,children:a.jsx(ae,{property:c,children:a.jsx(_t,{...Re(c)})})}),a.jsx(de,{property:[u,d,l],separatorTop:!0,children:"Children transform"}),a.jsxs(de,{property:[u,d],children:[a.jsx(ae,{property:u,children:a.jsx(Ce,{...He(u)})}),a.jsx(ae,{property:d,children:a.jsx(_t,{...Re(d)})})]}),a.jsx(Dt,{property:l})]})}function MM(e,t){return e.indexOf(t)>=0}const Ye=oe.s,ta="M6 6v12h13V6H6zm0 13v5H5V0h1v5h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6zm6-14h1v14h-1V5z",na="M6 6v12h13V6H6zm0-1h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm6-5h1v24h-1V0z",ra="M6 6v12h13V6H6zm13-1V0h1v24h-1v-5H6a1 1 0 01-1-1V6c0-.6.4-1 1-1h13zm-7 0h1v14h-1V5z",Uh="M2 6v12h6V6H2zm0 13v5H1V0h1v5h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H2zM16 6v12h6V6h-6zm6-1V0h1v24h-1v-5h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1h6z",Wh="M11 0h1v24h-1V0zM1 6h6v12H1V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H1a1 1 0 01-1-1V6c0-.6.4-1 1-1zm15 1h6v12h-6V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1z",RM="M3 6v12h6V6H3zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H3a1 1 0 01-1-1V6c0-.6.4-1 1-1zM0 0h1v24H0V0zm14 6v12h6V6h-6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm8-5h1v24h-1V0zM11 0h1v24h-1V0z",Yc="M15 19H9V6h6v13zM8 6v13H0v1h24v-1h-8V6h8V5H0v1h8z";function kM({sector:e}){const{editor:t}=pe(),n=Oe(),[r,s]=p.useState({}),[o,i]=p.useState({}),l=e.getProperty("display"),c=e.getProperty("flex-direction"),u=e.getProperty("justify-content"),d=e.getProperty("align-items"),f=e.getProperty("flex-wrap"),h=e.getProperty("align-content"),g=e.getProperty("align-self"),v=e.getProperty("order"),m=k=>n.t(`styleManager.layout.${k}`),b=l.getValue(),y=b==="flex",x=(o.display||"").indexOf("flex")>=0,w=c.getValue(),S=w.indexOf("reverse")>=0,j=!MM(["column","column-reverse"],w),C=[{id:"row",label:a.jsx(J,{icon:Y.arrowRight,size:oe.sx}),title:m("direction.title.row")},{id:"row-reverse",label:a.jsx(J,{icon:Y.arrowRight,size:Ye,horizontal:!0}),title:m("direction.title.row-reverse")},{id:"column",label:a.jsx(J,{icon:Y.arrowDown,size:oe.sx}),title:m("direction.title.column")},{id:"column-reverse",label:a.jsx(J,{icon:Y.arrowDown,size:Ye,vertical:!0}),title:m("direction.title.column-reverse")}],O=[{id:"flex-start",title:"Start",label:a.jsx(J,{icon:ta,size:Ye,rotate:j?0:90,horizontal:j&&S,vertical:!j&&S})},{id:"center",title:"Center",label:a.jsx(J,{icon:na,size:Ye,rotate:j?0:90})},{id:"flex-end",title:"End",label:a.jsx(J,{icon:ra,size:Ye,rotate:j?0:90,horizontal:j&&S,vertical:!j&&S})},{id:"space-between",title:"Space between",label:a.jsx(J,{icon:Uh,size:Ye,rotate:j?0:90})},{id:"space-around",title:"Space around",label:a.jsx(J,{icon:Wh,size:Ye,rotate:j?0:90})},{id:"space-evenly",title:"Space evenly",label:a.jsx(J,{icon:RM,size:Ye,rotate:j?0:90})}],E=[{id:"stretch",title:"Stretch",label:a.jsx(J,{icon:Yc,size:Ye,rotate:j?0:90})},{id:"flex-start",title:"Start",label:a.jsx(J,{icon:ta,size:Ye,rotate:j?90:0})},{id:"center",title:"Center",label:a.jsx(J,{icon:na,size:Ye,rotate:j?90:0})},{id:"flex-end",title:"End",label:a.jsx(J,{icon:ra,size:Ye,rotate:j?90:0})}],T=[{id:"flex-start",title:"Start",label:a.jsx(J,{icon:ta,size:Ye,rotate:j?90:0,horizontal:j&&S,vertical:!j&&S})},{id:"center",title:"Center",label:a.jsx(J,{icon:na,size:Ye,rotate:j?90:0})},{id:"flex-end",title:"End",label:a.jsx(J,{icon:ra,size:Ye,rotate:j?90:0,horizontal:j&&S,vertical:!j&&S})},{id:"space-between",title:"Space between",label:a.jsx(J,{icon:Uh,size:Ye,rotate:j?90:0})},{id:"space-around",title:"Space around",label:a.jsx(J,{icon:Wh,size:Ye,rotate:j?90:0})},{id:"stretch",title:"Stretch",label:a.jsx(J,{icon:Yc,size:Ye,rotate:j?0:90})}],_=[{id:"auto",title:"Auto",label:a.jsx(J,{icon:Y.close,size:Ye})},{id:"flex-start",title:"Start",label:a.jsx(J,{icon:ta,size:Ye,rotate:90})},{id:"center",title:"Center",label:a.jsx(J,{icon:na,size:Ye,rotate:90})},{id:"flex-end",title:"End",label:a.jsx(J,{icon:ra,size:Ye,rotate:90})},{id:"stretch",title:"Stretch",label:a.jsx(J,{icon:Yc,size:Ye,rotate:0})}],M=[{id:"0 0 auto",label:a.jsx(J,{icon:Y.close,size:Ye}),title:"Auto"},{id:"1 1 0%",label:a.jsx(J,{icon:Y.unfoldMoreHorizontal,size:Ye,rotate:90}),title:"Fill container"},{id:"0 1 auto",label:a.jsx(J,{icon:Y.unfoldLessHorizontal,size:Ye,rotate:90}),title:"Hug contents"}];return p.useEffect(()=>{if(!t)return()=>{};const{Styles:k}=t,B=()=>{const P=t.getSelected();let A={},$={};if(P){const N=P.getEl();if(N){A=window.getComputedStyle(N);const I=N.parentElement;I&&($=window.getComputedStyle(I))}}s(A),i($)},z=k.events.target;return t.on(z,B),B(),()=>t.off(z,B)},[t]),a.jsxs(a.Fragment,{children:[a.jsx(de,{children:a.jsx(ae,{property:l,tooltip:m(`display.tips.${b}`),row:!0,children:a.jsx(Se,{...Re(l)})})}),y&&a.jsxs(a.Fragment,{children:[a.jsx(de,{children:a.jsx(ae,{property:c,children:a.jsx(_t,{...Re(c),options:C})})}),a.jsx(de,{children:a.jsx(ae,{property:u,children:a.jsx(_t,{...Re(u),options:O})})}),a.jsx(de,{children:a.jsx(ae,{property:d,children:a.jsx(_t,{...Re(d),options:E})})}),a.jsx(de,{children:a.jsx(Dt,{property:e.getProperty("gap")})}),a.jsx(de,{children:a.jsx(ae,{property:f,row:!0,children:a.jsx(Se,{...Re(f)})})}),f.getValue()!=="nowrap"&&a.jsx(de,{children:a.jsx(ae,{property:h,children:a.jsx(_t,{...Re(h),options:T})})})]}),x&&a.jsxs(a.Fragment,{children:[a.jsx(de,{separatorTop:!0,children:m("flexChild")}),a.jsx(de,{children:a.jsx(Dt,{property:e.getProperty("flex"),options:M})}),a.jsx(de,{children:a.jsx(ae,{property:g,children:a.jsx(_t,{...Re(g),options:_})})}),a.jsx(de,{children:a.jsx(ae,{property:v,row:!0,children:a.jsx(Ce,{...He(v)})})})]})]})}const LM=["topLeft","topRight","bottomLeft","bottomRight","left","right","bottom","top","full"];function $M({sector:e}){var h;const t=Oe(),n=e.getProperty("position"),r=n.getValue(),s=e.getProperty("top"),o=e.getProperty("right"),i=e.getProperty("bottom"),l=e.getProperty("left"),c=g=>t.t(`styleManager.position.${g}`),u=LM.map(g=>({id:g,label:c(`presets.options.${g}`)})),d=["absolute","fixed"].includes(r),f=g=>{let v="auto",m="auto",b="auto",y="auto";switch(g){case"topLeft":v="0%",y="0%";break;case"topRight":v="0%",m="0%";break;case"bottomLeft":b="0%",y="0%";break;case"bottomRight":b="0%",m="0%";break;case"left":v="0%",b="0%",y="0%";break;case"right":v="0%",b="0%",m="0%";break;case"bottom":y="0%",b="0%",m="0%";break;case"top":y="0%",v="0%",m="0%";break;case"full":y="0%",v="0%",m="0%",b="0%";break}s.upValue(v),o.upValue(m),i.upValue(b),l.upValue(y)};return a.jsxs(a.Fragment,{children:[a.jsxs(de,{children:[a.jsx(ae,{property:n,tooltip:c(`tips.${(h=n.getOption())==null?void 0:h.id}`),row:!0,children:a.jsx(Se,{...Re(n)})}),d&&a.jsx(L,{children:a.jsx(lt,{title:c("presets.title"),children:a.jsx(Se,{options:u,onChange:f,emptyState:"P",size:"s",caret:"",value:!0})})})]}),r!=="static"&&a.jsxs(a.Fragment,{children:[a.jsxs(de,{col:!0,children:[a.jsx(D,{className:R("gs-utl-w-1/2 gjs-m-auto"),children:a.jsx(ae,{property:s,children:a.jsx(Ce,{...He(s)})})}),a.jsxs(D,{space:"s",children:[a.jsx(L,{grow:!0,children:a.jsx(ae,{property:l,children:a.jsx(Ce,{...He(l)})})}),a.jsx(L,{grow:!0,children:a.jsx(ae,{property:o,children:a.jsx(Ce,{...He(o)})})})]}),a.jsx(D,{className:R("gs-utl-w-1/2 gjs-m-auto"),children:a.jsx(ae,{property:i,children:a.jsx(Ce,{...He(i)})})})]}),a.jsx(de,{children:a.jsx(ae,{property:e.getProperty("z-index"),children:a.jsx(Ce,{...He(e.getProperty("z-index"))})})})]})]})}function NM({sector:e}){const t=e.getProperty("width"),n=e.getProperty("min-width"),r=e.getProperty("max-width"),s=e.getProperty("height"),o=e.getProperty("min-height"),i=e.getProperty("max-height");return a.jsxs(a.Fragment,{children:[a.jsxs(de,{property:[t,s],children:[a.jsx(ae,{property:t,children:a.jsx(Ce,{...He(t)})}),a.jsx(ae,{property:s,children:a.jsx(Ce,{...He(s)})})]}),a.jsxs(de,{property:[n,o],children:[a.jsx(ae,{property:n,children:a.jsx(Ce,{...He(n)})}),a.jsx(ae,{property:o,children:a.jsx(Ce,{...He(o)})})]}),a.jsxs(de,{property:[r,i],children:[a.jsx(ae,{property:r,children:a.jsx(Ce,{...He(r)})}),a.jsx(ae,{property:i,children:a.jsx(Ce,{...He(i)})})]})]})}function DM({sector:e}){return a.jsxs(a.Fragment,{children:[a.jsx(Dt,{property:e.getProperty("padding")}),a.jsx(Dt,{property:e.getProperty("margin")})]})}function IM({sector:e}){const t=e.getProperty("font-family"),n=e.getProperty("color"),r=e.getProperty("font-size"),s=e.getProperty("font-weight"),o=e.getProperty("line-height"),i=e.getProperty("letter-spacing"),l=e.getProperty("text-align"),c=e.getProperty("vertical-align"),u=e.getProperty("text-decoration"),d=e.getProperty("text-transform"),f=e.getProperty("direction"),h=e.getProperty("white-space");return a.jsxs(a.Fragment,{children:[!!t&&a.jsx(de,{property:t,children:a.jsx(ae,{property:t,children:a.jsx(Se,{...Re(t)})})}),!!n&&a.jsx(de,{property:n,children:a.jsx(ae,{property:n,children:a.jsx(xr,{...Sr(n)})})}),a.jsxs(de,{property:[r,s],children:[!!r&&a.jsx(ae,{property:r,children:a.jsx(Ce,{...He(r)})}),!!s&&a.jsx(ae,{property:s,children:a.jsx(Se,{...Re(s)})})]}),a.jsxs(de,{property:[o,i],children:[!!o&&a.jsx(ae,{property:o,children:a.jsx(Ce,{...He(o)})}),!!i&&a.jsx(ae,{property:i,children:a.jsx(Ce,{...He(i)})})]}),a.jsxs(de,{property:[l,c],children:[!!l&&a.jsx(ae,{property:l,children:a.jsx(Se,{...Re(l)})}),!!c&&a.jsx(ae,{property:c,children:a.jsx(Se,{...Re(c)})})]}),a.jsxs(de,{property:[d,f],children:[!!d&&a.jsx(ae,{property:d,children:a.jsx(Se,{...Re(d)})}),!!f&&a.jsx(ae,{property:f,children:a.jsx(Se,{...Re(f)})})]}),a.jsxs(de,{property:[h,u],children:[!!h&&a.jsx(ae,{property:h,children:a.jsx(Se,{...Re(h)})}),!!u&&a.jsx(ae,{property:u,children:a.jsx(Se,{...Re(u)})})]})]})}const ob="gs-style-manager",Ep=`${ob}-sector`,VM=`${Ep}-header`,HM=`${Ep}-content`,ib=(e,t=0,n=!0)=>R(VM,H.bgH2,Pe.xyS,H.br,t&&ee.bt,(e||n)&&ee.bb),BM=(e,t={})=>e.getOptions().map(n=>({id:e.getOptionId(n),label:e.getOptionLabel(e.getOptionId(n),t),title:n.title})),FM=(e,t)=>t.map(n=>({...n,title:e.getOptionLabel(e.getOptionId(n))})),Re=(e,t={})=>({size:"s",options:BM(e,t),value:e.getValue(),onChange:n=>e.upValue(n)}),_r=(e,t={})=>({title:e.getLabel(),titleAdd:`Add new ${e.getLabel()}`,items:e.getLayers(),selected:e.getSelectedLayer(),renderItem:n=>e.getLayerLabel(n),add:()=>e.addLayer(t,{at:0}),select:n=>e.selectLayer(n),remove:n=>e.removeLayer(n),move:(n,r=0)=>e.moveLayer(n,r),label:a.jsx(ae,{property:e})}),He=e=>({size:"s",value:e.getValue({noDefault:!0}),valueUnit:e.getUnit(),units:e.getUnits(),placeholder:e.getDefaultValue(),onChangeUnit:t=>e.upUnit(t),onChange:(t,n)=>e.upValue(t,{partial:n})}),Sr=e=>({size:"s",value:e.getValue({noDefault:!0}),placeholder:e.getDefaultValue(),onChange:(t,n)=>e.upValue(t,{partial:n})}),zM=e=>({...Sr(e),onOpen(){const t=e.em.Assets;t.open({select(n){e.upValue(n.getSrc()),t.close()}})}}),UM=e=>{const t=e.getId();let n=PM;switch(t){case"gs-layout":n=kM;break;case"gs-size":n=NM;break;case"gs-space":n=DM;break;case"gs-position":n=$M;break;case"gs-borders":n=_M;break;case"gs-effects":n=AM;break;case"gs-typography":n=IM;break;case"gs-background":n=QM;break}return a.jsx(n,{sector:e})},ab=re(function({className:t,sectors:n}){const{editor:r}=pe();if(!r)return null;const{Styles:s}=r,o=s.getSelected(),i=n.length?n:s.getSectors({visible:!0});return o?a.jsx("div",{className:R(ob,t,"select-none"),children:i.map((l,c)=>a.jsx(ys,{classNameWrap:Ep,sticky:!0,handler:()=>{const u=l.getProperties({withValue:!0}).length>0,d=l.getProperties({withParentValue:!0}).length>0;return a.jsxs(D,{space:"xs",items:"center",children:[a.jsx(L,{className:R("gjs-mr-2"),children:l.getName()}),u&&a.jsx(L,{children:a.jsx("div",{className:R(qe.dot,H.bgA2)})}),d&&a.jsx(L,{children:a.jsx("div",{className:R(qe.dot,H.bgW)})})]})},className:u=>ib(u,c,c===i.length-1),children:a.jsx(D,{className:R(HM,"gs-utl-p-2 gs-utl-gap-2"),col:!0,children:UM(l)})},l.getId()))}):null});function Za({value:e,label:t,border:n,size:r="m",tip:s,disabled:o,onChange:i}){const l=!!e,c=R("relative inline-flex items-center h-6 gjs-rounded-full w-11 transition-colors focus:gs-utl-outline-none",l?H.bgA:H.bgH,ni.focus,n&&`${H.br} ${ee.b}`);return a.jsx(Oc.Group,{children:a.jsxs(D,{full:!0,items:"center",children:[!!t&&a.jsx(Oc.Label,{className:R("gs-utl-mr-4 gs-utl-flex-1 gs-utl-flex gs-utl-gap-2 gs-utl-items-center"),passive:!0,children:a.jsx(wt,{as:"span",size:r,tip:s,m:"",children:t})}),a.jsx(Oc,{checked:l,onChange:i,className:c,disabled:o,children:a.jsx("span",{className:R(H.bg,"inline-block w-4 h-4 transform gjs-rounded-full transition-transform",l?"translate-x-6":"translate-x-1")})})]})})}const WM=/^-?[0-9]+(\.[0-9]+)?[a-zA-Z%]{0,}$/,GM=/,(?![^(]*\))/,Xc=/\s(?![^(]*\))/,KM=/^(closest-side|closest-corner|farthest-side|farthest-corner)/i,Zc=/^circle|ellipse/i,Pp=e=>{var d;const t=[],{name:n,value:r}=Nl(e),[s,...o]=r.split(GM).map(f=>f.trim()).filter(Boolean),i=o.length>1,l=i?s:"",c={type:"none"},u=i?o:[s,...o];if(WM.test(l))c.type="angle",c.value=l;else if(/^to\s/.test(l))c.type="side-or-corner",c.value=l;else if(KM.test(l))c.type="size",c.value=l;else if(Zc.test(l)||/^at\s/.test(l)||/\sat\s/.test(l)){c.type="at",c.value=l;const f=((d=l.match(Zc))==null?void 0:d[0])||"circle";c.shape=f;const h={x:"0%",y:"0%"},g={x:"0%",y:"0%"},[v,m]=l.replace(Zc,"").trim().split("at").map(b=>b.trim());if(v){const[b,y]=v.split(Xc);h.x=b,h.y=y||b}if(m){const[b,y]=m.split(Xc);g.x=b,g.y=y||b}c.size=h,c.position=g}return u.forEach(f=>{const[h,g]=f.split(Xc);t.push({color:h,hint:g?parseFloat(g):null})}),t.forEach((f,h)=>{f.hint===null&&(f.hint=h/(t.length-1)*100)}),{name:n,orientation:c,colorStops:t}},Pr=({stops:e,orientation:t="to right",name:n="linear-gradient"})=>{const s=(e.length===1?[{color:e[0].color,hint:null},{color:e[0].color,hint:null}]:e).map(o=>`${o.color} ${o.hint?`${o.hint}%`:""}`.trim()).join(", ");return s?`${n}(${t}, ${s})`:"none"},qM=e=>e.slice().sort((t,n)=>(t.hint||0)-(n.hint||0)),YM="gs-cmp-grad-picker";function XM({className:e,value:t,onChange:n}){var A,$,N;const r=Pp(t),[s,o]=p.useState(r.colorStops),[i,l]=p.useState(null),c=p.useRef(null),u=R(YM,"gs-grad-picker gs-utl-select-none gs-utl-gap-1",e,ee.rnd),d=r.name||"linear-gradient",f=d.indexOf("radial")>=0,h=d.indexOf("repeating")>=0,g=r.orientation.value,v=`${parseFloat(`${g}`)||180}`,m=`${parseFloat(`${(A=r.orientation.size)==null?void 0:A.x}`)||0}`,b=`${parseFloat(`${($=r.orientation.position)==null?void 0:$.x}`)||0}`,y=`${parseFloat(`${(N=r.orientation.position)==null?void 0:N.y}`)||0}`,x=0,w=100,S=(I,V=!1)=>{const U=qM(I);o(U),n==null||n(Pr({name:d,orientation:g,stops:U}),V)},j=(I,V=!1)=>{n==null||n(Pr({stops:s,name:d,orientation:`${I}deg`}),V)},C=(I,V=!1)=>{n==null||n(Pr({stops:s,name:d,orientation:`${I}px at ${b}% ${y}%`}),V)},O=(I,V=!1)=>{n==null||n(Pr({stops:s,name:d,orientation:`${m}px at ${I}% ${y}%`}),V)},E=(I,V=!1)=>{n==null||n(Pr({stops:s,name:d,orientation:`${m}px at ${b}% ${I}%`}),V)},T=I=>{const V=`${I?"repeating-":""}${f?"radial":"linear"}-gradient`;n==null||n(Pr({stops:s,orientation:g,name:V}))},_=I=>{const V=`${h?"repeating-":""}${I?"radial":"linear"}-gradient`;n==null||n(Pr({stops:s,orientation:I?"100px at 50% 50%":"90deg",name:V}))};p.useEffect(()=>{if(!i)return;const I=parseFloat(`${i.stop.hint}`),V=X=>{let K=(X.clientX-i.x)*100;K=K/i.w,K=I+K,K=K<x?x:K,K=K>w?w:K,i.stop.hint=parseInt(`${K}`,10),S(s,!0)},U=()=>{l(null),S(s)};return window.addEventListener("pointermove",V),window.addEventListener("pointerup",U),()=>{window.removeEventListener("pointermove",V),window.removeEventListener("pointerup",U),U()}},[i]);const M=(I,V)=>{const U=c.current;l({stop:V,w:(U==null?void 0:U.clientWidth)||0,h:(U==null?void 0:U.clientHeight)||0,x:I.clientX,y:I.clientY})},k=I=>{const V=c.current,U=(V==null?void 0:V.clientWidth)||0,X=(V==null?void 0:V.clientHeight)||0,ne=I.nativeEvent.offsetX-((V==null?void 0:V.clientLeft)||0),K=I.nativeEvent.offsetY-((V==null?void 0:V.clientTop)||0),Q=ne/U*100,ce=document.createElement("canvas"),te=ce.getContext("2d");if(!te)return;ce.width=U,ce.height=X;const G=te.createLinearGradient(0,0,U,X);s.forEach(ye=>G.addColorStop(parseFloat(`${ye.hint}`)/100,ye.color)),te.fillStyle=G,te.fillRect(0,0,ce.width,ce.height),ce.style.background="black";const Z=te.getImageData(ne,K,1,1).data,le=Z[3]?(100/255*Z[3]/100).toFixed(2):0,se=`rgba(${Z[0]}, ${Z[1]}, ${Z[2]}, ${le})`,me=se==="rgba(0, 0, 0, 0)"?"#000":se;S([...s,{color:me,hint:Q}])},B=I=>{S(s.filter(V=>V!==I))},z=(I,V,U)=>{V&&(I.color=V),S(s,U)},P=I=>(i==null?void 0:i.stop)===I;return a.jsxs(D,{className:u,col:!0,children:[!!(i!=null&&i.stop)&&a.jsx("div",{className:R("fixed inset-0 z-50 cursor-colr")}),a.jsxs("div",{className:R("relative gjs-mb-6 gjs-mt-3"),children:[a.jsx("div",{className:R("bg-checker h-8",ee.rnd),children:a.jsx("div",{ref:c,className:R("w-full h-full cursor-cross",ee.b,ee.rnd,H.br),style:{backgroundImage:Pr({stops:s})},onClick:k})}),s.map((I,V)=>a.jsxs("div",{className:R("absolute top-0 h-full"),style:{left:`${I.hint}%`},children:[a.jsx("div",{className:R("cursor-pointer absolute gs-utl-translate-x-[-50%] gs-utl-top-[-14px]"),onClick:()=>B(I),children:a.jsx(J,{icon:Y.close,size:oe.s3x})}),a.jsx("div",{onPointerDown:U=>M(U,I),className:R("h-full w-1 gs-utl-translate-x-[-50%] cursor-colr opacity-50 gjs-border-white",ee.br,ee.bl,P(I)?"gjs-bg-white":"gjs-bg-black")}),a.jsx("div",{className:R("cursor-pointer gs-utl-bottom-[-17px] gs-utl-left-[-7px] absolute"),children:a.jsx(Vv,{value:I.color,onChange:(U,X)=>z(I,U,X),className:R("h-4 w-4 gjs-rounded-full gjs-border-2")})})]},V))]}),a.jsxs(D,{space:"s",items:"center",children:[a.jsx(L,{grow:!0,children:a.jsx(Za,{label:"Repeat",value:h,onChange:T})}),a.jsx(L,{grow:!0,children:a.jsx(Za,{label:"Radial",value:f,onChange:_})})]}),f?a.jsxs(D,{space:"s",col:!0,children:[a.jsx(L,{children:a.jsx(D,{space:"s",items:"center",children:a.jsx(L,{grow:!0,children:a.jsx(Ce,{pan:"S",size:"s",value:m,onChange:C,valueUnit:"px",units:["px"]})})})}),a.jsx(L,{children:a.jsxs(D,{space:"s",children:[a.jsx(L,{grow:!0,children:a.jsx(Ce,{pan:"X",size:"s",value:b,onChange:O,valueUnit:"%",units:["%"]})}),a.jsx(L,{grow:!0,children:a.jsx(Ce,{pan:"Y",size:"s",value:y,onChange:E,valueUnit:"%",units:["%"]})})]})})]}):a.jsx(D,{space:"s",items:"center",nowrap:!0,children:a.jsx(L,{grow:!0,children:a.jsx(Ce,{pan:"A",size:"s",value:v,onChange:j,valueUnit:"deg",units:["deg"]})})})]})}var Rr=(e=>(e.Image="image",e.Gradient="gradient",e.Color="color",e))(Rr||{});const Pa="background-image",Fn="__background-type",Go=Pa,lb="https://placehold.co/150/777/white.png?text=IMAGE",ed="50px",ZM={[Fn]:"image","background-image":`url("${lb}")`,"background-size":`${ed} ${ed}`,"background-repeat":"repeat","background-position":"0px 0px"},JM=e=>(e.includes("gradient(")?Pp(e).colorStops[0].color:e)||"";function QM({sector:e}){var b;const t=Mt(),n=e.getProperty("background"),r=n.getProperty(Fn),s=n.getProperty("background-image"),o=n.getProperty("background-position"),i=n.getProperty("background-size"),l=e.getProperty("background-color"),c=e.getProperty("background-clip"),u=((b=n.getSelectedLayer())==null?void 0:b.getIndex())||-1,d=r==null?void 0:r.getValue(),f=d==="image",h=s.getValue(),g=()=>{const y=t.Assets;y.open({select(x){const w=x.getSrc();s.upValue(`url("${w}")`),y.close()}})},v=y=>{let x="none",w="100%";y==="image"?(x=`url("${lb}")`,w=ed):y==="gradient"?x="linear-gradient(90deg, black 10%, white 90%)":y==="color"&&(x="rgba(0, 0, 0, 0.5)"),s.upValue(x),r.upValue(y),o.upValue("0 0"),i.upValue(`${w} ${w}`)},m=FM(r,[{id:"image",label:a.jsx(J,{icon:Y.image,size:oe.s})},{id:"gradient",label:a.jsx(J,{icon:Y.gradientVertical,size:oe.s})},{id:"color",label:a.jsx(J,{icon:Y.checkboxBlank,size:oe.s})}]);return a.jsxs(a.Fragment,{children:[a.jsx(de,{property:n,separator:!0,children:a.jsxs(sr,{..._r(n,ZM),previewStyle:y=>n.getStyleFromLayer(y,{camelCase:!0}),children:[a.jsx(de,{children:a.jsx(ae,{label:"Type",children:a.jsx(_t,{...Re(r),options:m,onChange:v})})}),a.jsx(de,{children:a.jsxs(ae,{children:[f&&a.jsx(di,{value:Nl(h).value,onOpen:g}),d==="color"&&a.jsx(xr,{...Sr(s),value:JM(h)}),d==="gradient"&&a.jsx(XM,{value:h,onChange:(y,x)=>s.upValue(y,{partial:x})},u)]})}),f&&a.jsxs(a.Fragment,{children:[a.jsx(de,{col:!0,children:a.jsx(Dt,{property:o})}),a.jsx(de,{col:!0,children:a.jsx(Dt,{property:i})}),a.jsxs(de,{children:[a.jsx(ae,{label:n.getProperty("background-repeat").getLabel(),children:a.jsx(Se,{...Re(n.getProperty("background-repeat"))})}),a.jsx(ae,{label:n.getProperty("background-attachment").getLabel(),children:a.jsx(Se,{...Re(n.getProperty("background-attachment"))})})]}),a.jsx(de,{children:a.jsx(ae,{label:n.getProperty("background-origin").getLabel(),children:a.jsx(Se,{...Re(n.getProperty("background-origin"))})})})]})]})}),a.jsx(de,{property:l,children:a.jsx(ae,{property:l,children:a.jsx(xr,{...Sr(l)})})}),a.jsx(de,{property:c,children:a.jsx(ae,{property:c,children:a.jsx(Se,{...Re(c)})})})]})}const sa=["%"],oa=["s","ms"],Ao=["deg","rad","grad"],$n=["px","%","em","rem","vw","vh"],Gh={type:"select",options:["visible","hidden","scroll","auto"].map(e=>({id:e})),default:"visible"},eR=e=>`linear-gradient(${e} 1%, ${e} 100%)`,Ja=e=>({id:e,label:e.split("-").map(lr).join(" ")}),cb=e=>({property:t,to:n})=>{if(n.value){const r=t.getOption(),s=t.getParent().getProperty(e),o=s.getUnit(),i={units:r.units||[],min:r.min,max:r.max,unit:""};(!o||(i==null?void 0:i.units.indexOf(o))<0)&&(i.unit=(i==null?void 0:i.units[0])||""),s.up(i)}},tR=e=>{const t=`${e}-name`,n=`${e}-value`;return(r,{separatorLayers:s})=>{const o=r[e]||"";return o?o.split(s).map(i=>{const{name:l,value:c}=Nl(i);return{[t]:l,[n]:c}}):[]}},Kh=e=>{const t={[Go]:e};if(e.indexOf("url(")>-1)t[Fn]=Rr.Image;else if(e.indexOf("gradient(")>-1){const n=Pp(e),r=n.colorStops,s=n.name.indexOf("linear")>=0;r.length===2&&s&&r[0].color===r[1].color?t[Fn]=Rr.Color:t[Fn]=Rr.Gradient}else t[Fn]=Rr.Color,t[Go]=eR(e);return t},qh=(e="filter")=>{const t=`${e}-name`,n=`${e}-value`;return{property:e,type:"stack",layerSeparator:" ",fromStyle(r,{separatorLayers:s}){const o=r[e]||"";return o?o.split(s).map(i=>{const{name:l,value:c}=Nl(i);return{[t]:l,[n]:c}}):[]},toStyle(r,{name:s}){return{[s]:`${r[t]}(${r[n]||"0"})`}},properties:[{property:t,type:"select",default:"blur",options:[{id:"blur",label:"Blur",min:0,units:["px","em","rem","vw","vh"]},{id:"brightness",label:"Brightness",min:0,units:["%"]},{id:"contrast",label:"Contrast",min:0,units:["%"]},{id:"grayscale",label:"Grayscale",min:0,max:100,units:["%"]},{id:"hue-rotate",label:"Hue rotate",min:0,max:360,units:["deg","rad","grad"]},{id:"invert",label:"Invert",min:0,max:100,units:["%"]},{id:"saturate",label:"Saturate",min:0,units:["%"]},{id:"sepia",label:"Sepia",min:0,max:100,units:["%"]}],onChange:cb(n)},{property:n,type:"integer"}]}},ia=(e,{x:t,y:n,mergable:r}={})=>{const s={property:`${e}-x`,type:"integer",units:$n,...t},o={property:`${e}-y`,type:"integer",units:$n,...n};return{property:e,type:"composite",properties:[s,o],...r&&{fromStyle(i,{name:l,separator:c,property:u}){const[d,f]=u.getProperties(),[h,g]=(i[l]||"").split(c);return{[d.getId()]:i[d.getName()]||h||"",[f.getId()]:i[f.getName()]||g||h||""}},toStyle(i,{name:l,property:c}){const[u,d]=c.getProperties(),f=i[u.getId()],h=i[d.getId()];return{[l]:f===h?f:`${f} ${h}`}}}}},nR=(e,t="")=>{const n=`${e}-name`,r=`${e}-value`;return(s,{name:o})=>({[o]:`${s[n]}(${s[r]||t})`})},rR=[{name:"Size",open:!1,buildProps:["width","height","max-width","min-height"],properties:[{property:"icon-size",type:"number",defaults:"20px",units:["px","%"]}]},{name:"Space",open:!1,buildProps:["margin","padding","vertical-align"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"},{name:"Left",property:"margin-left"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]},{property:"vertical-align",type:"select",options:["top","middle","bottom"].map(Ja)}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","align","text-decoration","font-style"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"text-decoration",type:"select",defaults:"none",options:[{id:"none",label:"None"},{id:"underline",label:"underline"},{id:"line-through",label:"Line-through"}]},{property:"font-style",type:"select",defaults:"normal",options:[{id:"normal",label:"Normal"},{id:"italic",label:"Italic"}]}]},{name:"Borders",open:!1,buildProps:["border-radius","border"],properties:[{property:"border-radius",corners:!0,properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border",generic:!0},{property:"border-detached",name:"Border",type:"composite",detached:!0,generic:!0,properties:[{name:"Width",property:"border-width",type:"integer",units:["px","%"]},{name:"Style",property:"border-style",type:"select",options:["none","solid","dotted","dashed","double","groove","ridge","inset","outset"].map(Ja)},{name:"Color",property:"border-color",type:"color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","container-background-color","background-url","background-repeat","background-size"],properties:[{name:"Background color",property:"container-background-color",full:!0,type:"color"},{property:"background-url",type:"file"}]}],sR=[{id:"gs-layout",name:"Layout",properties:[{extend:"display"},{extend:"flex-direction",name:"Direction",type:"radio",default:"row"},{extend:"justify-content",type:"radio",default:"flex-start"},{extend:"align-items",type:"radio",default:"stretch"},ia("gap",{x:{property:"row-gap",min:0,default:"0"},y:{property:"column-gap",min:0,default:"0"},mergable:!0}),{extend:"flex-wrap"},{extend:"align-content"},{extend:"align-self"},{extend:"order"},{property:"flex",type:"composite",properties:[{type:"integer",property:"flex-grow",default:"0",min:0},{type:"integer",property:"flex-shrink",default:"0",min:0},{type:"integer",property:"flex-basis",fixedValues:["auto"],default:"auto",units:$n,min:0}]}]},{id:"gs-size",name:"Size",properties:[{extend:"width"},{extend:"min-width"},{extend:"max-width"},{extend:"height"},{extend:"min-height"},{extend:"max-height"}]},{id:"gs-space",name:"Space",properties:[{extend:"padding",detached:!0},{extend:"margin",detached:!0}]},{id:"gs-position",name:"Position",properties:[{extend:"position",options:[{id:"static",label:"Static"},{id:"relative",label:"Relative"},{id:"absolute",label:"Absolute"},{id:"fixed",label:"Fixed"},{id:"sticky",label:"Sticky"}],onChange({opts:e,property:t}){if(e.__clear){const n={top:"",right:"",bottom:"",left:"","z-index":""};t.__upTargetsStyle(n,e)}}},{extend:"top"},{extend:"right"},{extend:"bottom"},{extend:"left"},{extend:"z-index",type:"integer",default:"0"}]},{id:"gs-typography",name:"Typography",properties:[{extend:"font-family"},{extend:"color"},{extend:"font-size"},{extend:"font-weight"},{extend:"line-height",min:0},{extend:"letter-spacing"},{extend:"text-align"},{property:"vertical-align",type:"select",default:"baseline",options:["baseline","top","middle","bottom"].map(Ja)},{extend:"text-decoration",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"underline",label:"Underline"},{id:"overline",label:"Overline"},{id:"line-through",label:"Line through"}]},{extend:"text-transform",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"capitalize",label:"Capitalize"},{id:"uppercase",label:"Uppercase"},{id:"lowercase",label:"Lowercase"}]},{extend:"direction",type:"radio",default:"ltr",options:[{id:"ltr",label:"LTR"},{id:"rtl",label:"RTL"}]},{extend:"white-space",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"nowrap",label:"No wrap"},{id:"pre",label:"Pre"},{id:"pre-wrap",label:"Pre wrap"},{id:"pre-line",label:"Pre line"},{id:"break-spaces",label:"Break spaces"}]}]},{id:"gs-background",name:"Background",properties:[{property:"background",type:"stack",layerSeparator:new RegExp("(?<!\\(.*[^)]),(?![^(]*\\))"),layerJoin:", ",detached:!0,layerLabel:(e,{values:t,property:n})=>n.getProperty(Fn).getOptionLabel(t[Fn]),toStyle(e){const t=e[Fn];let n=e[Go];return t==="color"&&n.indexOf("linear-gradient")<0&&(n=`linear-gradient(${n} 1%, ${n} 100%)`),{...e,[Go]:n}},fromStyle(e,{property:t,name:n,separatorLayers:r}){const s=r,o=t.getProperties();let i=[];return e[Pa]?(i=t.__splitStyleName(e,Pa,s).map(Kh),o.forEach(l=>{const c=l.getId(),u=l.getName();u!==Pa&&t.__splitStyleName(e,u,s).map(d=>({[c]:d||l.getDefaultValue()})).forEach((d,f)=>{i[f]=i[f]?{...i[f],...d}:d})})):e[n]&&(i=t.__splitStyleName(e,n,/(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map(l=>l.substring(0,l.lastIndexOf(")")+1)).map(Kh)),i},properties:[{property:Fn,type:"radio",default:"image",options:[{id:Rr.Image},{id:Rr.Gradient},{id:Rr.Color}]},{property:Go,default:"none"},{property:"background-position",type:"composite",properties:["background-position-x","background-position-y"].map(e=>({type:"integer",property:e,units:$n,default:"0px"}))},{property:"background-size",type:"composite",properties:["background-size-x","background-size-y"].map(e=>({type:"integer",property:e,units:$n,default:"auto"}))},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"repeat-x",label:"Repeat x"},{id:"repeat-y",label:"Repeat y"},{id:"no-repeat",label:"No repeat"},{id:"space",label:"Space"},{id:"round",label:"Round"}]},{property:"background-attachment",default:"scroll",type:"select",options:[{id:"scroll",label:"Scroll"},{id:"fixed",label:"Fixed"}]},{property:"background-origin",default:"padding-box",type:"select",options:[{id:"padding-box",label:"Padding box"},{id:"border-box",label:"Border box"},{id:"content-box",label:"Content box"}]}]},{property:"background-color",type:"color",default:"none"},{property:"background-clip",default:"border-box",type:"select",options:[{id:"border-box",label:"Border box"},{id:"padding-box",label:"Padding box"},{id:"content-box",label:"Content box"},{id:"text",label:"Text"}],onChange({to:e,property:t,opts:n}){const{value:r}=e;if(r!==void 0){const s=r==="text";t.__upTargetsStyle({"-webkit-background-clip":s?r:"","-webkit-text-fill-color":s?"transparent":""},n)}}}]},{id:"gs-borders",name:"Borders",properties:[{extend:"border-radius",detached:!0},{extend:"border-width",type:"composite",detached:!0,properties:["border-top-width","border-right-width","border-bottom-width","border-left-width"].map(e=>({type:"integer",property:e,default:"0",units:$n}))},{extend:"border-style",type:"composite",detached:!0,properties:["border-top-style","border-right-style","border-bottom-style","border-left-style"].map(e=>({type:"select",property:e,default:"none",options:[{id:"none",label:"None"},{id:"solid",label:"Solid"},{id:"dotted",label:"Dotted"},{id:"dashed",label:"Dashed"},{id:"double",label:"Double"},{id:"groove",label:"Groove"},{id:"ridge",label:"Ridge"},{id:"inset",label:"Inset"},{id:"outset",label:"Outset"}]}))},{extend:"border-color",type:"composite",detached:!0,properties:["border-top-color","border-right-color","border-bottom-color","border-left-color"].map(e=>({type:"color",property:e,default:"currentColor"}))}]},{id:"gs-effects",name:"Effects",properties:[{property:"opacity",type:"integer",min:0,max:100,default:"100",units:["%"]},{property:"mix-blend-mode",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"multiply",label:"Multiply"},{id:"screen",label:"Screen"},{id:"overlay",label:"Overlay"},{id:"darken",label:"Darken"},{id:"lighten",label:"Lighten"},{id:"color-dodge",label:"Color dodge"},{id:"color-burn",label:"Color burn"},{id:"hard-light",label:"Hard light"},{id:"soft-light",label:"Soft light"},{id:"difference",label:"Difference"},{id:"exclusion",label:"Exclusion"},{id:"hue",label:"Hue"},{id:"saturation",label:"Saturation"},{id:"color",label:"Color"},{id:"luminosity",label:"Luminosity"}]},{extend:"cursor"},ia("overflow",{x:Gh,y:Gh,mergable:!0}),{extend:"box-shadow",fromStyle(e,{separatorLayers:t}){const n=e["box-shadow"]||"";return n?n.split(t).map(s=>{const{x:o,y:i,blur:l,spread:c,inset:u,color:d}=vh(s);return{"box-shadow-h":o,"box-shadow-v":i,"box-shadow-blur":l,"box-shadow-spread":c,"box-shadow-color":d,"box-shadow-type":u?"inset":""}}):[]}},{extend:"text-shadow",fromStyle(e,{separatorLayers:t}){const n=e["text-shadow"]||"";return n?n.split(t).map(s=>{const{x:o,y:i,blur:l,color:c}=vh(s);return{"text-shadow-h":o,"text-shadow-v":i,"text-shadow-blur":l,"text-shadow-color":c}}):[]}},qh(),qh("backdrop-filter"),{property:"transition",type:"stack",layerLabel:(e,{values:t})=>`${lr(t["transition-property"])}: ${t["transition-duration"]}`,properties:[{property:"transition-property",type:"select",default:"opacity",options:["width","height","min-width","min-height","max-width","max-height","padding","margin","color","font-size","line-height","letter-height","border","border-radius","background","opacity","box-shadow","text-shadow","filter","backdrop-filter","transform","all"].map(Ja)},{property:"transition-duration",type:"integer",default:"1s",unit:oa[0],units:oa,min:0},{property:"transition-timing-function",type:"select",default:"ease",options:[{id:"ease",label:"Ease"},{id:"ease-in",label:"Ease-In"},{id:"ease-in-out",label:"Ease-In-Out"},{id:"ease-out",label:"Ease-Out"},{id:"linear",label:"Linear"}]},{property:"transition-delay",type:"integer",default:"0s",unit:oa[0],units:oa}]},{property:"transform",type:"stack",layerSeparator:" ",layerLabel:(e,{values:t,property:n})=>{const r=n.getProperty("transform-name").getOptionLabel(t["transform-name"]);return`${lr(r)}: ${t["transform-value"]}`},fromStyle:tR("transform"),toStyle:nR("transform","0"),properties:[{property:"transform-name",type:"select",default:"translateX",options:[{id:"translateX",label:"Move X",units:$n},{id:"translateY",label:"Move Y",units:$n},{id:"translateZ",label:"Move Z",units:$n},{id:"rotateX",label:"Rotate X",units:Ao},{id:"rotateY",label:"Rotate Y",units:Ao},{id:"rotateZ",label:"Rotate Z",units:Ao},{id:"scale",label:"Scale",units:sa},{id:"scaleX",label:"Scale X",units:sa},{id:"scaleY",label:"Scale Y",units:sa},{id:"scaleZ",label:"Scale Z",units:sa},{id:"skewX",label:"Skew X",units:Ao},{id:"skewY",label:"Skew Y",units:Ao}],onChange:cb("transform-value")},{property:"transform-value",type:"integer",default:"0"}]},ia("transform-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"backface-visibility",type:"radio",default:"visible",options:[{id:"visible",label:"Visible"},{id:"hidden",label:"Hidden"}]},{property:"perspective",type:"integer",min:0,default:"none",units:$n},ia("perspective-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"transform-style",type:"radio",default:"flat",options:[{id:"flat",label:"2D"},{id:"preserve-3d",label:"3D"}]}]}],Yh=[{id:"desktop",name:"Desktop",width:""},{id:"mobilePortrait",name:"Mobile",width:"320px",widthMedia:"480px"}];function ub(e,t){return[...gh[e],...gh.global,n=>JT(n,t),IT(e,t)]}function oR(e,t={}){var i;const n=e===Ne.email,{devices:r}=t,s=r?{default:r.selected,devices:r.default??(n?Yh:void 0)}:n?{devices:Yh}:{},o={undoManager:{trackSelection:!1},showOffsets:!0,cssIcons:"",assetManager:{},blockManager:{},styleManager:{sectors:n?rR:sR},selectorManager:{componentFirst:!0},storageManager:{onStore:l=>{const c=go().appEditorStore.projectDataCustom;return l.custom=c?JSON.parse(JSON.stringify(c)):{},l},onLoad:(l,c)=>{var u;return(u=c.events)==null||u.projectLoad,tv(c,l.custom),l}},i18n:{messagesAdd:Cu({en:s_},((i=t.i18n)==null?void 0:i.locales)??{})},deviceManager:s,canvasCss:`
      [contenteditable] { outline: 0px solid transparent;}
    `,canvas:{customSpots:{select:!0,hover:!0,spacing:!0,target:!0}},telemetry:!1};return Cu(o,t.gjsOptions??{})}class iR{constructor(t){this.loadCounter=0,this.pendingInstalled=[],this.pendingUninstalled=[],this.selectedShown=!1,this.store=t,Bt(this,{},{autoBind:!0})}get hasPending(){return!!this.pendingInstalled.length||!!this.pendingUninstalled.length}*initProjectPlugins(t){this.pendingInstalled=[],this.pendingUninstalled=[];const r=(yield pi()).filter(s=>s.projectType.includes(t));this.projectPlugins=[...r]}getPluginsToLoad(t,n){const r=[...ub(t,{appStore:n}),...this.projectPlugins||[]],s=n.sdkOptions.plugins||[];return rt(s)?s({plugins:r}):[...r,...s]}addPendingInstalled(t){const{pendingInstalled:n,pendingUninstalled:r}=this,s=t.id;r.includes(s)?this.pendingUninstalled=r.filter(o=>o!==s):n.includes(s)||n.push(s)}addPendingUninstalled(t){const{pendingInstalled:n,pendingUninstalled:r}=this,s=t.id;n.includes(s)?this.pendingInstalled=n.filter(o=>o!==s):r.push(s)}setSelectedShown(t){this.selectedShown=t}}const Op={db:ov.gjsStudio},pi=()=>new Promise(async e=>{let t=[];try{t=await FO(co.Settings,"plugins",Op)||[]}catch(n){Zn()&&console.error(n)}e(t)}),aR=e=>new Promise(async t=>{try{const r=[...await pi(),e];db().addPendingInstalled(e),await iv(co.Settings,"plugins",r,Op)}catch(n){console.error(n)}t()}),lR=e=>new Promise(async t=>{try{const r=(await pi()).filter(s=>s.id!==e.id);db().addPendingUninstalled(e),await iv(co.Settings,"plugins",r,Op)}catch(n){console.error(n)}t()}),_p=()=>Pt().pluginStore,db=()=>go().pluginStore;let Qa;const pb=p.createContext(void 0);class cR{constructor(t){this.blockManagerStore=new YO(this),this.appEditorStore=new fR(this,t==null?void 0:t.appEditorStore),this.localSettingsStore=new t_(t==null?void 0:t.localSettingsStore),this.toastStore=new qO(this),this.modalStore=new r_(this),this.i18nStore=new LO(this),this.pluginStore=new iR(this),this.pointerBadgeStore=new IO(this),this.contextMenu=new mO(this),this.layoutStore=new NO(this),this.templatesStore=new KO(this),this.assetsStore=new kO(this),this.globalStylesStore=new JO(this),this.appEditorStore.init(),vd()&&(window.__gjss=this)}}const uR=e=>{n_(e.localSettingsStore),gR(e.appEditorStore)},dR=({children:e,initialState:t})=>(Qa=p.useMemo(()=>{const n=new cR(t);return uR(n),n},[]),a.jsx(pb.Provider,{value:Qa,children:e})),Pt=()=>{const e=p.useContext(pb);if(!e)throw new Error("useStore must be used inside of StoreProvider");return e},go=()=>{if(!Qa)throw new Error("Store has not been initialized");return Qa},aa=({icon:e,layout:t,tooltip:n,className:r,forceRemove:s,removeLayouts:o})=>({type:"button",icon:e,tooltip:n,className:r,size:"s",editorEvents:{[`${vr.layoutToggleId}${t.id}`]:({fromEvent:i,setState:l})=>{l({active:i.isOpen})}},onClick:({editor:i})=>{o==null||o.forEach(l=>i.runCommand(fe.layoutRemove,{id:l,force:s})),i.runCommand(fe.layoutToggle,{...t})}}),Xh={type:"static",layoutId:"leftPanelsContainer"},Zh={width:240,overflow:"hidden"};aa({tooltip:"Blocks",removeLayouts:["pagesLayers","ps"],layout:{id:"blocks",layout:"panelBlocks",header:{label:"Blocks"},style:Zh,placer:Xh}}),aa({tooltip:"Pages & Layers",removeLayouts:["blocks","ps"],layout:{id:"pagesLayers",layout:"panelPagesLayers",header:!1,style:Zh,placer:Xh}}),aa({tooltip:"Page Settings",removeLayouts:["pagesLayers","blocks"],layout:{id:"ps",layout:"panelPageSettings",header:{label:"Page Settings"},style:{marginLeft:40}}}),aa({icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,10.11C13.03,10.11 13.87,10.95 13.87,12C13.87,13 13.03,13.85 12,13.85C10.97,13.85 10.13,13 10.13,12C10.13,10.95 10.97,10.11 12,10.11M7.37,20C8,20.38 9.38,19.8 10.97,18.3C10.45,17.71 9.94,17.07 9.46,16.4C8.64,16.32 7.83,16.2 7.06,16.04C6.55,18.18 6.74,19.65 7.37,20M8.08,14.26L7.79,13.75C7.68,14.04 7.57,14.33 7.5,14.61C7.77,14.67 8.07,14.72 8.38,14.77C8.28,14.6 8.18,14.43 8.08,14.26M14.62,13.5L15.43,12L14.62,10.5C14.32,9.97 14,9.5 13.71,9.03C13.17,9 12.6,9 12,9C11.4,9 10.83,9 10.29,9.03C10,9.5 9.68,9.97 9.38,10.5L8.57,12L9.38,13.5C9.68,14.03 10,14.5 10.29,14.97C10.83,15 11.4,15 12,15C12.6,15 13.17,15 13.71,14.97C14,14.5 14.32,14.03 14.62,13.5M12,6.78C11.81,7 11.61,7.23 11.41,7.5C11.61,7.5 11.8,7.5 12,7.5C12.2,7.5 12.39,7.5 12.59,7.5C12.39,7.23 12.19,7 12,6.78M12,17.22C12.19,17 12.39,16.77 12.59,16.5C12.39,16.5 12.2,16.5 12,16.5C11.8,16.5 11.61,16.5 11.41,16.5C11.61,16.77 11.81,17 12,17.22M16.62,4C16,3.62 14.62,4.2 13.03,5.7C13.55,6.29 14.06,6.93 14.54,7.6C15.36,7.68 16.17,7.8 16.94,7.96C17.45,5.82 17.26,4.35 16.62,4M15.92,9.74L16.21,10.25C16.32,9.96 16.43,9.67 16.5,9.39C16.23,9.33 15.93,9.28 15.62,9.23C15.72,9.4 15.82,9.57 15.92,9.74M17.37,2.69C18.84,3.53 19,5.74 18.38,8.32C20.92,9.07 22.75,10.31 22.75,12C22.75,13.69 20.92,14.93 18.38,15.68C19,18.26 18.84,20.47 17.37,21.31C15.91,22.15 13.92,21.19 12,19.36C10.08,21.19 8.09,22.15 6.62,21.31C5.16,20.47 5,18.26 5.62,15.68C3.08,14.93 1.25,13.69 1.25,12C1.25,10.31 3.08,9.07 5.62,8.32C5,5.74 5.16,3.53 6.62,2.69C8.09,1.85 10.08,2.81 12,4.64C13.92,2.81 15.91,1.85 17.37,2.69M17.08,12C17.42,12.75 17.72,13.5 17.97,14.26C20.07,13.63 21.25,12.73 21.25,12C21.25,11.27 20.07,10.37 17.97,9.74C17.72,10.5 17.42,11.25 17.08,12M6.92,12C6.58,11.25 6.28,10.5 6.03,9.74C3.93,10.37 2.75,11.27 2.75,12C2.75,12.73 3.93,13.63 6.03,14.26C6.28,13.5 6.58,12.75 6.92,12M15.92,14.26C15.82,14.43 15.72,14.6 15.62,14.77C15.93,14.72 16.23,14.67 16.5,14.61C16.43,14.33 16.32,14.04 16.21,13.75L15.92,14.26M13.03,18.3C14.62,19.8 16,20.38 16.62,20C17.26,19.65 17.45,18.18 16.94,16.04C16.17,16.2 15.36,16.32 14.54,16.4C14.06,17.07 13.55,17.71 13.03,18.3M8.08,9.74C8.18,9.57 8.28,9.4 8.38,9.23C8.07,9.28 7.77,9.33 7.5,9.39C7.57,9.67 7.68,9.96 7.79,10.25L8.08,9.74M10.97,5.7C9.38,4.2 8,3.62 7.37,4C6.74,4.35 6.55,5.82 7.06,7.96C7.83,7.8 8.64,7.68 9.46,7.6C9.94,6.93 10.45,6.29 10.97,5.7Z" /></svg>',tooltip:"Custom Component",className:"gs-utl-mt-auto",layout:{id:"customLayout",layout:{type:"custom",component:()=>a.jsx("div",{children:"Custom Reat component"})},header:{label:"Custom"},style:{marginLeft:40}}});const pR={type:"row",style:{height:"100%"},children:[{type:"sidebarLeft"},{type:"canvasSidebarTop"},{type:"sidebarRight"}]};class fR{constructor(t,n){this.projectType=Ne.web,this.editor=void 0,this.sdkProps={},this.sdkLicenseError="",this.licenseCheckRetry=0,this.showPoweredBy=!1,this.isInPreview=!1,this.isCssPanelActive=!1,this.isLeftSidebarOpen=!0,this.isRightSidebarOpen=!0,this.isTopSidebarOpen=!0,this.isBottomSidebarOpen=!0,this.isSelectingTarget=!1,this.leftSidebarSize=240,this.rightSidebarSize=240,this.transitionTime=152,this.topBarSize=36,this.isDev=!1,this.isStage=!1,this.editorKey=0,this.appInstalled=!1,this.licenseKey="",this.licenseCheckStarted=!1,this.studioSdkVersion="1.0.32",this.projectDataCustom={},this.displayMode="browser",this.projectPlugins=[],this.queryParams={},this.isCanvasPanning=!1,this.selectedDesignerTab="style",this.customAssets=void 0,this.nextProjectData=void 0,this.isSaving=!1,this.isReady=!1,this.sdkPagesConfigUpdates=0,this.panelPageSettings={isOpen:!1,width:300,page:void 0},this.rootElWidth=0,this._projectId="",this.store=t,n&&Object.keys(n).forEach(s=>{const o=s,i=n[o];i!==void 0&&(this[o]=i)});const r=Zn()?window.location.search:"";this.queryParams=Px(r),Bt(this,{sdkProps:!1},{autoBind:!0})}get baseApiUrl(){const{isDev:t,isStage:n}=this;return yx({isDev:t,isStage:n})}get projectId(){var r,s;const{project:t,storage:n}=this.sdkOptions;return this._projectId||((s=(r=(n==null?void 0:n.project)||(t==null?void 0:t.default))==null?void 0:r.custom)==null?void 0:s.id)||""}get projectIdToLoad(){return this.store.localSettingsStore.lastProjectId||this.projectId}get currentProjectId(){return this.projectDataCustom.id||this.projectId}get isBrowserMode(){return this.displayMode==="browser"}get sdkOptions(){return this.sdkProps.options}get sdkProjectId(){var t,n;return(n=(t=this.sdkOptions.project)==null?void 0:t.id)==null?void 0:n.toString()}get sdkIdentityId(){var t,n;return(n=(t=this.sdkOptions.identity)==null?void 0:t.id)==null?void 0:n.toString()}get sdkPagesConfig(){return this.sdkPagesConfigUpdates,this.sdkOptions.pages}get sdkLayoutConfig(){return this.sdkOptions.layout}get sdkComponentsConfig(){return this.sdkOptions.components}get sdkCurrentLayout(){const{sdkLayoutConfig:t,rootElWidth:n}=this,r=t==null?void 0:t.responsive;let s=(t==null?void 0:t.default)||pR;if(n&&r){const i=Object.keys(r).map(Number).sort((l,c)=>l-c).find(l=>n<=l);s=i?r[i]:s}return s}get sdkCustomIcons(){var t;return(t=this.sdkOptions.customTheme)==null?void 0:t.icons}get isProjectTypeEmail(){return this.projectType===Ne.email}get showPages(){return this.isReady&&this.sdkPagesConfig!==!1&&!this.isProjectTypeEmail}get showSelectors(){return!this.isProjectTypeEmail}get sdkMisconfigurationError(){if(this.store.assetsStore.isUsingAssetCloud||this.isUsingProjectCloud){const n=this.sdkProjectId,r=this.sdkIdentityId;if(!n||!r)return'SDK Misconfiguration Error: When using assets.storageType == "cloud" or storage.type === "cloud", project.id and identity.id are required.'}return""}get isUsingProjectSelfHosted(){var t;return((t=this.sdkOptions.storage)==null?void 0:t.type)===Ba.self}get isUsingProjectCloud(){var t;return((t=this.sdkOptions.storage)==null?void 0:t.type)===Ba.cloud}get publicStateTheme(){return{theme:this.store.localSettingsStore.theme}}setPublicStateTheme(t){t.theme!==void 0&&(this.store.localSettingsStore.theme=t.theme)}*init(){var f,h;const{store:t,sdkOptions:n}=this,{lastProjectId:r,lastProjectType:s}=t.localSettingsStore,o=(f=n.project)==null?void 0:f.default,{project:i}=n.storage||{};let l,c;s&&(this.store.templatesStore._projectTypeFilter=s),r&&(l=(h=(yield av(s)).find(v=>v.id===r))==null?void 0:h.data),l?c=l:i?c=i:o&&(c=o);const u=(c==null?void 0:c.custom)||{},d=u.projectType;d&&(this.projectType=d),u.projectType=this.projectType,this.setProjectDataCustom({...u,id:this.projectIdToLoad}),yield t.pluginStore.initProjectPlugins(this.projectType),this.editorKey++}setInstallEvent(t){this.installEvent=t}setAppInstalled(t){this.appInstalled=t}setDisplayMode(t){this.displayMode=t}setProject(t){const n=this.editor,{id:r,data:s,isTemplate:o}=t,i=n.Storage.getConfig().options.local,l=o?`${r}__${Ox()}`:r;this._projectId=l,i.key=l,Ex(s)||this.loadProjectData({...s,custom:{...s.custom,id:l,projectType:this.store.templatesStore.projectTypeFilter}})}setProjectDataCustom(t){const n={...this.projectDataCustom,...t};this.projectDataCustom=n,this.projectType=n.projectType||Ne.web,this.editor&&tv(this.editor,n),n.id&&this.store.localSettingsStore.setLocalState({lastProjectId:n.id,lastProjectType:this.projectType})}loadProjectData(t){const n=t.custom||{};if(hR(t)!==this.projectType)this.setNextProjectData(t),this.setProjectDataCustom(n),this.updateStudio();else{const r=this.editor;r.loadProjectData(t),r.UndoManager.clear(),this.setProjectDataCustom(n)}}setNextProjectData(t){this.nextProjectData=t}setLeftSidebarSize(t){this.leftSidebarSize=t}setRightSidebarSize(t){this.rightSidebarSize=t}setEditor(t){this.editor=t}setPreview(t){this.isInPreview=t}toggleCssPanel(){this.isCssPanelActive=!this.isCssPanelActive}toggleLeftSidebar(){this.isLeftSidebarOpen=!this.isLeftSidebarOpen,this.refreshEditorPostTransition()}setLeftSidebarOpen(t){this.isLeftSidebarOpen=t,this.refreshEditorPostTransition()}toggleRightSidebar(){this.isRightSidebarOpen=!this.isRightSidebarOpen,this.refreshEditorPostTransition()}setRightSidebarOpen(t){this.isRightSidebarOpen=t,this.refreshEditorPostTransition()}setTopSidebarOpen(t){this.isTopSidebarOpen=t,this.refreshEditorPostTransition()}setBottomSidebarOpen(t){this.isBottomSidebarOpen=t,this.refreshEditorPostTransition()}refreshEditorPostTransition(){setTimeout(()=>{var t;return(t=this.editor)==null?void 0:t.refresh()},this.transitionTime)}setCanvasPanning(t){this.isCanvasPanning=t}setSelectingTarget(t){this.isSelectingTarget=t}setSelectedDesignerTab(t){this.selectedDesignerTab=t}setCustomAssets(t){this.customAssets=t}setIsSaving(t){this.isSaving=t}setIsReady(t){this.isReady=t}setPanelPageSettings(t){this.panelPageSettings={...this.panelPageSettings,...t}}setSdkPagesConfig(t){this.sdkProps.options.pages=t&&{...this.sdkPagesConfig,...t},++this.sdkPagesConfigUpdates}setRootElWidth(t){this.rootElWidth=t,this.refreshEditorCanvas()}*loadLicense(){const{editor:t}=this;try{this.licenseCheckStarted=!0;const{licenseKey:n,baseApiUrl:r,studioSdkVersion:s}=this;t==null||t.trigger(cx,{baseApiUrl:r});const o=yield Xn.post(`${r}/sdk/${n||"na"}`,{params:{d:window.location.hostname,v:s}});if(o instanceof Error)throw o;const i=o.result||{},{license:l,error:c,plan:u}=i;c?this.sdkLicenseError=c:(this.sdkLicense=l,u!=null&&u.poweredBy&&(this.showPoweredBy=!0)),t==null||t.trigger(df,i)}catch(n){this.licenseCheckRetry<3?(this.licenseCheckRetry++,setTimeout(()=>this.loadLicense(),3e3)):(console.error(n),this.showPoweredBy=!0,t==null||t.trigger(df,{}))}}*updateStudio(){const{pluginStore:t}=this.store,{projectType:n}=this.projectDataCustom;yield t.initProjectPlugins(n),this.editorKey++}refreshStudio(){var t;this.editorKey&&(this.setNextProjectData((t=this.editor)==null?void 0:t.getProjectData()),this.editorKey++)}refreshEditorCanvas(){var t;(t=this.editor)==null||t.refresh({tools:!0})}}const hR=e=>{var t;return((t=e.custom)==null?void 0:t.projectType)||Ne.web},gR=e=>{xm(()=>e.sdkCurrentLayout,()=>e.refreshStudio())},pe=()=>Pt().appEditorStore,mR=()=>{try{return pe()}catch{}},Is=()=>go().appEditorStore,Wl=()=>{const[e,t]=p.useState(0),n=Pt().appEditorStore,{transitionTime:r}=n;return p.useEffect(()=>{setTimeout(()=>t(s=>++s),r)},[r]),[e]},fb=String.raw,Me=(e,t)=>{if(t==null)return"";const n=e[0],r=e[1];return`${n}${t}${r}`},vR=(e,t="")=>{var n,r,s,o,i,l,c,u,d,f,h,g,v,m,b,y,x,w,S,j,C,O,E,T,_,M,k,B,z,P,A,$,N,I,V,U,X,ne,K,Q,ce,te,G,Z,le,se,me,ye,Ze,et,gt,st,Ue,Jt,$e,Je,bn,mt,it,pt,yn,Ot,xn,Wr,js,Cs;return fb`
  ${t}.${_e.txt} {
    ${Me`color: ${(r=(n=e.colors)==null?void 0:n.global)==null?void 0:r.text};`}
  }

  ${t}.${_e.bg} {
    ${Me`background-color: ${(o=(s=e.colors)==null?void 0:s.global)==null?void 0:o.background3};`}
  }

  ${t}.${_e.br} {
    ${Me`border-color: ${(l=(i=e.colors)==null?void 0:i.global)==null?void 0:l.border};`}
  }

  ${t}.${_e.bgA} {
    ${Me`background-color: ${(u=(c=e.colors)==null?void 0:c.primary)==null?void 0:u.background1};`}
    ${Me`color: ${(f=(d=e.colors)==null?void 0:d.primary)==null?void 0:f.text};`}
  }

  ${t}.${_e.bgA2} {
    ${Me`background-color: ${(g=(h=e.colors)==null?void 0:h.primary)==null?void 0:g.background1};`}
    ${Me`color: ${(m=(v=e.colors)==null?void 0:v.primary)==null?void 0:m.text};`}
  }

  ${t}.${_e.hBgAct}:hover.${_e.hBgAct}:hover,
  ${t}.${_e.hBgA2}:hover.${_e.hBgA2}:hover {
    ${Me`background-color: ${(y=(b=e.colors)==null?void 0:b.primary)==null?void 0:y.backgroundHover};`}
  }

  ${t}.${_e.tA} {
    ${Me`color: ${(w=(x=e.colors)==null?void 0:x.primary)==null?void 0:w.background1};`}
  }

  ${t}.${_e.tAo} {
    ${Me`color: ${(j=(S=e.colors)==null?void 0:S.primary)==null?void 0:j.background1};`}
  }

  ${t}.${_e.hTAo}:hover.${_e.hTAo}:hover,
  ${t}.group:hover .${_e.grouphTAo} {
    ${Me`color: ${(O=(C=e.colors)==null?void 0:C.primary)==null?void 0:O.backgroundHover};`}
  }

  ${t}.${_e.bA} {
    ${Me`border-color: ${(T=(E=e.colors)==null?void 0:E.primary)==null?void 0:T.background1};`}
  }

  ${t}.${_e.bg0} {
    ${Me`background-color: ${(M=(_=e.colors)==null?void 0:_.primary)==null?void 0:M.background3};`}
    ${Me`color: ${(B=(k=e.colors)==null?void 0:k.primary)==null?void 0:B.background1};`}
  }

  ${t}.${_e.bgH} {
    ${Me`background-color: ${(P=(z=e.colors)==null?void 0:z.global)==null?void 0:P.background1};`}
  }

  ${t}.${_e.bgH2} {
    ${Me`background-color: ${($=(A=e.colors)==null?void 0:A.global)==null?void 0:$.background2};`}
  }

  ${t}.${_e.hBgH}:hover,
  ${t}.${_e.hBgH2}:hover {
    ${Me`background-color: ${(I=(N=e.colors)==null?void 0:N.global)==null?void 0:I.backgroundHover};`}
  }

  ${t}.${_e.sel} {
    ${Me`background-color: ${(U=(V=e.colors)==null?void 0:V.selector)==null?void 0:U.background2};`}
    ${Me`color: ${(ne=(X=e.colors)==null?void 0:X.selector)==null?void 0:ne.background1};`}
  }

  ${t}.${_e.selBr} {
    ${Me`border-color: ${(Q=(K=e.colors)==null?void 0:K.selector)==null?void 0:Q.background1};`}
  }

  ${t}.${_e.cmp} {
    ${Me`background-color: ${(te=(ce=e.colors)==null?void 0:ce.component)==null?void 0:te.background1};`}
    ${Me`color: ${(Z=(G=e.colors)==null?void 0:G.component)==null?void 0:Z.text};`}
  }

  ${t}.${_e.cmpBgSoft} {
    ${Me`background-color: ${(se=(le=e.colors)==null?void 0:le.component)==null?void 0:se.background2};`}
  }

  ${t}.${_e.cmpBgSoftX} {
    ${Me`background-color: ${(ye=(me=e.colors)==null?void 0:me.component)==null?void 0:ye.background3};`}
  }

  ${t}.${_e.cmpBr} {
    ${Me`border-color: ${(et=(Ze=e.colors)==null?void 0:Ze.component)==null?void 0:et.background1};`}
  }

  ${t}.${_e.cmpSymbol} {
    ${Me`background-color: ${(st=(gt=e.colors)==null?void 0:gt.symbol)==null?void 0:st.background1};`}
    ${Me`color: ${(Jt=(Ue=e.colors)==null?void 0:Ue.symbol)==null?void 0:Jt.text};`}
  }

  ${t}.${_e.cmpBgSymbolSoft} {
    ${Me`background-color: ${(Je=($e=e.colors)==null?void 0:$e.symbol)==null?void 0:Je.background2};`}
  }

  ${t}.${_e.cmpBgSymbolSoftX} {
    ${Me`background-color: ${(mt=(bn=e.colors)==null?void 0:bn.symbol)==null?void 0:mt.background3};`}
  }

  ${t}.${_e.cmpSymbolBr} {
    ${Me`border-color: ${(pt=(it=e.colors)==null?void 0:it.symbol)==null?void 0:pt.background1};`}
  }

  ${t}.${_e.cmpTxtActive} {
    ${Me`color: ${(Ot=(yn=e.colors)==null?void 0:yn.component)==null?void 0:Ot.text};`}
  }

  ${t}.${_e.focus}:focus-visible {
    ${Me`box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) ${(Wr=(xn=e.colors)==null?void 0:xn.global)==null?void 0:Wr.focus};`}
  }

  ${t}.${_e.inputText}::placeholder {
    ${Me`color: ${(Cs=(js=e.colors)==null?void 0:js.global)==null?void 0:Cs.placeholder};`}
  }
`},bR=()=>{const e=pe(),{sdkOptions:t}=e,{customTheme:n}=t;if(!n)return null;const r=fb`
    ${n.default?vR(n.default,t.theme===gr.light?`:not(.gs-utl-${gr.dark}) `:`.gs-utl-${gr.dark} `):""}
  `;return a.jsx("style",{children:r})},yR=re(function(){const t=op(),{isOpen:n,items:r,coordinates:s}=t,{x:o,y:i}=s;return p.useEffect(()=>{const l=window.document,c=u=>u.key==="Escape"&&t.hide();return l.addEventListener("keydown",c),()=>{l.removeEventListener("keydown",c)}},[]),a.jsxs(a.Fragment,{children:[a.jsx(Y1,{open:n,items:r,x:o,y:i}),n&&a.jsx("div",{onClick:t.hide,className:F("z-10 fixed inset-0")})]})});function ct({children:e,label:t,s:n="m",pill:r,border:s,nopad:o,className:i,block:l,...c}){return a.jsx("div",{className:R([!l&&"inline-block",i,!o&&Pe.xyS2,r?ee.pill:ee.rnd,s&&`${ee.b} ${H.br}`,n==="s"&&"text-sm",n==="xs"&&"gjs-p-1"]),...c,children:t||e})}const Jh=15,xR=re(function(){const{isActive:t,content:n}=sv(),[r,s]=p.useState({x:0,y:0});p.useEffect(()=>{const i=l=>{s({x:l.clientX,y:Math.max(0,l.clientY)})};return t&&window.addEventListener("pointermove",i),()=>{window.removeEventListener("pointermove",i)}},[t]);const o=p.useMemo(()=>({transform:`translate(${r.x+Jh}px, ${r.y+Jh}px)`}),[r]);return a.jsx(Gn,{show:t,...yi,children:a.jsx("div",{className:F("fixed top-0 left-0 pointer-badge pointer-events-none z-10"),style:o,children:a.jsx(ct,{className:F("gjs-px-4 gjs-py-2",H.bgBlur,H.txtHighEmphasis),pill:!0,border:!0,nopad:!0,children:n})})})}),wR=re(function(){const t=cv();return a.jsx(jO,{className:R("fixed top-5 right-5 z-20"),toasts:t.toasts,onDismiss:t.remove})}),Jc=typeof window<"u"?window.location.hostname:"";Jc||Jc==="[::1]"||Jc.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);function SR(e){if("serviceWorker"in navigator){if(new URL({NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.32"}.PUBLIC_URL||"",window.location.href).origin!==window.location.origin)return;window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),Is().setInstallEvent(s)}),window.addEventListener("appinstalled",()=>{Is().setAppInstalled(!0)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{});const n=s=>{let o="browser";const i=navigator.standalone||document.referrer.startsWith("android-app://");(s||i)&&(o="standalone"),Is().setDisplayMode(o)},r=window.matchMedia("(display-mode: standalone)");r.addEventListener("change",s=>n(s.matches)),n(r.matches)}}const jR=p.forwardRef(function({children:t},n){const[r,s]=p.useState(""),o=Zt(),i=p.useRef(null),l=pe(),{style:c,className:u,options:d=ld,onUpdate:f,onEditor:h,onReady:g,...v}=l.sdkProps,{autoHeight:m=!0,serviceWorker:b}=d;p.useImperativeHandle(n,()=>i.current,[]);const y=p.useMemo(()=>({...c,height:r||(c==null?void 0:c.height)||""}),[c,r]);return p.useEffect(()=>{const x=i.current,w=()=>{var C;return(C=x==null?void 0:x.parentElement)==null?void 0:C.offsetHeight},S=w(),j=()=>{const C=x.style.position;x.style.position="absolute";const O=w();O&&s(`${O}px`),x.style.position=C};if(S&&m)return s(`${S}px`),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[m,i.current]),p.useEffect(()=>{const x=i.current;if(!x)return;o.rootEl||o.setRootEl(x),o.init();const w=new ResizeObserver(()=>{l.setRootElWidth(x.offsetWidth)});return l.setRootElWidth(x.offsetWidth),w.observe(x),()=>{w.disconnect()}},[i.current]),p.useEffect(()=>{b&&SR()},[]),a.jsxs("div",{ref:i,className:W(F(Dm,"gs-studio-editor overflow-hidden h-full w-full text-base"),u),style:y,...v,children:[a.jsx(bR,{}),t,a.jsxs("div",{className:F("gs-studio-els",H.txt),children:[a.jsx(wR,{}),a.jsx(xR,{}),a.jsx(yR,{})]})]})}),la="gs-cmp-tabs";function xs({tabs:e,className:t,classNamePanel:n,classNameTab:r,variant:s,style:o,onChange:i=Sx,value:l}){const c=s==="pills",u=c?W("gs-utl-rounded-full gs-utl-text-sm gs-utl-px-[2px] gs-utl-py-[2px]",H.bgH):"",d=m=>c?W("gs-utl-rounded-full gs-utl-px-3 gs-utl-py-1",m?H.bg:""):W("gs-utl-border-b-2",Pe.xy),f=m=>{m&&(m.tabIndex=-1)},h=m=>{const b=m.currentTarget;setTimeout(()=>b.blur(),10)},g=fr(l)?e.findIndex(m=>m.id===l):void 0,v=!e.some(m=>!!m.content);return a.jsxs(Po.Group,{onChange:m=>i(e[m].id),defaultIndex:e.findIndex(m=>m.id===l),selectedIndex:g,children:[a.jsx(Po.List,{as:D,className:W(la,t,u),style:o,full:!0,nowrap:!0,children:e.map(m=>a.jsx(Po,{disabled:m.disabled,className:({selected:b})=>W(`${la}__tab`,"gs-utl-flex-1 focus:gs-utl-outline-none",m.disabled&&"gs-utl-cursor-not-allowed gs-utl-opacity-50",ni.focus,d(b),b?`${H.tAo} ${H.bA}`:H.br,r),children:m.label},m.id))}),a.jsx(Po.Panels,{className:W(`${la}__panels`,"gs-utl-overflow-hidden gs-utl-flex-1",v&&"gs-utl-hidden",n),children:e.map(m=>a.jsx(Po.Panel,{tabIndex:-1,className:W(`${la}__panel`,"gs-utl-h-full"),ref:f,onFocus:h,children:m.content},m.id))})]})}const CR=F("text-sm text-center w-full",qe.txtEllips),ER=({block:e,className:t})=>{const n=Mt(),{Blocks:r}=n,o=Oe().tScoped("blockManager.labels"),i=()=>{r.startDrag(e)},l=()=>{r.endDrag(!1)},c=!!e.get("full"),u=e.get("mediaReact"),d=e.getMedia(),f=e.get("attributes")||{},h=o(e.getId())||e.getLabel(),g=F("gs-block-item cursor-pointer gjs-py-2 gjs-px-2 transition-colors",ee.b,ee.rnd,H.br,H.hTAo,H.hBgH,c&&"col-span-full",t),v=fr(f.class)?f.class:F("h-10 w-10 block-media");return a.jsxs(D,{className:g,onDragStart:i,onDragEnd:l,items:"center",draggable:!0,col:!0,children:[u||a.jsx("div",{className:v,dangerouslySetInnerHTML:{__html:d}}),a.jsx("div",{className:CR,title:h,children:h})]})},PR=re(ER);function Tp({className:e,value:t,onChange:n}){const[r,s]=p.useState(t),o=p.useRef(null),i=u=>{const{value:d}=u.target;s(d)},l=()=>{n(r||t)},c=u=>{switch(u.key){case"Escape":n(t);break;case"Enter":n(r||t);break}};return p.useEffect(()=>{o.current&&o.current.select()},[]),a.jsx("input",{autoFocus:!0,className:R([e,"w-full",H.bgTr]),value:r,onChange:i,onBlur:l,onKeyDown:c,ref:o})}function hb({className:e,value:t,active:n,unstyled:r,activable:s,onChange:o,onActive:i,...l}){const[c,u]=p.useState(n);p.useEffect(()=>{u(n)},[n]);const d=h=>{i==null||i(h),u(h)},f=h=>{o(h),d(!1)};return a.jsx("div",{className:R("truncate",e),...l,onDoubleClick:()=>s&&d(!0),children:c?a.jsx(Tp,{className:R(r&&qe.noFocusOut),value:t,onChange:f}):a.jsx(a.Fragment,{children:t})})}const Qh=F("text-sm w-full",qe.txtEllips),OR=({symbol:e,className:t})=>{const n=Mt(),{Components:r}=n,s=Oe(),o=Tn(),i=s.tScoped("blockManager.symbols"),l=()=>{const{draggable:y,droppable:x,attributes:w,type:S,tagName:j}=e.attributes;n.Canvas.startDrag({content:()=>r.addSymbol(e),model:e,dragDef:{type:S,tagName:j,draggable:y,droppable:x,attributes:w}})},c=()=>{n.Canvas.endDrag()},u=e.getIcon(),d=e.getName(),f=r.getSymbolInfo(e).instances.length,h=F("h-10 w-10 block-media",H.grouphTAo),g=F("gjs-pt-1 gjs-mt-2",ee.bt,H.br),v=F("cursor-pointer gjs-p-2 transition-colors group",ee.b,ee.rnd,H.br,H.hBgH,t),m=()=>{o.confirm({title:i("delete"),content:i("deleteConfirm"),onConfirm:()=>e.remove()})},b=y=>{e.set("custom-name",y)};return a.jsxs(D,{className:v,onDragStart:l,onDragEnd:c,items:"center",draggable:!0,col:!0,children:[a.jsx("div",{className:h,dangerouslySetInnerHTML:{__html:u}}),a.jsxs(D,{items:"center",justify:"between",className:g,space:"m",full:!0,children:[a.jsx(L,{children:a.jsx(D,{className:F(Qh,"gjs-mr-auto"),children:a.jsx(lt,{title:`${f} ${i("instancesProject")}`,children:a.jsx(ct,{label:`${f}`,className:F(H.bgH75)})})})}),a.jsx(L,{className:F("truncate"),grow:!0,title:d,children:a.jsx(hb,{activable:!0,value:d,className:Qh,onChange:b})}),a.jsx(L,{className:F(qe.hoverGroup),children:a.jsx(D,{justify:"end",full:!0,children:a.jsx(At,{onClick:m,title:i("delete"),border:!1,size:"",block:!0,children:a.jsx(J,{icon:Y.delete,size:oe.s})})})})]})]})},_R=re(OR),TR=[{id:"regular",label:"Regular"},{id:"symbols",label:"Symbols"}],AR="gs-block-manager",gb=re(function({isOpen:t,className:n,...r}){const{editor:s}=pe(),o=Oe(),[i,l]=p.useState("regular"),[c,u]=p.useState(""),[d,f]=p.useState(0),[h,g]=p.useState([]),v=o.tScoped("blockManager.labels"),m=i==="symbols",b=p.useRef(null);p.useEffect(()=>{if(!s)return;const{Blocks:E,Components:T}=s,_=E.events.custom,M=T.events.symbol,k=()=>{g(T.getSymbols()),f(B=>++B)};return s.on(M,k),s.on(_,k),()=>{s.off(M,k),s.off(_,k)}},[s]),p.useEffect(()=>{if(b.current&&t){const E=b.current.querySelector("input");setTimeout(()=>E==null?void 0:E.focus(),qm)}},[b.current,t]);const y=E=>v(E.getId())||E.getLabel(),x=h.filter(E=>Ns(E.getName(),c)),S=((s==null?void 0:s.Blocks.getAll())||[]).reduce((E,T)=>{const _=T.getCategoryLabel();if(c&&!Ns(_,c)&&!Ns(y(T),c))return E;const M=E[_];return M?M.push(T):E[_]=[T],E},{}),j=o.t("search"),C=Object.keys(S),O=R("gjs-pb-3",Pe.xyS,ee.bb,H.br);return a.jsxs(D,{className:R(AR,n),col:!0,full:!0,children:[a.jsxs(D,{className:O,space:"s",col:!0,children:[r.symbols!==!1&&a.jsx(xs,{tabs:TR,onChange:l,value:i,variant:"pills"}),r.search!==!1&&a.jsx(nt,{ref:b,size:"s",value:c,onInput:u,placeholder:`${j}...`,type:"search"})]}),a.jsxs(L,{grow:!0,className:R(qe.scrollY),children:[m&&(x.length?a.jsx(D,{className:R("grid grid-cols-1 gap-2 gjs-p-2"),children:x.map(E=>a.jsx(_R,{symbol:E},`${d}_${E.getId()}`))}):a.jsx(D,{className:R("text-center gjs-p-4"),justify:"center",children:o.t("blockManager.symbols.notFound")})),!m&&(C.length?C.map((E,T)=>a.jsx(ys,{sticky:!0,open:!0,handler:E,className:_=>R(Cd.itemList({index:T,open:_,length:C.length})),children:a.jsx(D,{className:R("grid grid-cols-2 gap-2 gjs-p-2"),children:S[E].map(_=>a.jsx(PR,{block:_},_.id))})},E)):a.jsx(D,{className:R("text-center gjs-p-4"),justify:"center",children:o.t("blockManager.notFound")}))]})]})}),MR={add:Y.plus},eg=(e,t)=>t||MR[e];function Ap({className:e,icon:t,title:n,onClose:r,actions:s=[],children:o}){const{t:i}=Oe();return a.jsxs(D,{className:R("gjs-card-title",e),items:"center",children:[a.jsx(L,{className:R("truncate"),grow:!0,children:n}),o,a.jsxs(D,{space:"s",children:[!!s.length&&a.jsx(D,{space:"xs",className:R("gjs-px-1"),children:s.map(({id:l,icon:c,className:u,...d})=>a.jsx(L,{children:a.jsx(At,{block:!0,border:!1,size:"xs",icon:eg(l,c)?{icon:eg(l,c),size:oe.s}:void 0,className:R(qe.click,u),...d})},l))}),(r||t)&&a.jsx(At,{title:i("close"),onClick:r,border:!1,className:R(qe.click),icon:{icon:Y.close,size:oe.s},size:"xs",block:!0})]})]})}const Gl=0,Ur=1,mo=2,mb=4;function RR(e,t){return n=>e(t(n))}function kR(e,t){return t(e)}function vb(e,t){return n=>e(t,n)}function tg(e,t){return()=>e(t)}function Mp(e,t){return t(e),e}function ws(...e){return e}function LR(e){e()}function ng(e){return()=>e}function $R(...e){return()=>{e.map(LR)}}function Kl(){}function Ct(e,t){return e(Ur,t)}function ft(e,t){e(Gl,t)}function Rp(e){e(mo)}function Vs(e){return e(mb)}function Ke(e,t){return Ct(e,vb(t,Gl))}function rg(e,t){const n=e(Ur,r=>{n(),t(r)});return n}function ot(){const e=[];return(t,n)=>{switch(t){case mo:e.splice(0,e.length);return;case Ur:return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)};case Gl:e.slice().forEach(r=>{r(n)});return;default:throw new Error(`unrecognized action ${t}`)}}}function he(e){let t=e;const n=ot();return(r,s)=>{switch(r){case Ur:s(t);break;case Gl:t=s;break;case mb:return t}return n(r,s)}}function NR(e){let t,n;const r=()=>t&&t();return function(s,o){switch(s){case Ur:return o?n===o?void 0:(r(),n=o,t=Ct(e,o),t):(r(),Kl);case mo:r(),n=null;return;default:throw new Error(`unrecognized action ${s}`)}}}function Ko(e){return Mp(ot(),t=>Ke(e,t))}function Hs(e,t){return Mp(he(t),n=>Ke(e,n))}function DR(...e){return t=>e.reduceRight(kR,t)}function ve(e,...t){const n=DR(...t);return(r,s)=>{switch(r){case Ur:return Ct(e,n(s));case mo:Rp(e);return}}}function bb(e,t){return e===t}function Lt(e=bb){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function bt(e){return t=>n=>{e(n)&&t(n)}}function Qe(e){return t=>RR(t,e)}function Tr(e){return t=>()=>t(e)}function ca(e,t){return n=>r=>n(t=e(t,r))}function td(e){return t=>n=>{e>0?e--:t(n)}}function $o(e){let t=null,n;return r=>s=>{t=s,!n&&(n=setTimeout(()=>{n=void 0,r(t)},e))}}function sg(e){let t,n;return r=>s=>{t=s,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function In(...e){const t=new Array(e.length);let n=0,r=null;const s=Math.pow(2,e.length)-1;return e.forEach((o,i)=>{const l=Math.pow(2,i);Ct(o,c=>{const u=n;n=n|l,t[i]=c,u!==s&&n===s&&r&&(r(),r=null)})}),o=>i=>{const l=()=>o([i].concat(t));n===s?l():r=l}}function og(...e){return function(t,n){switch(t){case Ur:return $R(...e.map(r=>Ct(r,n)));case mo:return;default:throw new Error(`unrecognized action ${t}`)}}}function Te(e,t=bb){return ve(e,Lt(t))}function ur(...e){const t=ot(),n=new Array(e.length);let r=0;const s=Math.pow(2,e.length)-1;return e.forEach((o,i)=>{const l=Math.pow(2,i);Ct(o,c=>{n[i]=c,r=r|l,r===s&&ft(t,n)})}),function(o,i){switch(o){case Ur:return r===s&&i(n),Ct(t,i);case mo:return Rp(t);default:throw new Error(`unrecognized action ${o}`)}}}function Qn(e,t=[],{singleton:n}={singleton:!0}){return{id:IR(),constructor:e,dependencies:t,singleton:n}}const IR=()=>Symbol();function VR(e){const t=new Map,n=({id:r,constructor:s,dependencies:o,singleton:i})=>{if(i&&t.has(r))return t.get(r);const l=s(o.map(c=>n(c)));return i&&t.set(r,l),l};return n(e)}function HR(e,t){const n={},r={};let s=0;const o=e.length;for(;s<o;)r[e[s]]=1,s+=1;for(const i in t)r.hasOwnProperty(i)||(n[i]=t[i]);return n}const ua=typeof document<"u"?p.useLayoutEffect:p.useEffect;function BR(e,t,n){const r=Object.keys(t.required||{}),s=Object.keys(t.optional||{}),o=Object.keys(t.methods||{}),i=Object.keys(t.events||{}),l=p.createContext({});function c(y,x){y.propsReady&&ft(y.propsReady,!1);for(const w of r){const S=y[t.required[w]];ft(S,x[w])}for(const w of s)if(w in x){const S=y[t.optional[w]];ft(S,x[w])}y.propsReady&&ft(y.propsReady,!0)}function u(y){return o.reduce((x,w)=>(x[w]=S=>{const j=y[t.methods[w]];ft(j,S)},x),{})}function d(y){return i.reduce((x,w)=>(x[w]=NR(y[t.events[w]]),x),{})}const f=p.forwardRef((y,x)=>{const{children:w,...S}=y,[j]=p.useState(()=>Mp(VR(e),E=>c(E,S))),[C]=p.useState(tg(d,j));ua(()=>{for(const E of i)E in S&&Ct(C[E],S[E]);return()=>{Object.values(C).map(Rp)}},[S,C,j]),ua(()=>{c(j,S)}),p.useImperativeHandle(x,ng(u(j)));const O=n;return a.jsx(l.Provider,{value:j,children:n?a.jsx(O,{...HR([...r,...s,...i],S),children:w}):w})}),h=y=>p.useCallback(vb(ft,p.useContext(l)[y]),[y]),g=y=>{const w=p.useContext(l)[y],S=p.useCallback(j=>Ct(w,j),[w]);return p.useSyncExternalStore(S,()=>Vs(w),()=>Vs(w))},v=y=>{const w=p.useContext(l)[y],[S,j]=p.useState(tg(Vs,w));return ua(()=>Ct(w,C=>{C!==S&&j(ng(C))}),[w,S]),S},m=p.version.startsWith("18")?g:v;return{Component:f,usePublisher:h,useEmitterValue:m,useEmitter:(y,x)=>{const S=p.useContext(l)[y];ua(()=>Ct(S,x),[x,S])}}}const yb=typeof document<"u"?p.useLayoutEffect:p.useEffect;var kp=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(kp||{});const FR={0:"debug",1:"log",2:"warn",3:"error"},zR=()=>typeof globalThis>"u"?window:globalThis,xb=Qn(()=>{const e=he(3);return{log:he((n,r,s=1)=>{var o;const i=(o=zR().VIRTUOSO_LOG_LEVEL)!=null?o:Vs(e);s>=i&&console[FR[s]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,r)}),logLevel:e}},[],{singleton:!0});function wb(e,t,n){const r=p.useRef(null);let s=o=>{};if(typeof ResizeObserver<"u"){const o=p.useMemo(()=>new ResizeObserver(i=>{const l=()=>{const c=i[0].target;c.offsetParent!==null&&e(c)};n?l():requestAnimationFrame(l)}),[e]);s=i=>{i&&t?(o.observe(i),r.current=i):(r.current&&o.unobserve(r.current),r.current=null)}}return{ref:r,callbackRef:s}}function ql(e,t,n){return wb(e,t,n).callbackRef}function el(e,t){return Math.round(e.getBoundingClientRect()[t])}function Sb(e,t){return Math.abs(e-t)<1.01}function jb(e,t,n,r=Kl,s,o){const i=p.useRef(null),l=p.useRef(null),c=p.useRef(null),u=p.useCallback(h=>{const g=h.target,v=g===window||g===document,m=o?v?window.pageXOffset||document.documentElement.scrollLeft:g.scrollLeft:v?window.pageYOffset||document.documentElement.scrollTop:g.scrollTop,b=o?v?document.documentElement.scrollWidth:g.scrollWidth:v?document.documentElement.scrollHeight:g.scrollHeight,y=o?v?window.innerWidth:g.offsetWidth:v?window.innerHeight:g.offsetHeight,x=()=>{e({scrollTop:Math.max(m,0),scrollHeight:b,viewportHeight:y})};h.suppressFlushSync?x():$t.flushSync(x),l.current!==null&&(m===l.current||m<=0||m===b-y)&&(l.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t]);p.useEffect(()=>{const h=s||i.current;return r(s||i.current),u({target:h,suppressFlushSync:!0}),h.addEventListener("scroll",u,{passive:!0}),()=>{r(null),h.removeEventListener("scroll",u)}},[i,u,n,r,s]);function d(h){const g=i.current;if(!g||(o?"offsetWidth"in g&&g.offsetWidth===0:"offsetHeight"in g&&g.offsetHeight===0))return;const v=h.behavior==="smooth";let m,b,y;g===window?(b=Math.max(el(document.documentElement,o?"width":"height"),o?document.documentElement.scrollWidth:document.documentElement.scrollHeight),m=o?window.innerWidth:window.innerHeight,y=o?document.documentElement.scrollLeft:document.documentElement.scrollTop):(b=g[o?"scrollWidth":"scrollHeight"],m=el(g,o?"width":"height"),y=g[o?"scrollLeft":"scrollTop"]);const x=b-m;if(h.top=Math.ceil(Math.max(Math.min(x,h.top),0)),Sb(m,b)||h.top===y){e({scrollTop:y,scrollHeight:b,viewportHeight:m}),v&&t(!0);return}v?(l.current=h.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,l.current=null,t(!0)},1e3)):l.current=null,o&&(h={left:h.top,behavior:h.behavior}),g.scrollTo(h)}function f(h){o&&(h={left:h.top,behavior:h.behavior}),i.current.scrollBy(h)}return{scrollerRef:i,scrollByCallback:f,scrollToCallback:d}}const Yl=Qn(()=>{const e=ot(),t=ot(),n=he(0),r=ot(),s=he(0),o=ot(),i=ot(),l=he(0),c=he(0),u=he(0),d=he(0),f=ot(),h=ot(),g=he(!1),v=he(!1),m=he(!1);return Ke(ve(e,Qe(({scrollTop:b})=>b)),t),Ke(ve(e,Qe(({scrollHeight:b})=>b)),i),Ke(t,s),{scrollContainerState:e,scrollTop:t,viewportHeight:o,headerHeight:l,fixedHeaderHeight:c,fixedFooterHeight:u,footerHeight:d,scrollHeight:i,smoothScrollTargetReached:r,horizontalDirection:v,skipAnimationFrameInResizeObserver:m,scrollTo:f,scrollBy:h,statefulScrollTop:s,deviation:n,scrollingInProgress:g}},[],{singleton:!0}),UR=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function WR(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!UR)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const tl="up",qo="down",GR="none",KR={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},qR=0,Cb=Qn(([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:r,footerHeight:s,scrollBy:o}])=>{const i=he(!1),l=he(!0),c=ot(),u=ot(),d=he(4),f=he(qR),h=Hs(ve(og(ve(Te(t),td(1),Tr(!0)),ve(Te(t),td(1),Tr(!1),sg(100))),Lt()),!1),g=Hs(ve(og(ve(o,Tr(!0)),ve(o,Tr(!1),sg(200))),Lt()),!1);Ke(ve(ur(Te(t),Te(f)),Qe(([x,w])=>x<=w),Lt()),l),Ke(ve(l,$o(50)),u);const v=Ko(ve(ur(e,Te(n),Te(r),Te(s),Te(d)),ca((x,[{scrollTop:w,scrollHeight:S},j,C,O,E])=>{const T=w+j-S>-E,_={viewportHeight:j,scrollTop:w,scrollHeight:S};if(T){let k,B;return w>x.state.scrollTop?(k="SCROLLED_DOWN",B=x.state.scrollTop-w):(k="SIZE_DECREASED",B=x.state.scrollTop-w||x.scrollTopDelta),{atBottom:!0,state:_,atBottomBecause:k,scrollTopDelta:B}}let M;return _.scrollHeight>x.state.scrollHeight?M="SIZE_INCREASED":j<x.state.viewportHeight?M="VIEWPORT_HEIGHT_DECREASING":w<x.state.scrollTop?M="SCROLLING_UPWARDS":M="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:M,state:_}},KR),Lt((x,w)=>x&&x.atBottom===w.atBottom))),m=Hs(ve(e,ca((x,{scrollTop:w,scrollHeight:S,viewportHeight:j})=>{if(Sb(x.scrollHeight,S))return{scrollTop:w,scrollHeight:S,jump:0,changed:!1};{const C=S-(w+j)<1;return x.scrollTop!==w&&C?{scrollHeight:S,scrollTop:w,jump:x.scrollTop-w,changed:!0}:{scrollHeight:S,scrollTop:w,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),bt(x=>x.changed),Qe(x=>x.jump)),0);Ke(ve(v,Qe(x=>x.atBottom)),i),Ke(ve(i,$o(50)),c);const b=he(qo);Ke(ve(e,Qe(({scrollTop:x})=>x),Lt(),ca((x,w)=>Vs(g)?{direction:x.direction,prevScrollTop:w}:{direction:w<x.prevScrollTop?tl:qo,prevScrollTop:w},{direction:qo,prevScrollTop:0}),Qe(x=>x.direction)),b),Ke(ve(e,$o(50),Tr(GR)),b);const y=he(0);return Ke(ve(h,bt(x=>!x),Tr(0)),y),Ke(ve(t,$o(100),In(h),bt(([x,w])=>!!w),ca(([x,w],[S])=>[w,S],[0,0]),Qe(([x,w])=>w-x)),y),{isScrolling:h,isAtTop:l,isAtBottom:i,atBottomState:v,atTopStateChange:u,atBottomStateChange:c,scrollDirection:b,atBottomThreshold:d,atTopThreshold:f,scrollVelocity:y,lastJumpDueToItemResize:m}},ws(Yl)),YR=Qn(([{log:e}])=>{const t=he(!1),n=Ko(ve(t,bt(r=>r),Lt()));return Ct(t,r=>{r&&Vs(e)("props updated",{},kp.DEBUG)}),{propsReady:t,didMount:n}},ws(xb),{singleton:!0});function Eb(e,t){e==0?t():requestAnimationFrame(()=>Eb(e-1,t))}function XR(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}function nd(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function ZR(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const nl="top",rl="bottom",ig="none";function ag(e,t,n){return typeof e=="number"?n===tl&&t===nl||n===qo&&t===rl?e:0:n===tl?t===nl?e.main:e.reverse:t===rl?e.main:e.reverse}function lg(e,t){return typeof e=="number"?e:e[t]||0}const JR=Qn(([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:r,fixedHeaderHeight:s}])=>{const o=ot(),i=he(0),l=he(0),c=he(0),u=Hs(ve(ur(Te(e),Te(t),Te(r),Te(o,nd),Te(c),Te(i),Te(s),Te(n),Te(l)),Qe(([d,f,h,[g,v],m,b,y,x,w])=>{const S=d-x,j=b+y,C=Math.max(h-S,0);let O=ig;const E=lg(w,nl),T=lg(w,rl);return g-=x,g+=h+y,v+=h+y,v-=x,g>d+j-E&&(O=tl),v<d-C+f+T&&(O=qo),O!==ig?[Math.max(S-h-ag(m,nl,O)-E,0),S-C-y+f+ag(m,rl,O)+T]:null}),bt(d=>d!=null),Lt(nd)),[0,0]);return{listBoundary:o,overscan:c,topListHeight:i,increaseViewportBy:l,visibleRange:u}},ws(Yl),{singleton:!0}),QR=Qn(([{scrollVelocity:e}])=>{const t=he(!1),n=ot(),r=he(!1);return Ke(ve(e,In(r,t,n),bt(([s,o])=>!!o),Qe(([s,o,i,l])=>{const{exit:c,enter:u}=o;if(i){if(c(s,l))return!1}else if(u(s,l))return!0;return i}),Lt()),t),Ct(ve(ur(t,e,n),In(r)),([[s,o,i],l])=>s&&l&&l.change&&l.change(o,i)),{isSeeking:t,scrollSeekConfiguration:r,scrollVelocity:e,scrollSeekRangeChanged:n}},ws(Cb),{singleton:!0});function e3(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const t3=Qn(([{scrollTo:e,scrollContainerState:t}])=>{const n=ot(),r=ot(),s=ot(),o=he(!1),i=he(void 0);return Ke(ve(ur(n,r),Qe(([{viewportHeight:l,scrollTop:c,scrollHeight:u},{offsetTop:d}])=>({scrollTop:Math.max(0,c-d),scrollHeight:u,viewportHeight:l}))),t),Ke(ve(e,In(r),Qe(([l,{offsetTop:c}])=>({...l,top:l.top+c}))),s),{useWindowScroll:o,customScrollParent:i,windowScrollContainerState:n,windowViewportRect:r,windowScrollTo:s}},ws(Yl)),Qc="-webkit-sticky",cg="sticky",Pb=e3(()=>{if(typeof document>"u")return cg;const e=document.createElement("div");return e.style.position=Qc,e.style.position===Qc?Qc:cg});function n3(e,t,n){const r=p.useRef(null),s=p.useCallback(c=>{if(c===null||!c.offsetParent)return;const u=c.getBoundingClientRect(),d=u.width;let f,h;if(t){const g=t.getBoundingClientRect(),v=u.top-g.top;f=g.height-Math.max(0,v),h=v+t.scrollTop}else f=window.innerHeight-Math.max(0,u.top),h=u.top+window.pageYOffset;r.current={offsetTop:h,visibleHeight:f,visibleWidth:d},e(r.current)},[e,t]),{callbackRef:o,ref:i}=wb(s,!0,n),l=p.useCallback(()=>{s(i.current)},[s,i]);return p.useEffect(()=>{if(t){t.addEventListener("scroll",l);const c=new ResizeObserver(()=>{requestAnimationFrame(l)});return c.observe(t),()=>{t.removeEventListener("scroll",l),c.unobserve(t)}}else return window.addEventListener("scroll",l),window.addEventListener("resize",l),()=>{window.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[l,t]),o}p.createContext(void 0);const Ob=p.createContext(void 0);function r3(e){return e}Pb();const s3={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},o3={outline:"none",overflowX:"auto",position:"relative"},_b=e=>({width:"100%",height:"100%",position:"absolute",top:0,...e?{display:"flex",flexDirection:"column"}:{}});Pb();function ns(e,t){if(typeof e!="string")return{context:t}}function i3({usePublisher:e,useEmitter:t,useEmitterValue:n}){return p.memo(function({style:o,children:i,...l}){const c=e("scrollContainerState"),u=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),f=n("scrollerRef"),h=n("context"),g=n("horizontalDirection")||!1,{scrollerRef:v,scrollByCallback:m,scrollToCallback:b}=jb(c,d,u,f,void 0,g);t("scrollTo",b),t("scrollBy",m);const y=g?o3:s3;return a.jsx(u,{ref:v,style:{...y,...o},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...ns(u,h),children:i})})}function a3({usePublisher:e,useEmitter:t,useEmitterValue:n}){return p.memo(function({style:o,children:i,...l}){const c=e("windowScrollContainerState"),u=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),f=n("totalListHeight"),h=n("deviation"),g=n("customScrollParent"),v=n("context"),{scrollerRef:m,scrollByCallback:b,scrollToCallback:y}=jb(c,d,u,Kl,g);return yb(()=>(m.current=g||window,()=>{m.current=null}),[m,g]),t("windowScrollTo",y),t("scrollBy",b),a.jsx(u,{style:{position:"relative",...o,...f!==0?{height:f+h}:{}},"data-virtuoso-scroller":!0,...l,...ns(u,v),children:i})})}const ug={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},l3={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:dg,ceil:pg,floor:sl,min:eu,max:Yo}=Math;function c3(e){return{...l3,items:e}}function fg(e,t,n){return Array.from({length:t-e+1}).map((r,s)=>{const o=n===null?null:n[s+e];return{index:s+e,data:o}})}function u3(e,t){return e&&e.column===t.column&&e.row===t.row}function da(e,t){return e&&e.width===t.width&&e.height===t.height}const d3=Qn(([{overscan:e,visibleRange:t,listBoundary:n,increaseViewportBy:r},{scrollTop:s,viewportHeight:o,scrollBy:i,scrollTo:l,smoothScrollTargetReached:c,scrollContainerState:u,footerHeight:d,headerHeight:f},h,g,{propsReady:v,didMount:m},{windowViewportRect:b,useWindowScroll:y,customScrollParent:x,windowScrollContainerState:w,windowScrollTo:S},j])=>{const C=he(0),O=he(0),E=he(ug),T=he({height:0,width:0}),_=he({height:0,width:0}),M=ot(),k=ot(),B=he(0),z=he(null),P=he({row:0,column:0}),A=ot(),$=ot(),N=he(!1),I=he(0),V=he(!0),U=he(!1),X=he(!1);Ct(ve(m,In(I),bt(([G,Z])=>!!Z)),()=>{ft(V,!1)}),Ct(ve(ur(m,V,_,T,I,U),bt(([G,Z,le,se,,me])=>G&&!Z&&le.height!==0&&se.height!==0&&!me)),([,,,,G])=>{ft(U,!0),Eb(1,()=>{ft(M,G)}),rg(ve(s),()=>{ft(n,[0,0]),ft(V,!0)})}),Ke(ve($,bt(G=>G!=null&&G.scrollTop>0),Tr(0)),O),Ct(ve(m,In($),bt(([,G])=>G!=null)),([,G])=>{G&&(ft(T,G.viewport),ft(_,G==null?void 0:G.item),ft(P,G.gap),G.scrollTop>0&&(ft(N,!0),rg(ve(s,td(1)),Z=>{ft(N,!1)}),ft(l,{top:G.scrollTop})))}),Ke(ve(T,Qe(({height:G})=>G)),o),Ke(ve(ur(Te(T,da),Te(_,da),Te(P,(G,Z)=>G&&G.column===Z.column&&G.row===Z.row),Te(s)),Qe(([G,Z,le,se])=>({viewport:G,item:Z,gap:le,scrollTop:se}))),A),Ke(ve(ur(Te(C),t,Te(P,u3),Te(_,da),Te(T,da),Te(z),Te(O),Te(N),Te(V),Te(I)),bt(([,,,,,,,G])=>!G),Qe(([G,[Z,le],se,me,ye,Ze,et,,gt,st])=>{const{row:Ue,column:Jt}=se,{height:$e,width:Je}=me,{width:bn}=ye;if(et===0&&(G===0||bn===0))return ug;if(Je===0){const vo=XR(st,G),sc=Math.max(vo+et-1,0);return c3(fg(vo,sc,Ze))}const mt=Tb(bn,Je,Jt);let it,pt;gt?Z===0&&le===0&&et>0?(it=0,pt=et-1):(it=mt*sl((Z+Ue)/($e+Ue)),pt=mt*pg((le+Ue)/($e+Ue))-1,pt=eu(G-1,Yo(pt,mt-1)),it=eu(pt,Yo(0,it))):(it=0,pt=-1);const yn=fg(it,pt,Ze),{top:Ot,bottom:xn}=hg(ye,se,me,yn),Wr=pg(G/mt),Cs=Wr*$e+(Wr-1)*Ue-xn;return{items:yn,offsetTop:Ot,offsetBottom:Cs,top:Ot,bottom:xn,itemHeight:$e,itemWidth:Je}})),E),Ke(ve(z,bt(G=>G!==null),Qe(G=>G.length)),C),Ke(ve(ur(T,_,E,P),bt(([G,Z,{items:le}])=>le.length>0&&Z.height!==0&&G.height!==0),Qe(([G,Z,{items:le},se])=>{const{top:me,bottom:ye}=hg(G,se,Z,le);return[me,ye]}),Lt(nd)),n);const ne=he(!1);Ke(ve(s,In(ne),Qe(([G,Z])=>Z||G!==0)),ne);const K=Ko(ve(Te(E),bt(({items:G})=>G.length>0),In(C,ne),bt(([{items:G},Z,le])=>le&&G[G.length-1].index===Z-1),Qe(([,G])=>G-1),Lt())),Q=Ko(ve(Te(E),bt(({items:G})=>G.length>0&&G[0].index===0),Tr(0),Lt())),ce=Ko(ve(Te(E),In(N),bt(([{items:G},Z])=>G.length>0&&!Z),Qe(([{items:G}])=>({startIndex:G[0].index,endIndex:G[G.length-1].index})),Lt(ZR),$o(0)));Ke(ce,g.scrollSeekRangeChanged),Ke(ve(M,In(T,_,C,P),Qe(([G,Z,le,se,me])=>{const ye=WR(G),{align:Ze,behavior:et,offset:gt}=ye;let st=ye.index;st==="LAST"&&(st=se-1),st=Yo(0,st,eu(se-1,st));let Ue=rd(Z,me,le,st);return Ze==="end"?Ue=dg(Ue-Z.height+le.height):Ze==="center"&&(Ue=dg(Ue-Z.height/2+le.height/2)),gt&&(Ue+=gt),{top:Ue,behavior:et}})),l);const te=Hs(ve(E,Qe(G=>G.offsetBottom+G.bottom)),0);return Ke(ve(b,Qe(G=>({width:G.visibleWidth,height:G.visibleHeight}))),T),{data:z,totalCount:C,viewportDimensions:T,itemDimensions:_,scrollTop:s,scrollHeight:k,overscan:e,increaseViewportBy:r,scrollBy:i,scrollTo:l,scrollToIndex:M,smoothScrollTargetReached:c,windowViewportRect:b,windowScrollTo:S,useWindowScroll:y,customScrollParent:x,windowScrollContainerState:w,deviation:B,scrollContainerState:u,footerHeight:d,headerHeight:f,initialItemCount:O,gap:P,restoreStateFrom:$,...g,initialTopMostItemIndex:I,horizontalDirection:X,gridState:E,totalListHeight:te,...h,startReached:Q,endReached:K,rangeChanged:ce,stateChanged:A,propsReady:v,stateRestoreInProgress:N,...j}},ws(JR,Yl,Cb,QR,YR,t3,xb));function hg(e,t,n,r){const{height:s}=n;if(s===void 0||r.length===0)return{top:0,bottom:0};const o=rd(e,t,n,r[0].index),i=rd(e,t,n,r[r.length-1].index)+s;return{top:o,bottom:i}}function rd(e,t,n,r){const s=Tb(e.width,n.width,t.column),o=sl(r/s),i=o*n.height+Yo(0,o-1)*t.row;return i>0?i+t.row:i}function Tb(e,t,n){return Yo(1,sl((e+n)/(sl(t)+n)))}const p3=Qn(()=>{const e=he(f=>`Item ${f}`),t=he({}),n=he(null),r=he("virtuoso-grid-item"),s=he("virtuoso-grid-list"),o=he(r3),i=he("div"),l=he(Kl),c=(f,h=null)=>Hs(ve(t,Qe(g=>g[f]),Lt()),h),u=he(!1),d=he(!1);return Ke(Te(d),u),{readyStateChanged:u,reportReadyState:d,context:n,itemContent:e,components:t,computeItemKey:o,itemClassName:r,listClassName:s,headerFooterTag:i,scrollerRef:l,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),f3=Qn(([e,t])=>({...e,...t}),ws(d3,p3)),h3=p.memo(function(){const t=tt("gridState"),n=tt("listClassName"),r=tt("itemClassName"),s=tt("itemContent"),o=tt("computeItemKey"),i=tt("isSeeking"),l=un("scrollHeight"),c=tt("ItemComponent"),u=tt("ListComponent"),d=tt("ScrollSeekPlaceholder"),f=tt("context"),h=un("itemDimensions"),g=un("gap"),v=tt("log"),m=tt("stateRestoreInProgress"),b=un("reportReadyState"),y=ql(p.useMemo(()=>x=>{const w=x.parentElement.parentElement.scrollHeight;l(w);const S=x.firstChild;if(S){const{width:j,height:C}=S.getBoundingClientRect();h({width:j,height:C})}g({row:gg("row-gap",getComputedStyle(x).rowGap,v),column:gg("column-gap",getComputedStyle(x).columnGap,v)})},[l,h,g,v]),!0,!1);return yb(()=>{t.itemHeight>0&&t.itemWidth>0&&b(!0)},[t]),m?null:a.jsx(u,{ref:y,className:n,...ns(u,f),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-testid":"virtuoso-item-list",children:t.items.map(x=>{const w=o(x.index,x.data,f);return i?a.jsx(d,{...ns(d,f),index:x.index,height:t.itemHeight,width:t.itemWidth},w):p.createElement(c,{...ns(c,f),className:r,"data-index":x.index,key:w},s(x.index,x.data,f))})})}),g3=p.memo(function(){const t=tt("HeaderComponent"),n=un("headerHeight"),r=tt("headerFooterTag"),s=ql(p.useMemo(()=>i=>n(el(i,"height")),[n]),!0,!1),o=tt("context");return t?a.jsx(r,{ref:s,children:a.jsx(t,{...ns(t,o)})}):null}),m3=p.memo(function(){const t=tt("FooterComponent"),n=un("footerHeight"),r=tt("headerFooterTag"),s=ql(p.useMemo(()=>i=>n(el(i,"height")),[n]),!0,!1),o=tt("context");return t?a.jsx(r,{ref:s,children:a.jsx(t,{...ns(t,o)})}):null}),v3=({children:e})=>{const t=p.useContext(Ob),n=un("itemDimensions"),r=un("viewportDimensions"),s=ql(p.useMemo(()=>o=>{r(o.getBoundingClientRect())},[r]),!0,!1);return p.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),a.jsx("div",{style:_b(!1),ref:s,children:e})},b3=({children:e})=>{const t=p.useContext(Ob),n=un("windowViewportRect"),r=un("itemDimensions"),s=tt("customScrollParent"),o=n3(n,s,!1);return p.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),a.jsx("div",{ref:o,style:_b(!1),children:e})},y3=p.memo(function({...t}){const n=tt("useWindowScroll"),r=tt("customScrollParent"),s=r||n?S3:w3,o=r||n?b3:v3;return a.jsx(s,{...t,children:a.jsxs(o,{children:[a.jsx(g3,{}),a.jsx(h3,{}),a.jsx(m3,{})]})})}),{Component:x3,usePublisher:un,useEmitterValue:tt,useEmitter:Ab}=BR(f3,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},y3),w3=i3({usePublisher:un,useEmitterValue:tt,useEmitter:Ab}),S3=a3({usePublisher:un,useEmitterValue:tt,useEmitter:Ab});function gg(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,kp.WARN),t==="normal"?0:parseInt(t??"0",10)}const $i=x3,Ni=p.forwardRef(function({full:t,abs:n,small:r,className:s},o){const i=F(t&&"w-full h-full",n&&qe.coverAbs,s),l=F(r?"w-5 h-5":"w-10 h-10","animate-spin-fast","!gs-utl-border-y-transparent !gs-utl-border-r-transparent",ee.pill,ee.bS,ee.bA);return a.jsx(D,{ref:o,className:i,items:"center",justify:"center",children:a.jsx("div",{className:l})})}),Rn="1.0.11",j3=[{id:"grapesjs-component-countdown",name:"Countdown",description:"Countdown component",src:"https://unpkg.com/grapesjs-component-countdown@1.0.1/dist/index.js",version:"1.0.1",projectType:[Ne.web],options:{props:{emptyState:!0}}},{id:"grapesjs-tabs",name:"Tabs",description:"Tabs component",src:"https://unpkg.com/grapesjs-tabs@1.0.6/dist/grapesjs-tabs.min.js",version:"1.0.6",projectType:[Ne.web],options:{tabsBlock:{category:"Extra",select:!0}}},{id:"grapesjs-custom-code",name:"Custom code",description:"Component for the embed of custom code",src:"https://unpkg.com/grapesjs-custom-code@1.0.1/dist/index.js",version:"1.0.1",projectType:[Ne.web]},{id:"grapesjs-tooltip",name:"Tooltip",description:"Simple, CSS only, tooltip component",src:"https://unpkg.com/grapesjs-tooltip@0.1.7/dist/index.js",version:"0.1.7",projectType:[Ne.web],options:{propsTooltip:{emptyState:{styleOut:"width: 80px;"}}}},{id:"grapesjs-typed",name:"Typed",description:"Typed component based on Typed.js library",src:"https://unpkg.com/grapesjs-typed@2.0.1/dist/index.js",version:"2.0.1",projectType:[Ne.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_tableComponent",name:"Table",description:"Add table component with additional functionalities.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${Rn}/dist/tableComponent/index.umd.js`,version:Rn,projectType:[Ne.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_listPagesComponent",name:"List Pages",description:"Add a list component that dynamically generates navigation links based on the pages in your project.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${Rn}/dist/listPagesComponent/index.umd.js`,version:Rn,projectType:[Ne.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_fsLightboxComponent",name:"FsLightbox",description:"Image viewer plugin based on FsLightbox.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${Rn}/dist/fsLightboxComponent/index.umd.js`,version:Rn,projectType:[Ne.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_lightGalleryComponent",name:"LightGallery",description:"Gallery component based on lightGallery.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${Rn}/dist/lightGalleryComponent/index.umd.js`,version:Rn,projectType:[Ne.web],options:{block:{category:"Extra"}}},{id:"StudioSdkPlugins_swiperComponent",name:"Swiper (Slider)",description:"Slider component plugin based on Swiper.",src:`https://unpkg.com/@grapesjs/studio-sdk-plugins@${Rn}/dist/swiperComponent/index.umd.js`,version:Rn,projectType:[Ne.web],options:{block:{category:"Extra"}}}],C3=()=>new Promise(e=>{setTimeout(()=>e(j3),100)}),mg=re(function({plugin:t,selected:n,className:r,installed:s,onInstall:o,onSelect:i}){const l=Oe(),c=d=>l.t(`pluginManager.${d}`),u=s[t.id];return a.jsx(Ht,{className:F("overflow-hidden max-w-full group gjs-px-4 gjs-py-3",r),padding:!1,children:a.jsx(D,{space:"s",col:!0,children:a.jsx(D,{className:F("max-w-full"),nowrap:!0,children:a.jsx(L,{grow:!0,className:F("w-full"),children:a.jsxs(D,{space:"s",col:!0,children:[a.jsxs(D,{items:"center",space:"s",nowrap:!0,children:[a.jsx(L,{className:F(qe.txtEllips,"cursor-pointer"),onClick:()=>i==null?void 0:i(t),children:a.jsx("b",{children:t.name})}),a.jsx(L,{grow:!0,children:a.jsx(ct,{className:F("opacity-90"),label:`v${t.version}`,s:"s",pill:!0,border:!0})}),a.jsx(D,{children:a.jsx(ze,{className:F("text-sm"),size:"m2",variant:"pr",onClick:()=>o(t),children:c(u?"uninstall":"install")})})]}),a.jsx(L,{className:F(!n&&qe.txtEllips,"text-sm max-w-full"),children:t.description})]})})})})})}),Mb=re(function({selectedId:t}){const n=Oe(),[r]=Wl(),s=_p(),o=pe(),[i,l]=p.useState(),[c,u]=p.useState(),[d,f]=p.useState(),[h,g]=p.useState("all"),v=h==="all"?d:c,m=n.tScoped("pluginManager");p.useEffect(()=>{(async()=>{!c&&u(await pi()),!d&&f(await C3())})()},[c,d]),p.useEffect(()=>{if(t&&d&&!s.selectedShown){const S=d.find(j=>j.id===t);S&&l(S),s.setSelectedShown(!0)}},[d]);const b=p.useMemo(()=>[{id:"all",label:m("all")},{id:"installed",label:m("installed")}],[n]),y=p.useCallback(async S=>{c!=null&&c.find(j=>j.id===S.id)?await lR(S):await aR(S),u(await pi())},[c]),x=p.useMemo(()=>(c==null?void 0:c.reduce((S,j)=>(S[j.id]=j.version,S),{}))||{},[c]),w=!!(i||s.hasPending);return a.jsxs(D,{col:!0,full:!0,space:"m",children:[w&&a.jsxs(D,{children:[!!i&&a.jsx(ze,{onClick:()=>l(void 0),className:F(H.tAo),border:!1,children:a.jsxs(D,{space:"xs",items:"center",children:[a.jsx(J,{icon:Y.chevronLeft,size:oe.s}),a.jsx("div",{children:m("allPlugins")})]})}),s.hasPending&&a.jsx(ze,{className:F("text-sm gjs-ml-auto"),size:"m2",variant:"out",onClick:o.updateStudio,children:m("updateStudio")})]}),i?a.jsx(L,{grow:!0,className:F("w-full"),children:a.jsx(mg,{plugin:i,installed:x,onInstall:y,selected:!0})}):a.jsxs(a.Fragment,{children:[a.jsx(L,{children:a.jsx(xs,{tabs:b,onChange:g,value:h})}),a.jsx(L,{grow:!0,children:v?v.length?a.jsx($i,{data:v,listClassName:F("grid grid-cols-1 gap-2 gjs-pr-2"),itemContent:(S,j)=>a.jsx(mg,{plugin:j,installed:x,onInstall:y,onSelect:l},j.id)},r):a.jsx(D,{justify:"center",children:n.t("notItemsFound")}):a.jsx(Ni,{})})]})]})}),Lp=p.forwardRef(function({children:t,className:n,...r},s){return a.jsx("div",{className:W(F("gs-block-manager-after"),n),ref:s,...r,children:t})}),$p=p.forwardRef(function({children:t,className:n,...r},s){return a.jsx("div",{className:W(F("gs-block-manager-before"),n),ref:s,...r,children:t})}),E3=re(function(){const{isOpen:t,toggleOpen:n}=uv(),{editor:r,sdkProps:s,sdkOptions:o,isProjectTypeEmail:i}=pe(),l=Tn(),c=Oe(),u=s.children,d=c.tScoped("blockManager"),f=R("absolute left-0 top-0 h-full transition-transform z-10",!t&&"-translate-x-full",ee.br,H.br,H.bg),h=()=>{l.open({fullH:!0,title:c.t("pluginManager.plugins"),content:()=>a.jsx(Mb,{})})},g=p.useMemo(()=>[!!o.pluginManager&&!i&&{id:"add",title:d("add"),className:H.tAo,onClick:h,icon:Y.viewGridPlus}].filter(Boolean),[r]);return a.jsxs(D,{className:f,style:{width:240},col:!0,nowrap:!0,children:[a.jsx(L,{children:a.jsx(Ap,{title:d("blocks"),onClose:n,className:R(Pe.s),actions:g})}),a.jsxs(bs,{children:[Nt(u,$p),a.jsx(L,{className:R("overflow-hidden"),grow:!0,children:a.jsx(gb,{isOpen:t})}),Nt(u,Lp)]})]})}),P3={pointerEvents:"all"};function Bs({spot:e,children:t,style:n,spotStyles:r,...s}){const o={...r||e.getStyle(),...n};return a.jsx("div",{...s,style:o,children:a.jsx("div",{style:P3,children:t})})}const Nn=p.forwardRef(function({children:t,className:n,position:r,out:s,...o},i){var h;const{Canvas:l}=Mt(),c=((h=l.getCanvasView())==null?void 0:h.clsUnscale)||"",u=[],d={};switch(r){case"top-left":u.push("top-0","left-0"),d.transformOrigin="top left",s&&(d.translate="0 -100%",d.transformOrigin="bottom left");break;case"top-center":u.push("top-0"),d.left="50%",d.translate="-50% 0",d.transformOrigin="top center",s&&(d.translate="-50% -100%",d.transformOrigin="bottom center");break;case"top-right":u.push("top-0","right-0"),d.transformOrigin="top right",s&&(d.translate="0 -100%",d.transformOrigin="bottom right");break;case"center-left":u.push("left-0"),d.top="50%",d.translate="0 -50%",d.transformOrigin="center left",s&&(d.translate="-100% -50%",d.transformOrigin="center right");break;case"center-center":d.top="50%",d.left="50%",d.translate="-50% -50%",d.transformOrigin="center";break;case"center-right":u.push("right-0"),d.top="50%",d.translate="0 -50%",d.transformOrigin="center right",s&&(d.translate="100% -50%",d.transformOrigin="center left");break;case"bottom-left":u.push("left-0","bottom-0"),d.transformOrigin="bottom left",s&&(d.translate="0 100%",d.transformOrigin="top left");break;case"bottom-center":u.push("bottom-0"),d.left="50%",d.translate="-50% 0",d.transformOrigin="bottom center",s&&(d.translate="-50% 100%",d.transformOrigin="top center");break;case"bottom-right":u.push("right-0","bottom-0"),d.transformOrigin="bottom right",s&&(d.translate="0 100%",d.transformOrigin="top right");break}const f={...d,...o.style};return a.jsx("div",{...o,className:W(c,F("gs-utl-flex gs-utl-absolute",n,u.join(" "))),style:f,ref:i,children:t})}),vg="top-left";function Rb({spot:e,className:t}){const{Canvas:n}=Mt(),[r,s]=p.useState(vg),o=e.component,i=e.getBoxRect(),l=n.getWorldRectToScreen(i),c=p.useRef(null),u=n.getElement().clientHeight;return U1(c,{boxRectScreen:l,vwHeight:u,setPos:s,initialPos:vg}),!o||o.get("badgable")===!1?null:a.jsx(Nn,{className:F("pointer-events-none"),ref:c,style:kb,position:r,out:!0,children:a.jsx(ct,{className:F("shadow-md",t||bl(o).bg),s:"s",children:a.jsxs(D,{space:"xs",items:"center",nowrap:!0,children:[J1(o),a.jsx("div",{className:F("whitespace-nowrap max-w-36 truncate"),children:o.getName()})]})})})}function O3({spot:e,className:t}){const n=F("gjs-border",bl(e.component).border,t);return a.jsx(Bs,{spot:e,className:n,children:a.jsx(Rb,{spot:e})})}function _3({spot:e,className:t}){const n=Mt(),r=pe(),s=p.useRef(null),[o]=p.useState(kb),[i,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState("top-right"),h=e.component,g=e.getBoxRect(),v=n.Canvas.getWorldRectToScreen(g),m=e.getStyle({boxRect:g}),b=n.getSelected()===h,y=n.Canvas.getElement().clientHeight,x=op();p.useEffect(()=>{const T=setTimeout(async()=>{const _=await x.getItemsForComponent(h);l(_)},10);return()=>clearTimeout(T)},[h]),p.useEffect(()=>{const T=setTimeout(async()=>{const _=await T3(h,r);u(_)},10);return()=>clearTimeout(T)},[h]),U1(s,{boxRectScreen:v,vwHeight:y,setPos:f});const w=E=>{xt(E)?n.runCommand(E):E==null||E(n,"",{})},S=E=>{const T=E.currentTarget.getBoundingClientRect();x.show({items:i,x:T.x+T.width,y:T.y})},j=bl(h),C=F("border-2",j.border,t),O=F(j.bg,"overflow-hidden shadow-md");return a.jsx(Bs,{spot:e,spotStyles:m,className:C,children:b&&a.jsx(Nn,{ref:s,style:o,position:d,out:!0,children:a.jsx(ct,{className:O,s:"s",nopad:!0,block:!0,children:a.jsxs(D,{space:"x2s",items:"center",nowrap:!0,children:[c.map(({label:E,command:T=""})=>a.jsx(L,{children:a.jsx(ze,{border:!1,rounded:!1,size:"s",className:F("block gs-utl-py-1.5 gs-utl-px-1.5",H.hBgDark),onMouseDown:()=>w(T),children:E!=null&&E.startsWith("<svg")?a.jsx(wd,{className:F("w-4 fill-current"),svg:E}):E})},E)),!!i.length&&a.jsx(L,{children:a.jsx(ze,{border:!1,rounded:!1,size:"s",className:F("block",H.hBgDark),onClick:S,children:a.jsx(J,{icon:Y.dotsVertical,size:oe.s})})})]})})})})}async function T3(e,t){var d;if(!(e!=null&&e.em))return[];const n=e.em.getEditor(),r=e.toolbar.filter(Boolean),s=e.get("toolbarItems"),o=await tu(s,{items:r,component:e,editor:n}),i={items:o,component:e,editor:n},l=await tu(o,i),c=(d=t.sdkComponentsConfig)==null?void 0:d.toolbar;return await tu(c,{...i,items:l})}const tu=async(e,t)=>rt(e)?(await e(t)).filter(Boolean):t.items;var wn=(e=>(e.PaddingTop="padding-top",e.PaddingRight="padding-right",e.PaddingBottom="padding-bottom",e.PaddingLeft="padding-left",e.MarginTop="margin-top",e.MarginRight="margin-right",e.MarginBottom="margin-bottom",e.MarginLeft="margin-left",e))(wn||{});const{PaddingTop:pa,PaddingRight:nu,PaddingBottom:fa,PaddingLeft:ru,MarginTop:ha,MarginRight:su,MarginBottom:ga,MarginLeft:ou}=wn,A3=(e,t)=>{const n=t!=null&&t.startsWith("p")?"padding":"margin";return RO(e,n,t)},Or=(e,t,n={})=>{const r=Mt(),s=sv(),[o,i]=p.useState(),l=d=>{const h=r.Canvas.getFramesEl().classList,g=d?"add":"remove";h[g]("gs-utl-pointer-events-none"),h[g]("gs-utl-select-none")},c=d=>{var f,h;(f=n.setAltKey)==null||f.call(n,d.altKey),(h=n.setShiftKey)==null||h.call(n,d.shiftKey)};return p.useEffect(()=>{var M;const d=[pa,fa,ha,ga].includes(t),f=document.body.classList,h=e.component.getEl(),g=r.Styles.getSelected(),v=window.getComputedStyle(h),m=d?"!cursor-ns-resize":"!cursor-ew-resize",b=r.Canvas.getZoomMultiplier(),y={};let x=parseFloat(v[t])??0,w,S="",j={};for(const k of Object.values(wn)){const B=k;y[B]=v[B]}const C=(k,B)=>{const z=t==null?void 0:t.startsWith("p"),{altKey:P,shiftKey:A}=B,$=y,N={[pa]:A||t===fa&&P?k:$[pa],[nu]:A||t===ru&&P?k:$[nu],[fa]:A||t===pa&&P?k:$[fa],[ru]:A||t===nu&&P?k:$[ru]},I={[ha]:A||t===ga&&P?k:$[ha],[su]:A||t===ou&&P?k:$[su],[ga]:A||t===ha&&P?k:$[ga],[ou]:A||t===su&&P?k:$[ou]};return N[t]=k,I[t]=k,z?N:I},O=k=>{S&&(w?w.upValue(S,k):g==null||g.addStyle(j,k))},E=k=>{if(!o||!g)return;const B=d?k.clientY-o.y:k.clientX-o.x,z=Math.max(0,parseInt(`${x+B*b}`));S=`${z}px`,j=C(S,k),O({partial:!0}),s.show(z)},T=()=>{!o||!g||(i(void 0),l(!1),s.hide(),O())},_=k=>{c(k),j=C(S,k),O({partial:!0})};return o&&(document.addEventListener("pointermove",E),document.addEventListener("pointerup",T),document.addEventListener("keydown",_),document.addEventListener("keyup",_),f.add(m),(M=n.onActive)==null||M.call(n,t),n.useStyleProperty&&(w=A3(r,t),x=(w==null?void 0:w.getValue())??x)),()=>{var k;document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",T),document.removeEventListener("keydown",_),document.removeEventListener("keyup",_),f.remove(m),(k=n.onActive)==null||k.call(n,void 0)}},[o]),[p.useCallback(d=>{if(d.button!==0)return;const{clientX:f,clientY:h}=d;i({x:f,y:h}),l(!0),c(d.nativeEvent)},[]),!!o]},ma="gs-utl-border-2 gs-utl-border-white !gs-utl-box-content",bg="gs-utl-bg-[#7fc65e]",yg="gs-utl-bg-[#ebae70]",xg="gs-utl-h-5 gs-utl-w-1 gs-utl-mx-2 gs-utl-cursor-ew-resize",wg="gs-utl-h-1 gs-utl-w-5 gs-utl-my-2 gs-utl-cursor-ns-resize",M3=p.memo(function({spot:t,disabledHandler:n,useStyleProperty:r,onActive:s}){const[o,i]=p.useState(!1),[l,c]=p.useState(!1),u={onActive:s,setAltKey:i,setShiftKey:c,useStyleProperty:r},[d,f]=Or(t,"padding-top",u),[h,g]=Or(t,"padding-right",u),[v,m]=Or(t,"padding-bottom",u),[b,y]=Or(t,"padding-left",u),[x,w]=Or(t,"margin-top",u),[S,j]=Or(t,"margin-right",u),[C,O]=Or(t,"margin-bottom",u),[E,T]=Or(t,"margin-left",u),_=F(ma,bg,xg),M=F(ma,bg,wg),k=F(ma,yg,xg),B=F(ma,yg,wg),z=f||g||m||y,P=w||j||O||T,A=z||P,$=(G,Z)=>{let le=!1;const se=z&&l,me=P&&l;switch(Z){case"padding-top":le=m&&o||se;break;case"padding-right":le=y&&o||se;break;case"padding-bottom":le=f&&o||se;break;case"padding-left":le=g&&o||se;break;case"margin-top":le=O&&o||me;break;case"margin-right":le=T&&o||me;break;case"margin-bottom":le=w&&o||me;break;case"margin-left":le=j&&o||me;break}return!A||G||le},N=!!(n!=null&&n.padding),I=!!(n!=null&&n.margin),V=!N&&$(f,"padding-top"),U=!N&&$(g,"padding-right"),X=!N&&$(m,"padding-bottom"),ne=!N&&$(y,"padding-left"),K=!I&&$(w,"margin-top"),Q=!I&&$(j,"margin-right"),ce=!I&&$(O,"margin-bottom"),te=!I&&$(T,"margin-left");return a.jsxs(a.Fragment,{children:[V&&a.jsx(Nn,{position:"top-center",onPointerDown:d,children:a.jsx(ct,{className:M,s:"s",pill:!0,block:!0,nopad:!0})}),U&&a.jsx(Nn,{position:"center-right",onPointerDown:h,children:a.jsx(ct,{className:_,s:"s",pill:!0,block:!0,nopad:!0})}),X&&a.jsx(Nn,{position:"bottom-center",onPointerDown:v,children:a.jsx(ct,{className:M,s:"s",pill:!0,block:!0,nopad:!0})}),ne&&a.jsx(Nn,{position:"center-left",onPointerDown:b,children:a.jsx(ct,{className:_,s:"s",pill:!0,block:!0,nopad:!0})}),K&&a.jsx(Nn,{position:"top-center",onPointerDown:x,out:!0,children:a.jsx(ct,{className:B,s:"s",pill:!0,block:!0,nopad:!0})}),Q&&a.jsx(Nn,{position:"center-right",onPointerDown:S,out:!0,children:a.jsx(ct,{className:k,s:"s",pill:!0,block:!0,nopad:!0})}),ce&&a.jsx(Nn,{position:"bottom-center",onPointerDown:C,out:!0,children:a.jsx(ct,{className:B,s:"s",pill:!0,block:!0,nopad:!0})}),te&&a.jsx(Nn,{position:"center-left",onPointerDown:E,out:!0,children:a.jsx(ct,{className:k,s:"s",pill:!0,block:!0,nopad:!0})})]})}),Sg=(e,t)=>{var n;return!!((n=nv(e,t))!=null&&n.isVisible())},R3=(e={})=>{const[t,n,r,s]=oh(e.padding||""),[o,i,l,c]=oh(e.margin||"");return{paddingTop:e[wn.PaddingTop]||t,paddingRight:e[wn.PaddingRight]||n,paddingBottom:e[wn.PaddingBottom]||r,paddingLeft:e[wn.PaddingLeft]||s,marginTop:e[wn.MarginTop]||o,marginRight:e[wn.MarginTop]||i,marginBottom:e[wn.MarginTop]||l,marginLeft:e[wn.MarginTop]||c}};function k3({spot:e,className:t}){const n=Mt(),{isProjectTypeEmail:r}=pe(),[s,o]=p.useState(),[i,l]=p.useState({padding:!1,margin:!1}),{el:c,component:u}=e,d=e.getBoxRect(),f=n.Canvas.getZoomDecimal(),h=d.height*f,g=d.width*f,v=e.getStyle({boxRect:d}),m=n.getSelectedAll().includes(u),b=n.getSelected()===u,y=(s==null?void 0:s.startsWith("p"))??!1,x=(s==null?void 0:s.startsWith("m"))??!1,w=R3(r?u==null?void 0:u.getStyle():{});if(p.useEffect(()=>{m&&l({padding:!Sg(n,"padding"),margin:!Sg(n,"margin")})},[m]),e.type==="spacing"&&m)return null;const S={borderColor:"rgba(196, 222, 184, 0.5)",borderStyle:"solid"},j={borderColor:"rgba(249, 204, 158, 0.5)",borderStyle:"solid",boxSizing:"content-box"},C=window.getComputedStyle(c);S.borderTopWidth=w.paddingTop||C.paddingTop,S.borderRightWidth=w.paddingRight||C.paddingRight,S.borderBottomWidth=w.paddingBottom||C.paddingBottom,S.borderLeftWidth=w.paddingLeft||C.paddingLeft,j.borderTopWidth=w.marginTop||C.marginTop,j.borderRightWidth=w.marginTop||C.marginRight,j.borderBottomWidth=w.marginTop||C.marginBottom,j.borderLeftWidth=w.marginTop||C.marginLeft;const O={...v,...S},E={...v,...j,translate:`${d.x-parseFloat(C.marginLeft)}px ${d.y-parseFloat(C.marginTop)}px`};return a.jsxs(a.Fragment,{children:[(!m||y)&&a.jsx(Bs,{spot:e,spotStyles:O,className:F(t)}),(!m||x)&&a.jsx(Bs,{spot:e,spotStyles:E,className:F(t)}),b&&(h>60&&g>60||s)&&a.jsx(Bs,{spot:e,spotStyles:v,className:F(t),children:a.jsx(M3,{spot:e,onActive:o,disabledHandler:i,useStyleProperty:r})})]})}function L3({spot:e,className:t}){const n=F("gjs-border-2",H.cmpTargetBr,H.cmpTargetBgOpac,t);return a.jsx(Bs,{spot:e,className:n,children:a.jsx(Rb,{spot:e,className:F(H.cmpTargetBg)})})}const $3=9,kb={padding:`${$3}px 0`};function N3({spot:e}){const t=Mt(),{Canvas:n}=t,r=pe(),s=t.getEditing(),{type:o,component:i}=e,l=o==="select",c=o==="spacing",u=o==="hover",d=o==="target";return!e.el||!n.hasCustomSpot(o)||r.isSelectingTarget&&!d||(u||c)&&s&&(i!=null&&i.isChildOf(s))?null:a.jsxs(a.Fragment,{children:[(c||l)&&a.jsx(k3,{spot:e,className:F("z-0")}),d&&a.jsx(L3,{spot:e,className:F("z-10")}),l&&a.jsx(_3,{spot:e,className:F("z-20")}),u&&a.jsx(O3,{spot:e,className:F("z-30")})]})}const jg=new WeakMap;function Lb(e){if(!e)return()=>null;const t=jg.get(e);if(t)return t;const n=function({children:s}){return $t.createPortal(s,e)};return jg.set(e,n),n}const D3=p.memo(function({children:t}){const n=up(),[r,s]=p.useState([]),[o,i]=p.useState({});p.useEffect(()=>{if(!n)return;n.onReady(()=>{const d=n.Canvas.getSpotsEl(),f=Lb(d);i({Container:f})});const c="canvas:spot",u=()=>{const d=n.Canvas.getSpots();s(d)};return n.on(c,u),()=>{n.off(c,u)}},[n]);const{Container:l}=o;return n&&l?a.jsx(l,{children:t({spots:r})}):null}),I3=re(function(){const{isCanvasPanning:t}=pe();return a.jsx(D3,{children:({spots:n})=>a.jsx(Gn,{show:!t,...Ym,children:n.map(r=>a.jsx(N3,{spot:r},r.id))})})});var $b=(e=>(e.primary="primary",e.outline="outline",e.shallow="shallow",e))($b||{}),Nb=(e=>(e.none="",e.xs="xs",e.s="s",e.m="m",e.lg="lg",e))(Nb||{});const V3="gs-cmp-button",Np=p.memo(re(function({className:t,children:n,tooltip:r,variant:s,onClick:o,editorEvents:i,label:l,size:c,icon:u,active:d,buttonType:f,disabled:h,...g}){const{editor:v}=pe(),[m,b]=p.useState(()=>({disabled:h,variant:s,active:d,className:t,tooltip:r,icon:u,size:c,label:l})),y=m.variant,x=y==="outline",w=y==="primary"?"pr":x?"out-clear":void 0,S=m.label,j=C=>{v&&(o==null||o({event:C,editor:v,state:m,setState:O=>b(E=>({...E,...O}))}))};return p.useEffect(()=>{if(!i||!v)return;const C=Object.keys(i).reduce((E,T)=>(E[T]=(_={})=>{i[T]({fromEvent:_,editor:v,state:m,setState:M=>b(k=>({...k,...M}))})},E),{}),O=Object.keys(C);return O.forEach(E=>v.on(E,C[E])),()=>{O.forEach(E=>v.off(E,C[E]))}},[v,m]),a.jsx(At,{title:m.tooltip,className:W(V3),classNameWrp:m.className,variant:w,icon:m.icon,active:m.active,size:m.size,disabled:m.disabled,onClick:j,border:x,type:f,block:!0,...g,children:S?rt(S)?S({editor:v}):S:n})})),H3="gs-cmp-button-group-field",B3=p.memo(re(function({className:t,label:n,name:r,value:s,options:o,size:i,required:l,disabled:c,onChange:u,editorEvents:d}){const{editor:f}=pe(),[h,g]=p.useState(()=>({className:t,label:n,name:r,value:s,options:o,size:i,required:l,disabled:c})),v=m=>{u({value:m,editor:f,state:h,setState:b=>g(y=>({...y,...b}))})};return rc({editor:f,editorEvents:d,localState:h,setLocalState:g}),a.jsx(_t,{className:W(H3,h.className),label:h.label,name:h.name,value:h.value,options:h.options??[],size:h.size,required:h.required,disabled:h.disabled,onChange:v})}));function Xl({colors:e,...t}){return e?a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 79 79",...t,children:[a.jsx("path",{fill:"url(#a)",d:"M39.6 77.1a37.5 37.5 0 1 0 0-75 37.5 37.5 0 0 0 0 75Z"}),a.jsx("path",{stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"5",d:"m40 19-14.58 8.79a6.36 6.36 0 0 0-2.82 5.33v14.13a6.14 6.14 0 0 0 3.12 5.13l11.21 5.8a6.12 6.12 0 0 0 6.14 0l11.41-6.3a6.09 6.09 0 0 0 3.12-5.13V33.12c0-1.28-1.4-2.07-2.52-1.48l-15.08 8"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"a",x1:"2.1",x2:"77.2",y1:"39.6",y2:"39.6",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{stopColor:"#D7709E"}),a.jsx("stop",{offset:"1",stopColor:"#A84A87"})]})})]}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 76 76",...t,children:a.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M64.117 64.117a37.5 37.5 0 1 1-53.034-53.034 37.5 37.5 0 0 1 53.034 53.034ZM39.29 19.14a2.5 2.5 0 1 0-2.582-4.282l-14.583 8.79-.05.03-.047.032a8.861 8.861 0 0 0-2.917 3.229 8.729 8.729 0 0 0-1.011 4.203V45.293l.002.047a8.64 8.64 0 0 0 1.25 4.164 8.78 8.78 0 0 0 3.115 3.043l.05.03.053.027 11.165 5.769a8.62 8.62 0 0 0 4.264 1.127c1.507 0 2.99-.394 4.295-1.145l11.394-6.276.006-.004a8.585 8.585 0 0 0 3.178-3.05 8.443 8.443 0 0 0 1.227-4.225V31.123c0-3.265-3.502-5.122-6.19-3.688l-.005.003-15.076 7.995a2.5 2.5 0 0 0 2.342 4.418l13.93-7.387v12.263a3.444 3.444 0 0 1-.502 1.703 3.584 3.584 0 0 1-1.326 1.271l-.003.002-11.409 6.284-.024.014-.023.013a3.619 3.619 0 0 1-1.814.486 3.62 3.62 0 0 1-1.814-.486l-.052-.03-.054-.028-11.155-5.764a3.78 3.78 0 0 1-1.297-1.283 3.642 3.642 0 0 1-.527-1.715V31.081a3.73 3.73 0 0 1 .432-1.806 3.858 3.858 0 0 1 1.23-1.377L39.29 19.14Z",clipRule:"evenodd"})})}const F3=p.memo(re(function(){const{isStage:e,updateStudio:t}=pe(),{isDarkTheme:n}=Zt(),r=p.useRef(null),{bg:s,text:o}=Xm(n);return W1({ref:r,show:e,update:n,reload:t,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",right:"0",left:"0"},node:a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 30px 10px;
                  border-radius: 10px;
                  margin: 5px;
                  font-size: 30px;
                  background-color: ${s};
                  color: ${o};
                  width: 95%;
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 10px;
              }
              .gs-gs-logo {
                  width: 35px;
              }
            `}),a.jsx(Ht,{className:"gs-banner",children:a.jsxs(D,{className:"gs-banner-row",children:[a.jsx(Xl,{className:"gs-gs-logo",colors:!0}),a.jsx("div",{children:"GrapesJS Studio Demo!"})]})})]})}),a.jsx("div",{ref:r})})),z3=()=>`https://grapesjs.com?ref=${window.location.host}`,U3=p.memo(re(function(){const{updateStudio:e,showPoweredBy:t}=pe(),{isDarkTheme:n}=Zt(),r=p.useRef(null),{bg:s,text:o,link:i}=Xm(n);return W1({ref:r,show:t,update:n,reload:e,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",left:"0"},node:a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 5px 10px;
                  border-radius: 9999px;
                  margin: 5px;
                  font-size: 12px;
                  background-color: ${s};
                  color: ${o};
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 3px;
              }
              .gs-link {
                  color: ${i};
                  text-decoration: none;
              }
              .gs-logo {
                  width: 20px;
              }
             `}),a.jsx(Ht,{className:"gs-banner",children:a.jsxs(D,{className:"gs-banner-row",children:[a.jsx("a",{className:"gs-link",href:z3(),target:"_blank",children:"GrapesJS Studio"}),a.jsx(Xl,{className:"gs-logo",colors:!0})]})})]})}),a.jsx("div",{ref:r})})),W3=p.memo(re(function(){const{isReady:t}=pe();return a.jsxs(a.Fragment,{children:[a.jsx("div",{children:!t&&a.jsx(Ni,{className:F("z-10"),abs:!0,full:!0})}),a.jsx(F3,{}),a.jsx(U3,{})]})})),G3="gs-canvas",Db=p.memo(function({className:t,style:n,grow:r}){return a.jsx(i5,{style:n,className:W(G3,"gs-utl-relative gs-utl-bg-gray-50 dark:gs-utl-bg-zinc-800",r&&"gs-utl-flex-grow",t),children:a.jsx(bs,{children:a.jsx(W3,{})})})}),Zl=({className:e,grow:t,alignItems:n,justifyContent:r})=>W(e,H.br,t&&"gs-utl-flex-grow",n==="start"&&"gs-utl-items-start",n==="end"&&"gs-utl-items-end",n==="center"&&"gs-utl-items-center",n==="baseline"&&"gs-utl-items-baseline",n==="stretch"&&"gs-utl-items-stretch",r==="start"&&"gs-utl-justify-start",r==="end"&&"gs-utl-justify-end",r==="center"&&"gs-utl-justify-center",r==="between"&&"gs-utl-justify-between",r==="around"&&"gs-utl-justify-around",r==="evenly"&&"gs-utl-justify-evenly"),Jl=({style:e,width:t,height:n,gap:r})=>({height:n,gap:r,width:t,...e}),Ss=p.memo(re(function({id:t,children:n,className:r,style:s,width:o,gap:i,height:l,grow:c,alignItems:u,justifyContent:d,htmlAttrs:f,...h}){const{layoutsById:g}=cp(),[v,m]=p.useState({}),b=p.useMemo(()=>Jl({height:l,gap:i,width:o,style:s}),[s,o,l,i]),y=Zl({className:r,grow:c,alignItems:u,justifyContent:d});p.useEffect(()=>{if(t)return g.set(t,{state:v,setState:m}),()=>{g.delete(t)}},[g,v]);const x=h.as??"div";return a.jsx(x,{style:b,className:y,...h,...f,children:v.children??n})})),Dp=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),K3=Dp?Promise.resolve().then(function(){return Q3}):Promise.resolve().then(function(){return ok});async function q3(...e){return(await K3).default(...e)}Dp?Promise.resolve().then(function(){return tk}):Promise.resolve().then(function(){return ak});const Y3=Dp?Promise.resolve().then(function(){return rk}):Promise.resolve().then(function(){return ck});async function X3(...e){return(await Y3).default(...e)}const Z3=async e=>{const t=await e.getFile();return t.handle=e,t};var J3=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach((s,o)=>{t[o]={description:s.description||"Files",accept:{}},s.mimeTypes?s.mimeTypes.map(i=>{t[o].accept[i]=s.extensions||[]}):t[o].accept["*/*"]=s.extensions||[]});const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(Z3));return e[0].multiple?r:r[0]},Q3={__proto__:null,default:J3};function Oa(e){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(s){return{value:s,done:r}})}return Oa=function(n){this.s=n,this.n=n.next},Oa.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):t(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):t(r.apply(this.s,arguments))}},new Oa(e)}const Ib=async(e,t,n=e.name,r)=>{const s=[],o=[];var i,l=!1,c=!1;try{for(var u,d=function(f){var h,g,v,m=2;for(typeof Symbol<"u"&&(g=Symbol.asyncIterator,v=Symbol.iterator);m--;){if(g&&(h=f[g])!=null)return h.call(f);if(v&&(h=f[v])!=null)return new Oa(h.call(f));g="@@asyncIterator",v="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());l=!(u=await d.next()).done;l=!1){const f=u.value,h=`${n}/${f.name}`;f.kind==="file"?o.push(f.getFile().then(g=>(g.directoryHandle=e,g.handle=f,Object.defineProperty(g,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>h})))):f.kind!=="directory"||!t||r&&r(f)||s.push(Ib(f,t,h,r))}}catch(f){c=!0,i=f}finally{try{l&&d.return!=null&&await d.return()}finally{if(c)throw i}}return[...(await Promise.all(s)).flat(),...await Promise.all(o)]};var ek=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await t.values()).next()).done?[t]:Ib(t,e.recursive,void 0,e.skipDirectory)},tk={__proto__:null,default:ek},nk=async(e,t=[{}],n=null,r=!1,s=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const o=[];let i=null;if(e instanceof Blob&&e.type?i=e.type:e.headers&&e.headers.get("content-type")&&(i=e.headers.get("content-type")),t.forEach((u,d)=>{o[d]={description:u.description||"Files",accept:{}},u.mimeTypes?(d===0&&i&&u.mimeTypes.push(i),u.mimeTypes.map(f=>{o[d].accept[f]=u.extensions||[]})):i?o[d].accept[i]=u.extensions||[]:o[d].accept["*/*"]=u.extensions||[]}),n)try{await n.getFile()}catch(u){if(n=null,r)throw u}const l=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:o,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&s&&s(l);const c=await l.createWritable();return"stream"in e?(await e.stream().pipeTo(c),l):"body"in e?(await e.body.pipeTo(c),l):(await c.write(await e),await c.close(),l)},rk={__proto__:null,default:nk},sk=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{const r=document.createElement("input");r.type="file";const s=[...e.map(c=>c.mimeTypes||[]),...e.map(c=>c.extensions||[])].join();r.multiple=e[0].multiple||!1,r.accept=s||"",r.style.display="none",document.body.append(r);const o=c=>{typeof i=="function"&&i(),t(c)},i=e[0].legacySetup&&e[0].legacySetup(o,()=>i(n),r),l=()=>{window.removeEventListener("focus",l),r.remove()};r.addEventListener("click",()=>{window.addEventListener("focus",l)}),r.addEventListener("change",()=>{window.removeEventListener("focus",l),r.remove(),o(r.multiple?Array.from(r.files):r.files[0])}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),ok={__proto__:null,default:sk},ik=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const s=i=>{typeof o=="function"&&o(),t(i)},o=e[0].legacySetup&&e[0].legacySetup(s,()=>o(n),r);r.addEventListener("change",()=>{let i=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(i=i.filter(l=>l.webkitRelativePath.split("/").every(c=>!e[0].skipDirectory({name:c,kind:"directory"})))):i=i.filter(l=>l.webkitRelativePath.split("/").length===2),s(i)}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),ak={__proto__:null,default:ik},lk=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement("a");let r=e;"body"in e&&(r=await async function(i,l){const c=i.getReader(),u=new ReadableStream({start:h=>async function g(){return c.read().then(({done:v,value:m})=>{if(!v)return h.enqueue(m),g();h.close()})}()}),d=new Response(u),f=await d.blob();return c.releaseLock(),new Blob([f],{type:l})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(await r);const s=()=>{typeof o=="function"&&o()},o=t.legacySetup&&t.legacySetup(s,()=>o(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),s()}),n.click(),null},ck={__proto__:null,default:lk};const uk={NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.32"}.REACT_APP_VERSION??"1.0.0",dk=re(function(){var n;const t=(n=window.grapesjs)==null?void 0:n.version;return a.jsxs(D,{col:!0,space:"m",children:[a.jsx(D,{justify:"center",children:a.jsxs(L,{className:F("relative"),children:[a.jsx(Xl,{className:F("w-24 opacity-50")}),t&&a.jsx(ct,{className:F(H.bgA,"absolute gs-utl-right-[-20px] bottom-0"),label:`v${t}`,s:"s",pill:!0})]})}),a.jsxs(L,{children:[a.jsxs("p",{children:[a.jsx("b",{children:"GrapesJS Studio"})," is an innovative experimental editor, initially created to improve and extend the customization capability of the"," ",a.jsx("a",{className:F(cs.link),href:"https://grapesjs.com",children:"GrapesJS"})," ","library. Beyond pushing the evolution of the core library itself, this application aspires to empower individuals in creating and managing their web projects autonomously, free from subscriptions or dependency on the internet connection."]}),a.jsx("br",{}),a.jsxs("p",{children:["If you like the vision of this project and you're eager to play a role in its continued development, consider becoming a backer or sponsor through"," ",a.jsx("a",{className:F(cs.link),href:"https://opencollective.com/grapesjs",children:"Open Collective"}),"."]})]}),a.jsxs(L,{className:F(H.txtLowEmphasis,"text-right"),children:["GrapesJS Studio: v",uk]})]})}),pk=re(function(){return a.jsxs(D,{col:!0,space:"m",children:[a.jsx(D,{justify:"center",children:a.jsx(L,{className:R("relative"),children:a.jsx(Xl,{className:R("w-24 opacity-50")})})}),a.jsx(L,{children:a.jsxs("p",{children:["We're excited to introduce the GrapesJS Studio SDK, an embeddable version of the Studio editor.",a.jsx("br",{}),a.jsx("br",{}),"The Studio SDK offers a powerful and flexible web editing experience that can be seamlessly integrated into your platform as a white-label editor. This enables your users to effortlessly create and manage content with advanced tools.",a.jsx("br",{}),a.jsx("br",{}),"You can try the initial release of the Studio SDK by creating a license and following the instructions on the"," ",a.jsx("a",{className:R(cs.link),href:"/dashboard/sdk/licenses",target:"_blank",children:"Studio SDK license page"}),a.jsx("br",{}),a.jsx("br",{}),"If you have any questions or need assistance with specific use cases, please fill out this"," ",a.jsx("a",{className:R(cs.link),href:"https://forms.gle/VUycp3rc8iCpbh9k8",target:"_blank",rel:"noreferrer",children:"form"})," ","and we'll get back to you as soon as possible."]})})]})});function fk({onCopy:e,getValue:t,value:n,title:r="Copy",...s}){const[o,i]=p.useState(!1),l=()=>{dx((t==null?void 0:t())??n),i(!0),e==null||e()};return p.useEffect(()=>{if(!o)return;const c=setTimeout(()=>i(!1),3e3);return()=>clearTimeout(c)},[o]),a.jsx(At,{onClick:l,title:r,type:"button",size:"lg",withBg:!0,...s,children:a.jsx(J,{className:F(o&&H.tA),icon:o?Y.check:Y.contentCopy,size:oe.s})})}function Ip(e){return e=e.replace(/\s*([\{\}\:\;\,])\s*/g,"$1"),e=e.replace(/;\s*;/g,";"),e=e.replace(/\,[\s\.\#\d]*{/g,"{"),e=e.replace(/([^\s])\{([^\s])/g,`$1 {
	$2`),e=e.replace(/([^\s])\}([^\n]*)/g,`$1
}
$2`),e=e.replace(/([^\s]);([^\s\}])/g,`$1;
	$2`),e}const Vb=re(function(){const t=Mt(),n=Oe(),{Styles:r}=t,{isDarkTheme:s}=Zt(),o=r.getSelected(),[i,l]=p.useState(0),c=o?Ip(o==null?void 0:o.toCSS({allowEmpty:!0})):"",[u,d]=p.useState(c);p.useEffect(()=>{const h=()=>l(v=>++v),g=r.events.custom;return t.on(g,h),()=>{t.off(g,h)}},[r,t]);const f=()=>{if(u){const h=t.Parser.parseCss(u)[0];h&&(o==null||o.setStyle(h.style))}};return a.jsxs(D,{className:R("relative"),col:!0,full:!0,children:[a.jsx(L,{grow:!0,children:o?a.jsx(Nr,{padding:5,language:"css",value:c,onChange:d,isDarkTheme:s,clean:!0},i):n.t("noCode")}),a.jsx(ze,{className:R("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:f,children:n.t("update")})]})}),Cg=[{id:"html",label:"HTML"},{id:"mjml",label:"MJML"}],hk=re(function(t){const n=Oe(),r=pe(),{isProjectTypeEmail:s}=r,o=r.editor,[i,l]=p.useState(Cg[0].id),[c,u]=p.useState(),{isDarkTheme:d}=Zt(),[f]=p.useState(()=>Ip(o.getCss())),[h,g]=p.useState(),v=x=>n.t(`actions.showCode.${x}`),m={...t.options,...s?{export:!1}:{}},b=()=>{o.runCommand("gjs-export-zip",{filenamePfx:"gjs-export",root:async x=>{const w=await Ga(x),S={};for(const j in w){const C=w[j],{filename:O,content:E}=C;if(C.path){const T=C.path.split("/").filter(Boolean);let _=S;for(const M of T)_[M]=_[M]||{},_=_[M];_[O]=E}else S[O]=E}return S}})};p.useEffect(()=>{var x;if(s){let w=o.getHtml();if(i!=="mjml")try{const S=o.runCommand("mjml-code-to-html");(x=S.errors)!=null&&x.length&&console.warn(S.errors),w=S.html}catch(S){console.error(S)}u(w)}else(async()=>{const j=(await Ga(o,{page:o.Pages.getSelected(),skipProject:!0,styles:"skip"})).find(C=>C.mimeType==="text/html");j&&u(j.content)})()},[i]),p.useEffect(()=>{var x;h&&((x=h.getModel())==null||x.setValue(c),Cv(h))},[h,c]);const y={padding:5,isDarkTheme:d,clean:!0};return a.jsxs(D,{col:!0,space:"m",children:[a.jsxs(D,{className:R("h-96"),space:"m",children:[a.jsxs(L,{className:R("relative"),grow:!0,children:[s&&a.jsxs(D,{className:R("absolute top-3 right-3 z-10"),space:"s",nowrap:!0,children:[a.jsx(Se,{value:i,onChange:l,options:Cg,className:R("min-w-24")}),a.jsx(fk,{getValue:()=>h.getModel().getValue()})]}),c!==void 0&&a.jsx(Nr,{value:c,language:"html",onMount:g,...y})]}),!s&&a.jsx(L,{grow:!0,children:a.jsx(Nr,{value:f,language:"css",...y})})]}),m.export!==!1&&a.jsx(D,{justify:"end",children:a.jsx(ze,{size:"m2",variant:"pr",onClick:b,children:v("exportButton")})})]})}),gk=()=>[{id:Ne.web,label:lr(Ne.web),content:a.jsxs(D,{space:"s",children:[a.jsx(J,{icon:Y.web,size:oe.s}),a.jsx("span",{children:lr(Ne.web)})]})},{id:Ne.email,label:lr(Ne.email),content:a.jsxs(D,{space:"s",children:[a.jsx(J,{icon:Y.emailOutline,size:oe.s}),a.jsx("span",{children:lr(Ne.email)})]})}],Vp=e=>{const t="gs-utl-grid-cols-4",n=parseInt(`${e||4}`,10);return n===1?"gs-utl-grid-cols-1":n===2?"gs-utl-grid-cols-2":n===3?"gs-utl-grid-cols-3":n===4?t:n===5?"gs-utl-grid-cols-5":n===6?"gs-utl-grid-cols-6":n===7?"gs-utl-grid-cols-7":n===8?"gs-utl-grid-cols-8":n===9?"gs-utl-grid-cols-9":n===10?"gs-utl-grid-cols-10":n===11?"gs-utl-grid-cols-11":n===12?"gs-utl-grid-cols-12":t},mk=e=>!!(e&&!Array.isArray(e)&&typeof e=="object");async function vk(e){const t=e.map(({id:i,src:l})=>({id:i,src:l})),n=e.reduce((i,l)=>(i[l.id]=l,i),{}),r=[],s=[];return(await hx(t)).forEach(i=>{i.status==="fulfilled"?r.push(n[i.value]):s.push(n[i.reason])}),{loaded:r,failed:s}}const bk=async e=>{const t=[...e],n={};if(t.length){const r={},s=[];if(t.forEach((o,i)=>{mk(o)&&(r[o.id]={index:i},s.push(o))}),s.length){const{loaded:o}=await vk(s);o.forEach(({id:i,options:l})=>{r[i].loaded=!0,n[i]=l||{}})}Object.keys(r).forEach(o=>{const i=r[o];i.loaded?t[i.index]=o:t[i.index]=!1})}return{plugins:t.filter(Boolean),pluginOptions:n}},yk=(e,t,n)=>{e.loadData(t);let r=`${e.getHtml()}<style>${e.getCss()}</style>`;if(n===Ne.email)try{r=e.runCommand("mjml-code-to-html").html}catch(s){console.error(s)}return r.replace("<body","<div data-body").replace("</body>","</div>")},xk=async(e,t,n)=>{const r=ub(t,{appStore:n}),s=await bk(r);return e.init({headless:!0,projectData:{},noticeOnUnload:!1,storageManager:!1,plugins:[...s.plugins,o=>{o.Storage.setCurrent("")}],pluginsOpts:s.pluginOptions,protectedCss:`
      * { box-sizing: border-box; }
      [data-body] {
        margin: 0;
        background-color: white;
        width: 100%;
        height: 100%;
        color: initial;
        font-family: initial;
        font-weight: initial;
        line-height: initial;
      }
      [data-body]:before {
        content: "";
        display: block;
        height: 0px;
        overflow: hidden;
      }
    `})};function Hp({children:e,text:t,onConfirm:n,onCancel:r,className:s="w-[200px]",confirmButtonProps:o={},...i}){const l=Oe();return a.jsx(Cr,{...i,overlay:!0,title:!1,buttonAs:"span",handler:e,children:({close:c})=>a.jsxs(D,{className:R(s),space:"m",col:!0,children:[a.jsx(L,{grow:!0,className:R("text-center"),children:t||l.t("confirmAction")}),a.jsxs(D,{justify:"center",items:"center",space:"m",children:[a.jsx(ze,{variant:"pr",size:"m2",onClick:()=>{c(),n==null||n()},...o,children:l.t("confirm")}),a.jsx(ze,{size:"m2",onClick:()=>{c(),r==null||r()},children:l.t("cancel")})]})]})})}const Eg=new Map,Pg=new Map,wk=async({html:e="",el:t})=>{const n=e,r={};if(document.body.attachShadow){const s=t.shadowRoot||t.attachShadow({mode:"open"});s.innerHTML=n}return r},Sk=re(function({template:t,projectType:n,skipProjectNamePopover:r,className:s,onSelect:o,onRemove:i}){var O;const l=Oe(),c=pe(),u=c.editor,[d,f]=p.useState(""),h=p.useRef(null),g=l.t("projectManager.projectName"),v=!t.isTemplate&&c.currentProjectId===((O=t.data.custom)==null?void 0:O.id),m=n===Ne.web,b=!t.isTemplate||r,y=()=>{b&&(o==null||o({editor:u,template:t,loadTemplate:x}))},x=c.setProject,w=E=>{E.preventDefault(),o({editor:u,template:t,loadTemplate:x})};p.useEffect(()=>{const T=setTimeout(async()=>{if(!h.current||!u)return;const _=`${t.isTemplate?"t-":""}${t.id}`;let M=Eg.get(_);if(!M){let B=Pg.get(n);B||(B=await xk(u.config.grapesjs,n,c),Pg.set(n,B)),M=yk(B,t.data,n),Eg.set(_,M)}const k=h.current;wk({el:k,html:M})});return()=>clearTimeout(T)},[h,u,n,t.data]);const{media:S,author:j}=t,C=a.jsx(ze,{className:F("text-sm"),size:"m2",variant:"pr",onClick:y,disabled:v,children:l.t("select")});return a.jsx(Ht,{padding:!1,className:F("overflow-hidden max-w-full group",s),children:a.jsxs(D,{col:!0,children:[a.jsxs(L,{className:F("relative group h-36 bg-checker max-w-full"),children:[a.jsx("div",{className:F("gs-utl-relative","gs-utl-h-full","gs-utl-overflow-hidden","gs-utl-flex","gs-utl-justify-center"),children:S?a.jsx("img",{src:S,alt:t.name,className:F("max-w-full")}):a.jsx("div",{className:F("gs-utl-w-[1200px]","gs-utl-flex-shrink-0","gs-utl-flex-grow-0","gs-utl-origin-top","gs-utl-bg-white","gs-utl-scale-[0.232]","gs-utl-h-[431.034%]"),ref:h})}),v&&a.jsx(ct,{className:F("absolute top-2 right-2",H.bgA2),label:l.t("current"),s:"s",pill:!0}),a.jsx(D,{justify:"center",items:"center",className:F(qe.coverAbs,H.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:b?C:a.jsx(Cr,{overlay:!0,title:!1,buttonAs:"span",handler:C,children:()=>a.jsx("form",{onSubmit:w,children:a.jsxs(D,{space:"m",col:!0,children:[a.jsx(L,{children:a.jsx(nt,{size:"s",value:d,onChange:f,placeholder:g,required:!0})}),a.jsx(L,{children:a.jsx(ze,{type:"submit",variant:"pr",size:"m2",full:!0,children:l.t("load")})})]})})})})]}),a.jsxs(D,{className:F("gjs-p-2 max-w-full",ee.bt,H.br),col:!0,space:"s",children:[a.jsxs(D,{className:F("text-sm w-full"),space:"s",nowrap:!0,children:[a.jsx(L,{className:F(qe.txtEllips,"max-w-full"),grow:!0,children:t.name}),!!j&&a.jsxs(L,{children:["by"," ",a.jsx("a",{className:F(cs.link),href:j.link,rel:"noreferrer",target:"_blank",children:j.name})]})]}),a.jsxs(D,{items:"center",children:[m&&a.jsxs(L,{className:F("gjs-mr-auto"),children:[l.t("projectManager.pages"),": ",t.data.pages.length]}),!t.isTemplate&&i&&a.jsx(L,{className:F("gjs-ml-auto"),children:a.jsx(Hp,{onConfirm:()=>i(t),className:"",children:a.jsx(At,{title:l.t("delete"),children:a.jsx(J,{icon:Y.delete,size:oe.sx})})})})]})]})]})})}),Hb=re(function({templates:e,projectType:t,content:n,skipProjectNamePopover:r,onSelect:s,onRemove:o}){const[i]=Wl(),c=Oe().tScoped("templates"),d=pe().editor,f=Vp(n==null?void 0:n.itemsPerRow),h=s??(({template:g,loadTemplate:v})=>v(g));return a.jsx(a.Fragment,{children:d&&e?e.length===0?a.jsx(D,{justify:"center",children:c("notFound")}):a.jsx($i,{data:e,listClassName:F("grid gap-2 gjs-pr-2",f),itemContent:(g,v)=>a.jsx(Sk,{template:v,projectType:t,onSelect:h,onRemove:o,skipProjectNamePopover:r},v.id)},i):a.jsx(Ni,{})})}),jk=re(function(){var m;const t=pe(),n=lv(),{filteredTemplates:r,projectSourceFilter:s,projectTypeFilter:o}=n,i=Oe(),l=Tn(),{sdkOptions:c}=t,u=i.tScoped("projectManager"),d=async({loadTemplate:b,template:y})=>{b(y),l.close()},f=async b=>{n.setProjectTypeFilter(b),await n.loadAllTemplates()},h=b=>{n.removeProject(b.id),n.loadProjects()},g=p.useMemo(()=>[{id:ii.Existing,label:u("existentProjects")},{id:ii.Templates,label:u("templates")}],[i]),v=((m=c.project)==null?void 0:m.types)&&vd();return p.useEffect(()=>{n.loadAllTemplates()},[]),a.jsxs(D,{col:!0,full:!0,space:"m",children:[v&&a.jsx(D,{items:"center",space:"m",children:a.jsx(L,{className:F("gjs-ml-auto"),children:a.jsx(Se,{value:o,onChange:f,options:gk(),handlerSelected:b=>a.jsxs(a.Fragment,{children:[a.jsx("b",{children:u("projectType")}),": ",b.label]})})})}),a.jsx(L,{children:a.jsx(xs,{tabs:g,value:s,onChange:n.setProjectSourceFilter})}),a.jsx(L,{grow:!0,children:a.jsx(Hb,{templates:r,projectType:Ne[o],onSelect:d,onRemove:h,content:{itemsPerRow:3}})})]})}),Ck=[{id:gr.auto,label:"Auto"},{id:gr.dark,label:"Dark"},{id:gr.light,label:"Light"}],Ek={size:"s"},iu=".grapesjs",Pk=(e,t)=>{const n=e==null?void 0:e.settingsMenu;return n!==!1&&(n==null?void 0:n[t])!==!1},Ok=({actions:e,editor:t,buttons:n,sdkOptions:r})=>{const s=r.actions;return s===!1?[]:rt(s)?s({actions:e,editor:t}):s||(n?rt(n)?n({items:e,editor:t}):n:e)},_k="gs-cmp-topbar-right",Tk=re(function({editor:t,className:n,buttons:r,...s}){var z;const o=pe(),{theme:i,setTheme:l}=Zt(),{Commands:c,UndoManager:u,Components:d}=t,{installEvent:f,appInstalled:h,isBrowserMode:g,setInstallEvent:v,sdkOptions:m,isProjectTypeEmail:b}=o,y=Tn(),x=Oe(),w=P=>x.t(`actions.${P}`),S=(z=m.commands)==null?void 0:z.options,j=t.Storage.events,C=c.events,O="change:changesCount",E=(P,A)=>()=>{rt(P)?P({editor:t}):c.isActive(P)?c.stop(P):c.run(P,A)},T=P=>({[`${C.runCommand}${P}`]:({setState:A})=>A({active:!0}),[`${C.stopCommand}${P}`]:({setState:A})=>A({active:!1})}),_=[{id:nn.componentOutline,icon:Y.borderRadius,tooltip:w("componentOutline.title"),onClick:E("core:component-outline"),editorEvents:T("core:component-outline")},{id:nn.preview,icon:Y.eye,tooltip:w("preview.title"),onClick:E("core:preview"),editorEvents:T("core:preview")},{id:nn.fullscreen,icon:Y.fullscreen,tooltip:w("fullscreen.title"),onClick:E("core:fullscreen",{target:"body"}),editorEvents:T("core:fullscreen")},{id:nn.showCode,icon:Y.xml,tooltip:w("showCode.title"),onClick:()=>y.open({title:w("showCode.title"),content:()=>a.jsx(hk,{options:S==null?void 0:S[nn.showCode]})})},{id:nn.showImportCode,icon:Y.trayArrowDown,tooltip:w("importCode.title"),onClick:()=>y.open({title:w("importCode.title"),content:()=>a.jsx(Ev,{})})},{id:nn.clearCanvas,icon:Y.delete,tooltip:w("clearCanvas.title"),onClick:()=>y.confirm({title:w("clearCanvas.title"),content:w("clearCanvas.content"),confirmButton:{variant:"danger",children:w("clearCanvas.title")},onConfirm:()=>{var P;if(b){const A=(P=d.getWrapper())==null?void 0:P.findType("mjml")[0];A==null||A.components().forEach($=>{$.components("")})}else t.Components.clear()}})},{id:nn.store,tooltip:w("store.title"),onClick:async()=>!o.isSaving&&t.store(),editorEvents:{"change:changesCount":({setState:P})=>P({}),[j.startStore]:({setState:P})=>P({disabled:!0}),[j.endStore]:({setState:P})=>P({disabled:!1})},label:()=>a.jsxs("div",{className:R("relative"),children:[a.jsx(J,{icon:Y.floppy,size:oe.s}),!!t.getDirtyCount()&&!o.isSaving&&a.jsx("div",{className:R("absolute right-0 gjs-p-0.5 bottom-0 gjs-rounded-full",H.bg),children:a.jsx("div",{className:R(qe.dot,H.bgW)})}),o.isSaving&&a.jsx("div",{className:R("absolute right-0 bottom-0 gjs-rounded-full",H.bg),children:a.jsx(J,{icon:Y.refresh,size:"11px",className:R(qe.spin)})})]})},{id:nn.undo,icon:Y.arrowULeftTop,disabled:!0,onClick:E("core:undo"),editorEvents:{[O]:({setState:P})=>P({disabled:!u.hasUndo()})}},{id:nn.redo,icon:Y.arrowURightTop,disabled:!0,onClick:E("core:redo"),editorEvents:{[O]:({setState:P})=>P({disabled:!u.hasRedo()})}}],M=Ok({actions:_,sdkOptions:m,editor:t,buttons:r}),k=[{id:"about",label:w("about.title"),icon:Y.helpCircle,action:()=>y.open({size:"m",title:w("about.title"),content:()=>a.jsx(dk,{})})},{id:"embed",label:w("embed.title"),icon:Y.powerPlug,action:()=>y.open({size:"m",title:w("embed.title"),content:()=>a.jsx(pk,{})})},{id:"openProject",label:w("open.title"),icon:Y.folder,action:async()=>{const A=await(await q3({extensions:[iu]})).text();o.loadProjectData(JSON.parse(A))}},{id:"saveProject",label:w("save.title"),icon:Y.contentSave,action:async()=>{const P=t.getProjectData(),A=new Blob([JSON.stringify(P)]),$=`Untitled-${new Date().toISOString().replace("T","-").replace(/:|\./g,"").substring(0,17)}`;await X3(A,{fileName:`${$}${iu}`,extensions:[iu]})}},{id:"loadProject",label:w("newProject.title"),icon:Y.newspaperVariantOutline,action:()=>y.open({fullH:!0,title:w("newProject.title"),content:()=>a.jsx(jk,{})})},{id:"installApp",label:w(h?"installApp.installed":"installApp.title"),icon:Y.applicationBracketsOutline,action:async()=>{if(h)return;f==null||f.prompt();const P=await(f==null?void 0:f.userChoice);(P==null?void 0:P.outcome)==="accepted"&&v()}},...m.customTheme?[]:[{id:"theme",label:a.jsxs(D,{items:"center",space:"m",children:[a.jsx(L,{children:"Theme"}),a.jsx(L,{children:a.jsx(xs,{tabs:Ck,onChange:P=>l(P),value:i,variant:"pills"})})]})}]].filter(({id:P})=>!((!g||!f)&&P==="installApp"||!Pk(m,P))),B=(P,A)=>$=>{rt(P)&&(P($),A())};return a.jsxs(D,{space:"s",items:"center",justify:"end",className:R(_k,Pe.xS,n),nowrap:!0,...s,children:[M.map(({id:P,...A})=>a.jsx(Np,{size:"s",...A},P)),a.jsx(L,{children:m.settingsMenu!==!1&&k.length>0&&a.jsx(Cr,{placement:"bottom-end",title:!1,padding:!1,handler:a.jsx(J,{icon:Y.cog,size:oe.s}),buttonProps:Ek,overlay:!0,children:({close:P})=>a.jsx(a.Fragment,{children:k.map(A=>a.jsx(Rl,{action:B(A.action,P),icon:A.icon,label:A.label},A.id))})})})]})}),Ak=({items:e,editor:t,customItems:n})=>n===!1?[]:rt(n)?n({items:e,editor:t}):n||e,Og=e=>({icon:Y.plus,size:oe.s,className:R("gs-utl-transition-transform",e&&"gs-utl-rotate-45")}),Mk="gs-cmp-topbar-left",Rk=re(function({buttons:t,className:n,style:r}){const s=pe(),o=Oe(),{isOpen:i,toggleOpen:l}=uv(),c=s.editor,d=o.tScoped("blockManager")("blocks"),f=Ak({items:[{id:`blocks-${d}`,tooltip:d,size:Nb.s,icon:Og(i),variant:$b.primary,editorEvents:{[vr.toggleBlocksPanel]:({fromEvent:h,setState:g})=>{g({icon:Og(h.isOpen)})}},onClick:()=>l()}],customItems:t,editor:c});return a.jsx(D,{space:"s",items:"center",justify:"start",className:R(Mk,Pe.xS,n),style:r,nowrap:!0,children:f.map(({id:h,...g})=>a.jsx(Np,{...g},h))})});function kk({devices:e,selected:t,className:n,style:r,select:s}){const o=e.map(i=>({id:i.id,label:i.getName()}));return o.length?a.jsx(Se,{size:"xs",className:n,style:r,value:t,options:o,onChange:s}):null}const Lk="gs-devices",Bb=p.memo(function({className:t,style:n}){return a.jsx(a5,{children:r=>a.jsx(kk,{className:W(Lk,t),style:n,...r})})}),Mo="gs-cmp-editor-topbar",$k=re(function({className:t,height:n,style:r,children:s,leftContainer:o,rightContainer:i,devices:l}){const{topBarSize:c,isInPreview:u,editor:d,isTopSidebarOpen:f}=pe(),h=n??c,g=p.useMemo(()=>({...r,minHeight:h,marginTop:u||!f?`-${h}px`:0}),[u,f,r]);return a.jsxs(a.Fragment,{children:[a.jsx(L,{className:W(Mo,"gs-utl-transition-spacing gs-utl-w-full",ee.bb,H.br,t),style:g,children:s??a.jsxs(D,{className:W(`${Mo}__wrp`,"gs-utl-h-full"),items:"center",full:!0,nowrap:!0,children:[a.jsx(L,{className:W(`${Mo}__wrp-left`),grow:!0,children:o!==!1&&a.jsx(Rk,{...o})}),a.jsx(L,{className:W(`${Mo}__wrp-center`),children:l!==!1&&a.jsx(Bb,{...l})}),a.jsx(L,{className:W(`${Mo}__wrp-right`),grow:!0,children:i!==!1&&d&&a.jsx(Tk,{editor:d,...i})})]})}),a.jsx(L,{className:W("gs-utl-transition-transform gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-z-10",!u&&"-gs-utl-translate-y-full"),children:a.jsx(ze,{className:W("gs-utl-m-4",H.bg),size:"s",onClick:()=>d==null?void 0:d.Commands.stop("core:preview"),children:a.jsx(J,{icon:Y.eyeOff,size:oe.s})})})]})}),Nk="gs-sidebar-top",Fb=p.memo(re(function({height:t,children:n,...r}){return a.jsx($k,{height:t,...r,style:Jl(r),className:W(Nk,"gs-utl-flex",Zl(r)),children:n?vn(n):void 0})})),Dk="gs-canvas-sidebar-top",Ik=p.memo(re(function({className:t,sidebarTop:n,...r}){return a.jsxs(Ss,{className:W(Dk,"gs-utl-flex gs-utl-flex-col",t),grow:!0,...r,children:[a.jsx(Fb,{...n}),a.jsx(Db,{grow:!0})]})})),Vk="gs-cmp-column",Hk=p.memo(function({className:t,children:n,full:r,...s}){return a.jsx(Ss,{className:W(Vk,H.bg,"gs-utl-flex gs-utl-flex-col",r&&"gs-utl-h-full",t),...s,children:vn(n)})}),Bk="gs-cmp-input-field",Fk=p.memo(re(function({className:t,style:n,label:r,name:s,value:o,size:i,disabled:l,inputType:c,readOnly:u,required:d,placeholder:f,onChange:h,onInput:g,editorEvents:v}){const{editor:m}=pe(),[b,y]=p.useState(()=>({className:t,style:n,label:r,name:s,value:o,size:i,readOnly:u,disabled:l,required:d,placeholder:f})),x=j=>({value:j,editor:m,state:b,setState:C=>y(O=>({...O,...C}))}),w=j=>h==null?void 0:h(x(j)),S=j=>g==null?void 0:g(x(j));return rc({editor:m,editorEvents:v,localState:b,setLocalState:y}),a.jsx(nt,{type:c,className:W(Bk,b.className),style:b.style,label:b.label,name:b.name,value:b.value,size:b.size,required:b.required,disabled:b.disabled,readOnly:b.readOnly,placeholder:b.placeholder,onChange:w,onInput:S})}));function zk({children:e,accept:t,onChange:n,multiple:r=!0,...s}){const o=Oe(),i=p.useRef(null),l=()=>{const{current:c}=i;c&&(c.value="",c.click())};return a.jsxs(a.Fragment,{children:[a.jsx("input",{className:R("hidden"),ref:i,type:"file",multiple:r,accept:t,onChange:n}),a.jsx(ze,{variant:"pr",size:"m2",...s,onClick:l,children:e||o.t("upload")})]})}const Uk=re(zk),Wk=re(function({editor:t,assetProps:n,itemLayout:r,onSelect:s,onRemove:o}){const i=Mi();return vn(r({asset:i.toAsset(n),assetProps:n,onSelect:l=>s(i.toAssetProps(l)),onDelete:o&&(l=>o(i.toAssetProps(l))),editor:t}))}),Gk="gs-cmp-asset-card",Kk=re(function(t){var f;const{assetProps:n,onSelect:r,onRemove:s,className:o,itemLayout:i}=t,l=Oe(),{editor:c}=pe();if(i)return c?a.jsx(Wk,{...t,editor:c,itemLayout:i}):null;const{src:u}=n,d=n.name||((f=u.split("/").pop())==null?void 0:f.split("?").shift());return a.jsx(Ht,{padding:!1,className:F(Gk,"overflow-hidden max-w-full group",o),children:a.jsxs(D,{col:!0,children:[a.jsxs(L,{className:F("relative group h-24 cursor-pointer bg-checker"),onClick:()=>r(n),children:[a.jsx("div",{className:F("w-full h-full bg-contain bg-no-repeat bg-center"),style:{backgroundImage:`url("${u}")`}}),a.jsx(D,{justify:"center",items:"center",className:F(qe.coverAbs,H.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:a.jsx(ze,{className:F("text-sm"),size:"m2",variant:"pr",children:l.t("select")})})]}),a.jsxs(D,{className:F("gjs-p-1 max-w-full"),space:"s",items:"center",nowrap:!0,children:[a.jsx(L,{className:F(qe.txtEllips,"text-sm gjs-mr-auto"),children:d}),s&&a.jsx(Hp,{onConfirm:()=>s==null?void 0:s(n),text:a.jsxs(D,{col:!0,space:"m",items:"stretch",children:[a.jsx("p",{className:F("text-center",H.txtHighEmphasis),children:l.t("assetManager.deleteConfirmQuestion")}),a.jsx("p",{className:F("text-center"),children:l.t("assetManager.deleteConfirmExplanation")})]}),confirmButtonProps:{variant:"danger"},children:a.jsx(At,{title:l.t("delete"),children:a.jsx(J,{icon:Y.delete,size:oe.sx})})})]})]})})}),au="gs-asset-manager",qk={search:!0,addUrl:!0,upload:!0},Yk=re(function({assetProps:t,typeFilterOptions:n,providerFilterOptions:r,typeFilter:s,providerFilter:o,searchValue:i,isLoading:l,optionalType:c,useLocalSearch:u,itemLayout:d,content:f,onSelect:h,onChangeTypeFilter:g,onChangeProviderFilter:v,onChangeSearchValue:m,onChangeUpload:b,onAddUrl:y,onRemove:x,onEndReached:w}){const S=pe(),{editor:j}=S,C=Oe(),O=Vp(f==null?void 0:f.itemsPerRow),[E,T]=p.useState(""),[_]=Wl(),M=(f==null?void 0:f.header)===!1?!1:{...qk,...Gs(f==null?void 0:f.header)?f.header:{}};if(!j)return;const k=u?t.filter(B=>!(i&&!Ns(B.src,i)&&!Ns(B.name??"",i))):t;return a.jsxs(D,{className:R(au,"relative gs-utl-h-full",l&&qe.disabled),nowrap:!0,col:!0,space:"m",children:[M!==!1&&a.jsxs(D,{className:R(`${au}__header`,"gs-utl-gap-4"),justify:"between",items:"center",children:[a.jsxs(D,{items:"center",space:"m",children:[M.search&&a.jsx(L,{children:a.jsx(nt,{size:"s",type:"search",value:i,onInput:m,placeholder:`${C.t("search")}...`})}),n.length>(c?0:1)&&a.jsx(L,{children:a.jsx(Se,{className:R("items-center"),size:"m",options:n,value:s,onChange:g,emptyState:C.t("assetManager.assetTypes.all"),includeEmpty:c})}),r.length>0&&a.jsx(L,{children:a.jsx(Se,{className:R("items-center"),size:"m",options:r,value:o,onChange:v,emptyState:C.t("assetManager.noProvider"),includeEmpty:!0})})]}),a.jsxs(D,{items:"center",space:"m",children:[M.upload&&a.jsx(L,{children:a.jsx(Uk,{onChange:b})}),M.addUrl&&!!y&&a.jsx(L,{children:a.jsx(Cr,{overlay:!0,placement:"bottom-end",title:!1,buttonAs:"span",handler:a.jsx(ze,{variant:"pr",size:"m2",children:C.t("assetManager.addUrl")}),children:({close:B})=>a.jsxs(D,{space:"m",children:[a.jsx(L,{children:a.jsx(nt,{type:"url",size:"s",value:E,onChange:T,placeholder:C.t("assetManager.inputPlh")})}),a.jsx(L,{children:a.jsx(ze,{variant:"pr",size:"m2",onClick:()=>{y(E),B()},children:C.t("add")})})]})})})]})]}),a.jsx(D,{className:R(`${au}__content`,"gs-utl-h-[75vh] gs-utl-flex-grow"),space:"m",col:!0,nowrap:!0,children:k.length?a.jsx($i,{data:k,listClassName:R("gs-utl-grid gs-utl-gap-2",O),endReached:w,itemContent:(B,z)=>a.jsx(Kk,{assetProps:z,onSelect:h,onRemove:x,itemLayout:d},z.id),components:{Footer:w?Xk:void 0}},_):a.jsx(D,{justify:"center",children:C.t("noItems")})}),l&&a.jsx(Ni,{abs:!0})]})}),Xk=()=>a.jsx("div",{style:{padding:"2rem",display:"flex",justifyContent:"center",height:200}}),zb=re(function({panelId:t,content:n,assets:r,types:s,providers:o,typeId:i,providerId:l,optionalType:c,onSelect:u,close:d}){const{appEditorStore:f,i18nStore:h}=Pt(),{editor:g}=f,v=Mi(),{customOnLoad:m}=v,b=rv(t);p.useEffect(()=>{const j=O=>xt(O)?{id:O,label:h.t(`assetManager.assetTypes.${O}`)||O}:O;b.setCustomTypes(s==null?void 0:s.map(j)),b.setCustomProviders(xt(o)?[o]:o),i?b.setTypeFilter(i):b.initTypeFilter(),l?b.setProviderFilter(l):b.initProviderFilter(),c?b.setOptionalType(c):b.initOptionalType();const C=setTimeout(()=>b.loadAssets());return()=>clearTimeout(C)},[s,o,i,l,c]);const y=j=>{v.addToProjectAssets([{id:j,src:j}])},x=j=>{g&&(u==null||u({asset:v.toAsset(j),assetProps:j,editor:g}),d==null||d())},w=r==null?void 0:r.map(v.toAssetProps),S=b.shouldLoadNextPage?()=>b.loadAssets(!1):void 0;return a.jsx(Yk,{assetProps:w??b.assetProps,typeFilter:b.typeFilter,typeFilterOptions:b.typeFilterOptions,providerFilter:b.providerFilter,providerFilterOptions:b.providerFilterOptions,searchValue:b.searchValue,onChangeTypeFilter:j=>{b.setTypeFilter(j),b.loadAssets()},onChangeProviderFilter:j=>{b.setProviderFilter(j),b.loadAssets()},onChangeSearchValue:b.setSearchValue,onSelect:x,onAddUrl:m?void 0:y,onChangeUpload:j=>v.uploadFile(j.nativeEvent),onRemove:w?void 0:b.handleDelete,onEndReached:S,isLoading:b.isLoading,itemLayout:b.itemLayout,content:n,optionalType:b.optionalType,useLocalSearch:!b.reloadOnInput})});var Zk=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=globalThis&&globalThis.__assign||function(){return at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},at.apply(this,arguments)},_g={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Tg={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},va={width:"20px",height:"20px",position:"absolute"},Jk={top:at(at({},_g),{top:"-5px"}),right:at(at({},Tg),{left:void 0,right:"-5px"}),bottom:at(at({},_g),{top:void 0,bottom:"-5px"}),left:at(at({},Tg),{left:"-5px"}),topRight:at(at({},va),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:at(at({},va),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:at(at({},va),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:at(at({},va),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Qk=function(e){Zk(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.onMouseDown=function(r){n.props.onResizeStart(r,n.props.direction)},n.onTouchStart=function(r){n.props.onResizeStart(r,n.props.direction)},n}return t.prototype.render=function(){return ke.createElement("div",{className:this.props.className||"",style:at(at({position:"absolute",userSelect:"none"},Jk[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(ke.PureComponent),eL=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dn=globalThis&&globalThis.__assign||function(){return Dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Dn.apply(this,arguments)},tL={width:"auto",height:"auto"},ba=function(e,t,n){return Math.max(Math.min(e,n),t)},Ag=function(e,t,n){var r=Math.round(e/t);return r*t+n*(r-1)},Ts=function(e,t){return new RegExp(e,"i").test(t)},ya=function(e){return!!(e.touches&&e.touches.length)},nL=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},Mg=function(e,t,n){n===void 0&&(n=0);var r=t.reduce(function(o,i,l){return Math.abs(i-e)<Math.abs(t[o]-e)?l:o},0),s=Math.abs(t[r]-e);return n===0||s<n?t[r]:e},lu=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},xa=function(e,t,n,r){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var s=Number(e.replace("%",""))/100;return t*s}if(e.endsWith("vw")){var s=Number(e.replace("vw",""))/100;return n*s}if(e.endsWith("vh")){var s=Number(e.replace("vh",""))/100;return r*s}}return e},rL=function(e,t,n,r,s,o,i){return r=xa(r,e.width,t,n),s=xa(s,e.height,t,n),o=xa(o,e.width,t,n),i=xa(i,e.height,t,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof i>"u"?void 0:Number(i)}},sL=function(e){return Array.isArray(e)?e:[e,e]},oL=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Rg="__resizable_base__",iL=function(e){eL(t,e);function t(n){var r,s,o,i,l=e.call(this,n)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.appendBase=function(){if(!l.resizable||!l.window)return null;var c=l.parentNode;if(!c)return null;var u=l.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(Rg):u.className+=Rg,c.appendChild(u),u},l.removeBase=function(c){var u=l.parentNode;u&&u.removeChild(c)},l.state={isResizing:!1,width:(s=(r=l.propsSize)===null||r===void 0?void 0:r.width)!==null&&s!==void 0?s:"auto",height:(i=(o=l.propsSize)===null||o===void 0?void 0:o.height)!==null&&i!==void 0?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||tL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,o=this.resizable.offsetHeight,i=this.resizable.style.position;i!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=i}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,s=function(l){var c;if(typeof n.state[l]>"u"||n.state[l]==="auto")return"auto";if(n.propsSize&&n.propsSize[l]&&(!((c=n.propsSize[l])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[l].toString().endsWith("%"))return n.state[l].toString();var u=n.getParentSize(),d=Number(n.state[l].toString().replace("px","")),f=d/u[l]*100;return f+"%"}return lu(n.state[l])},o=r&&typeof r.width<"u"&&!this.state.isResizing?lu(r.width):s("width"),i=r&&typeof r.height<"u"&&!this.state.isResizing?lu(r.height):s("height");return{width:o,height:i}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=s),this.removeBase(n),o},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(n,r){var s=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof s>"u"||s==="auto")?"auto":n},t.prototype.calculateNewMaxFromBoundary=function(n,r){var s=this.props.boundsByDirection,o=this.state.direction,i=s&&Ts("left",o),l=s&&Ts("top",o),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=i?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=l?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=i?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=i?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},t.prototype.calculateNewSizeFromDirection=function(n,r){var s=this.props.scale||1,o=sL(this.props.resizeRatio||1),i=o[0],l=o[1],c=this.state,u=c.direction,d=c.original,f=this.props,h=f.lockAspectRatio,g=f.lockAspectRatioExtraHeight,v=f.lockAspectRatioExtraWidth,m=d.width,b=d.height,y=g||0,x=v||0;return Ts("right",u)&&(m=d.width+(n-d.x)*i/s,h&&(b=(m-x)/this.ratio+y)),Ts("left",u)&&(m=d.width-(n-d.x)*i/s,h&&(b=(m-x)/this.ratio+y)),Ts("bottom",u)&&(b=d.height+(r-d.y)*l/s,h&&(m=(b-y)*this.ratio+x)),Ts("top",u)&&(b=d.height-(r-d.y)*l/s,h&&(m=(b-y)*this.ratio+x)),{newWidth:m,newHeight:b}},t.prototype.calculateNewSizeFromAspectRatio=function(n,r,s,o){var i=this.props,l=i.lockAspectRatio,c=i.lockAspectRatioExtraHeight,u=i.lockAspectRatioExtraWidth,d=typeof o.width>"u"?10:o.width,f=typeof s.width>"u"||s.width<0?n:s.width,h=typeof o.height>"u"?10:o.height,g=typeof s.height>"u"||s.height<0?r:s.height,v=c||0,m=u||0;if(l){var b=(h-v)*this.ratio+m,y=(g-v)*this.ratio+m,x=(d-m)/this.ratio+v,w=(f-m)/this.ratio+v,S=Math.max(d,b),j=Math.min(f,y),C=Math.max(h,x),O=Math.min(g,w);n=ba(n,S,j),r=ba(r,C,O)}else n=ba(n,d,f),r=ba(r,h,g);return{newWidth:n,newHeight:r}},t.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var s=r.getBoundingClientRect();this.parentLeft=s.left*n,this.parentTop=s.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var i=this.resizable.getBoundingClientRect(),l=i.left,c=i.top,u=i.right,d=i.bottom;this.resizableLeft=l*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},t.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var s=0,o=0;if(n.nativeEvent&&nL(n.nativeEvent)?(s=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&ya(n.nativeEvent)&&(s=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var i=this.props.onResizeStart(n,r,this.resizable);if(i===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",l=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:s,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Dn(Dn({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:l};this.setState(f)}},t.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ya(n))try{n.preventDefault(),n.stopPropagation()}catch{}var s=this.props,o=s.maxWidth,i=s.maxHeight,l=s.minWidth,c=s.minHeight,u=ya(n)?n.touches[0].clientX:n.clientX,d=ya(n)?n.touches[0].clientY:n.clientY,f=this.state,h=f.direction,g=f.original,v=f.width,m=f.height,b=this.getParentSize(),y=rL(b,this.window.innerWidth,this.window.innerHeight,o,i,l,c);o=y.maxWidth,i=y.maxHeight,l=y.minWidth,c=y.minHeight;var x=this.calculateNewSizeFromDirection(u,d),w=x.newHeight,S=x.newWidth,j=this.calculateNewMaxFromBoundary(o,i);this.props.snap&&this.props.snap.x&&(S=Mg(S,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(w=Mg(w,this.props.snap.y,this.props.snapGap));var C=this.calculateNewSizeFromAspectRatio(S,w,{width:j.maxWidth,height:j.maxHeight},{width:l,height:c});if(S=C.newWidth,w=C.newHeight,this.props.grid){var O=Ag(S,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),E=Ag(w,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),T=this.props.snapGap||0,_=T===0||Math.abs(O-S)<=T?O:S,M=T===0||Math.abs(E-w)<=T?E:w;S=_,w=M}var k={width:S-g.width,height:w-g.height};if(v&&typeof v=="string"){if(v.endsWith("%")){var B=S/b.width*100;S=B+"%"}else if(v.endsWith("vw")){var z=S/this.window.innerWidth*100;S=z+"vw"}else if(v.endsWith("vh")){var P=S/this.window.innerHeight*100;S=P+"vh"}}if(m&&typeof m=="string"){if(m.endsWith("%")){var B=w/b.height*100;w=B+"%"}else if(m.endsWith("vw")){var z=w/this.window.innerWidth*100;w=z+"vw"}else if(m.endsWith("vh")){var P=w/this.window.innerHeight*100;w=P+"vh"}}var A={width:this.createSizeForCssProperty(S,"width"),height:this.createSizeForCssProperty(w,"height")};this.flexDir==="row"?A.flexBasis=A.width:this.flexDir==="column"&&(A.flexBasis=A.height);var $=this.state.width!==A.width,N=this.state.height!==A.height,I=this.state.flexBasis!==A.flexBasis,V=$||N||I;V&&$t.flushSync(function(){r.setState(A)}),this.props.onResize&&V&&this.props.onResize(n,h,this.resizable,k)}},t.prototype.onMouseUp=function(n){var r,s,o=this.state,i=o.isResizing,l=o.direction,c=o.original;if(!(!i||!this.resizable)){var u={width:this.size.width-c.width,height:this.size.height-c.height};this.props.onResizeStop&&this.props.onResizeStop(n,l,this.resizable,u),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Dn(Dn({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(n){var r,s;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(s=n.height)!==null&&s!==void 0?s:"auto"})},t.prototype.renderResizer=function(n){var r=this,s=this.props,o=s.enable,i=s.handleStyles,l=s.handleClasses,c=s.handleWrapperStyle,u=s.handleWrapperClass,d=s.handleComponent;if(!o)return null;var f=n.filter(function(h){return o[h]!==!1}).map(function(h){return o[h]!==!1?ke.createElement(Qk,{key:h,direction:h,onResizeStart:r.onResizeStart,replaceStyles:i&&i[h],className:l&&l[h]},d&&d[h]?d[h]:null):null});return ke.createElement("div",{className:u,style:c},f)},t.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(i,l){return oL.indexOf(l)!==-1||(i[l]=n.props[l]),i},{}),s=Dn(Dn(Dn({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return ke.createElement(o,Dn({style:s,className:this.props.className},r,{ref:function(i){i&&(n.resizable=i)}}),this.state.isResizing&&ke.createElement("div",{style:this.state.backgroundStyle}),this.renderResizer(["topLeft","top","topRight","left"]),this.props.children,this.renderResizer(["right","bottomLeft","bottom","bottomRight"]))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(ke.PureComponent);function Ql({className:e,children:t,top:n,bottom:r,right:s,left:o,width:i,height:l,minHeight:c,minWidth:u,maxHeight:d,maxWidth:f,style:h,onResize:g,onResizeStop:v,...m}){const b={top:n||!1,right:s||!1,bottom:r||!1,left:o||!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},y={width:i||"auto",height:l||"auto"},x=R("z-10",H.hBgAct),w={bottom:x,right:x,left:x},S={bottom:{bottom:0,height:2},right:{right:-1,width:2},left:{left:-1,width:2}};return a.jsx(iL,{className:e,enable:m.enable??b,defaultSize:y,handleStyles:S,handleClasses:w,onResize:g,onResizeStop:v,minHeight:c,minWidth:u,maxHeight:d,maxWidth:f,style:h,children:t})}const Ro="gs-studio-panel",Ub=(e,t={})=>({...t,...e===!0?{}:e||void 0}),An=p.memo(function({children:t,header:n,resizable:r,className:s,classNameAccordion:o,classNameAccordionContent:i,...l}){const c=a.jsx(Ss,{className:W(Ro,s),...l,children:t}),u=r?r===!0?{top:!0,right:!0,bottom:!0,left:!0}:r:void 0,d=u?a.jsx(Ql,{className:W([`${Ro}__resizer`]),...u,children:c}):c,f=n===!0?{collapsible:!0}:n||void 0;return f?a.jsx(ys,{classNameWrap:W(`${Ro}__accordion`,o),className:W(`${Ro}__accordion-header`,Pe.xy,f.className),classNameContent:W(`${Ro}__accordion-content`,i),disabled:f.collapsible===!1,style:f.style,handler:a.jsxs(D,{space:"s",items:"center",children:[!!f.icon&&a.jsx(J,{icon:f.icon,size:oe.s}),a.jsx(L,{grow:!0,children:f.label})]}),open:n?f.collapsed!==!0:!0,children:d}):d}),aL="gs-panel-assets",lL=p.memo(re(function({className:t,onSelect:n,content:r,assets:s,types:o,providers:i,typeId:l,providerId:c,optionalType:u,...d}){const f=pe(),h=Mi(),g=f.editor,[v]=p.useState(()=>d.id||Hm());return p.useEffect(()=>(h.createAssetManager(v),()=>{h.removeAssetManager(v)}),[v]),rv(v)?a.jsx(An,{className:W(aL,"gs-utl-overflow-hidden gs-utl-h-full",t),classNameAccordion:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...d,children:g&&a.jsx(zb,{panelId:v,assets:s,types:o,providers:i,onSelect:n,typeId:l,providerId:c,content:r,optionalType:u})}):null})),cL="gs-panel-blocks",uL=p.memo(re(function({className:t,symbols:n,search:r,...s}){const o=pe().sdkProps.children,i={search:r,symbols:n,isOpen:!0};return a.jsx(An,{className:W(cL,"gs-utl-overflow-hidden",t),classNameAccordion:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...s,children:a.jsxs(bs,{children:[Nt(o,$p),a.jsx(gb,{className:W("gs-utl-overflow-hidden gs-utl-flex-nowrap"),...i}),Nt(o,Lp)]})})})),dL=(e,{t,id:n})=>t(`fields.${n}.label`)||lr(`${e}`.replace(/-/g," ")),Wb=(e,{t,id:n})=>{const r=xt(e)?{id:e,label:e}:e;return{...r,label:t(`fields.${n}.options.${r.id}`)||r.label}},Gb=e=>e.get("defaultValue")||"",ec=e=>e.get("field"),Kb=e=>`${e.get("value")||Gb(e)||""}`,pL=(e,t)=>e||Gb(t)||"",ol=({record:e,value:t,partial:n})=>{e.set({value:pL(t,e)},{partial:n}),e.em.refreshCanvas({tools:!0})},il=(e,t)=>({className:"gs-utl-w-full",size:"s",value:Kb(e),label:dL(e.get("label")||e.id||"",t),onChange:(n,r)=>ol({record:e,value:n,partial:r})}),fL=(e,t)=>{const n=ec(e),r=Gs(n)?n:void 0,s=(r==null?void 0:r.units)||[],o=G5(Kb(e)),i=o.number,l=o.unit||s[0]||"";return{...il(e,t),value:i,valueUnit:l,min:r==null?void 0:r.min,max:r==null?void 0:r.max,step:r==null?void 0:r.step,units:r==null?void 0:r.units,onChange:(c,u)=>{ol({value:c?`${c}${l}`:"",record:e,partial:u})},onChangeUnit:c=>{ol({value:i?`${i}${c}`:"",record:e})}}},qb=(e,t)=>{var o;const n=ec(e),r=Gs(n)?n:void 0,s=((o=r==null?void 0:r.options)==null?void 0:o.map(i=>Wb(i,t)))||[];return{...il(e,t),options:s,onChange:i=>ol({value:i,record:e})}},hL=(e,t)=>{var o;const n=ec(e),r=Gs(n)?n:void 0,s=((o=r==null?void 0:r.options)==null?void 0:o.map(i=>Wb(i,t)))||[];return{...qb(e,t),size:"s",options:s}};function gL(e,t){const n=ec(e);switch(xt(n)?n:n==null?void 0:n.type){case"radio":return a.jsx(_t,{...hL(e,t)});case"select":return a.jsx(Se,{...qb(e,t)});case"number":return a.jsx(Ce,{...fL(e,t)});case"color":return a.jsx(xr,{...il(e,t)});default:return a.jsx(nt,{...il(e,t)})}}const kg="gs-cmp-global-style-field",mL=re(function({record:t}){const n=pe(),s=Oe().tScoped("globalStyleManager"),[,o]=p.useState(0),i=n.editor,l=t.id,c={t:s,id:l};return p.useEffect(()=>{if(!i)return;const u=`data:path:${t.getPath("value")}`,d=()=>o(f=>++f);return i.on(u,d),()=>{i.off(u,d)}},[i]),a.jsx(D,{className:W(kg,`${kg}__${l}`),children:gL(t,c)})}),Xo="gs-cmp-global-style-manager",Lg=({items:e,category:t,className:n})=>{const r=W(t?`${Xo}__cat-fields--${t.id}`:`${Xo}__uncat-fields`,"gs-utl-gap-2",Pe.xy,n);return a.jsx(D,{className:r,nowrap:!0,col:!0,children:e.map(s=>a.jsx(mL,{record:s},s.id))})},vL=re(function(){const t=QO(),{recordsByCategory:n,openCategories:r}=t,o=Oe().tScoped("globalStyleManager");return a.jsx(D,{col:!0,full:!0,nowrap:!0,className:W(Xo,"gs-utl-flex-grow gs-utl-overflow-hidden"),children:a.jsx(D,{col:!0,nowrap:!0,className:W(`${Xo}__fields`,qe.scrollY,"gs-utl-select-none"),children:n.length?n.map(({category:i,items:l},c)=>i?a.jsx(ys,{sticky:!0,open:r.get(i.id)??i.open,handler:o(`categories.${i.id}.label`)||i.label||i.id,onChange:({open:u})=>t.setCategoryOpen(i.id,u),className:u=>W(`${Xo}__cat-fields`,Cd.itemList({index:c,open:u,length:n.length}),c===0&&ee.bt),children:a.jsx(Lg,{category:i,items:l})},i.id):a.jsx(Lg,{items:l,className:W(n.length!==1&&[ee.bt,H.br])},c)):a.jsx(D,{className:W("gs-utl-text-center"),justify:"center",children:o("notFound")})})})}),bL="gs-panel-global-styles",yL=p.memo(re(function({className:t,...n}){return a.jsx(An,{className:W(bL,"gs-utl-overflow-auto",t),classNameAccordion:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:W("gs-utl-overflow-auto"),...n,children:a.jsx(bs,{children:a.jsx(vL,{})})})})),xL={maxWidth:`${jx}px`},wL="gs-cmp-layer-item";function Yb({component:e,draggingCmp:t,dragParent:n,...r}){const s=Mt(),{Layers:o}=s,i=p.useRef(null),[l,c]=p.useState(!1),[u,d]=p.useState(o.getLayerData(e)),{open:f,selected:h,hovered:g,components:v,visible:m,locked:b,name:y}=u,x=v.map(N=>N.cid),w=t===e,S=x.join("-"),j=r.level+1,C=g||n===e;p.useEffect(()=>{j===0&&d(o.getLayerData(e)),i.current&&(i.current.__cmp=e)},[e]),p.useEffect(()=>{const N=i.current;if(!N)return;const{select:I}=s.Components.events,V=U=>U===e&&N.scrollIntoView({block:"nearest"});return s.on(I,V),()=>{s.off(I,V)}},[e,i.current]),p.useEffect(()=>{const N=V=>{V===e&&d(o.getLayerData(V))},I=o.events.component;return s.on(I,N),()=>{s.off(I,N)}},[s,o,e]);const O=p.useMemo(()=>v.map(N=>a.jsx(Yb,{component:N,level:j,draggingCmp:t,dragParent:n},N.cid)),[S,t,n]),E=N=>{o.setLayerData(e,{name:N}),c(!1)},T=N=>{N.stopPropagation(),o.setLayerData(e,{open:!f})},_=N=>{N.stopPropagation(),o.setLayerData(e,{visible:!m})},M=N=>{N.stopPropagation(),o.setLayerData(e,{locked:!b})},k=N=>{N.stopPropagation(),o.setLayerData(e,{selected:!0},{event:N})},B=N=>{N.preventDefault(),s.runCommand(fe.contextMenuComponent,{source:Ml.layers,component:e,event:N.nativeEvent,x:N.clientX,y:N.clientY})},z=N=>{(!N||!t)&&o.setLayerData(e,{hovered:N})},P=bl(e),A=R("layer-item",(h||P.isSymbol)&&P.bgSoftX,(!m||w)&&"opacity-50"),$=R(Pe.xyS,ee.b,C?P.border:ee.bT,h&&P.bgSoft);return a.jsx("div",{className:wL,children:a.jsxs(D,{col:!0,className:A,children:[a.jsx(L,{onClick:k,onContextMenu:B,onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),className:R("group max-w-full"),"data-layer-item":!0,ref:i,children:a.jsxs(D,{items:"center",space:"xs",className:$,children:[a.jsx(L,{style:{marginLeft:`${j*10}px`},className:R("cursor-pointer",!v.length&&"pointer-events-none opacity-0"),onClick:T,children:a.jsx(J,{icon:Y.menuDown,size:oe.sx,rotate:f?0:-90})}),a.jsx(L,{children:J1(e)}),a.jsx(L,{className:R("truncate"),onDoubleClick:()=>c(!0),style:xL,grow:!0,children:l?a.jsx(Tp,{value:y,onChange:E}):a.jsx(a.Fragment,{children:y})}),!l&&a.jsxs(a.Fragment,{children:[a.jsx(L,{className:R("group-hover:gs-utl-opacity-100 cursor-pointer",b?"opacity-100":"opacity-0"),onClick:M,children:a.jsx(J,{icon:b?Y.lock:Y.lockOpenVariant,size:oe.s3x})}),a.jsx(L,{className:R("group-hover:gs-utl-opacity-100 cursor-pointer",m?"opacity-0":"opacity-100"),onClick:_,children:a.jsx(J,{icon:m?Y.eyeOutline:Y.eyeOffOutline,size:oe.sx})})]})]})}),!!(f&&v.length)&&a.jsx(L,{className:R("max-w-full",!f&&"hidden"),children:O})]})})}const SL={touchAction:"none"},$g=5,jL=e=>{const t=document.elementFromPoint(e.clientX,e.clientY),n=t==null?void 0:t.closest("[data-layer-item]");return{el:n,cmp:n==null?void 0:n.__cmp}};function Xb({root:e,header:t}){const n=Mt(),{Components:r}=n,[s,o]=p.useState(!1),[i,l]=p.useState({}),[c,u]=p.useState(),[d,f]=p.useState(),[h,g]=p.useState(),[v,m]=p.useState(),b=p.useRef(null),y=E=>{E.button===0&&o(!0)},x=E=>{if(!s)return;const{cmp:T,el:_}=jL(E);if(!_||!T)return;const M=_.getBoundingClientRect(),k=_.offsetHeight,B=_.offsetTop,z=E.clientY,P=z<M.y+k/2,A=d||T,$=T.parent(),N=T.index()+(P?0:1);!d&&f(T),u(T);const I=r.canMove($,A,N),V=r.canMove(T,A),U={...I,canMoveInside:V,index:N};let X=!1;V.result&&z>M.y+$g&&z<M.y+k-$g&&(X=!0,U.target=T,delete U.index),g(X?T:void 0),l(U),m({pointerInside:X,y:B+(P?0:k),h:k})},w=()=>{var E;i!=null&&i.result&&((E=i.source)==null||E.move(i.target,{at:i.index})),l({}),o(!1),f(void 0),u(void 0),g(void 0),m(void 0)},S=(c?c.parents():[]).length,j=!!(d&&v&&(i!=null&&i.result)&&!v.pointerInside),C=j?{top:v.y,left:0,marginLeft:S*10+20}:{};p.useEffect(()=>{const E=window.document,T=_=>{_.key==="Escape"&&(l({...i,result:!1}),w())};return E.addEventListener("keydown",T),()=>{E.removeEventListener("keydown",T)}},[]);const O=t&&(t==null?void 0:t.label)||"Layers";return a.jsxs(D,{col:!0,full:!0,nowrap:!0,className:R("gs-layer-manager flex-grow overflow-hidden"),children:[t!==!1&&a.jsx(L,{children:a.jsxs(D,{space:"s",items:"center",className:R([Pe.xy,ee.bb,H.br]),children:[a.jsx(L,{children:a.jsx(J,{icon:Y.layers,size:oe.s})}),a.jsx(L,{grow:!0,children:O})]})}),a.jsxs(L,{className:R("overflow-y-auto overflow-x-hidden text-sm select-none relative"),style:SL,onPointerDown:y,onPointerMove:x,onPointerUp:w,grow:!0,children:[!!e&&a.jsx(Yb,{component:e,level:-1,draggingCmp:d,dragParent:h}),j&&a.jsx("div",{ref:b,className:R("absolute w-full gs-utl-h-0.5",H.cmp),style:C})]})]})}const Bp=p.forwardRef(function({children:t,className:n,...r},s){return a.jsx("div",{className:W(F("gs-layer-manager-after"),n),ref:s,...r,children:t})}),Fp=p.forwardRef(function({children:t,className:n,...r},s){return a.jsx("div",{className:W(F("gs-layer-manager-before"),n),ref:s,...r,children:t})}),CL="gs-panel-layers",Zb=p.memo(re(function({className:t,...n}){const r=pe().sdkProps.children;return a.jsx(An,{className:W(CL,"gs-utl-overflow-auto",t),classNameAccordion:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:W("gs-utl-overflow-auto"),...n,children:a.jsx(dp,{children:s=>a.jsxs(a.Fragment,{children:[Nt(r,Fp),a.jsx(Xb,{...s,header:!1}),Nt(r,Bp)]})})})})),Jb=p.forwardRef(function({size:t="m",className:n,border:r=!0,children:s,...o},i){const l=F(H.bg,H.br,r&&`${ee.b} ${ee.rnd}`,t==="m"&&Pe.xy,t==="s"&&"gjs-px-3 gjs-py-1",n);return a.jsx(D,{className:l,items:"center",space:"x2s",...o,ref:i,children:a.jsx(L,{grow:!0,children:s})})}),EL="gs-field-textarea";function Ng(e){const{className:t,value:n,label:r,size:s,description:o,placeholder:i,readOnly:l,disabled:c,required:u,onChange:d}=e,f=vp(e);return a.jsxs("div",{className:R(EL,t),children:[!!r&&a.jsx(wt,{size:s,children:r}),!!o&&a.jsx(wt,{size:s,as:"span",className:R(H.txtLowEmphasis),capitalize:!1,children:o}),a.jsx(Jb,{size:s,children:a.jsx("textarea",{className:R(f),value:n,placeholder:i,readOnly:l,disabled:c,required:u,onChange:h=>d==null?void 0:d(h.target.value)})})]})}const tc="gs-page-settings",PL=`${tc}-header`,OL=`${tc}-content`,_L=`${tc}-footer`,Dg="",Qb=re(function({className:t,classNameHeader:n,classNameContent:r,classNameFooter:s,page:o,size:i=Vl.m}){const l=pe(),{isDarkTheme:c}=Zt(),u=Oe(),[d,f]=p.useState(o),[h,g]=p.useState(()=>Jf(d,l)),[v,m]=p.useState(()=>u.t("update")),b=u.tScoped("pageManager.settings"),y=u.tScoped("pageManager.settings.fields"),x=l.editor,w={containerClassName:F("min-h-80"),size:i,padding:5,isDarkTheme:c,clean:!0},S=M=>g(k=>({...k,...M})),j=M=>{M.preventDefault();const{name:k,...B}=h;B.customCodeHead=vx(B.customCodeHead),B.customCodeBody=mx(B.customCodeBody),d?(AO(d,B),d.setName(k)):l.setProjectDataCustom({globalPageSettings:B}),m(u.t("updated")),setTimeout(()=>m(u.t("update")),2e3),_O(x),x.trigger(vr.pageSettingsUpdate,{page:d,data:{name:k,...B}})},C={tooltip:u.t("clear")},O=(d==null?void 0:d.getId())??Dg,E=M=>{const k=x.Pages.get(M);f(k),g(Jf(k,l))},T=TO(d),_=[{id:Dg,label:b("global")},...x.Pages.getAll().map(M=>({id:M.getId(),label:M.getName()}))];return a.jsx("form",{onSubmit:j,className:F(tc,"h-full",t),children:a.jsxs(D,{col:!0,full:!0,className:F("gap-1 gs-utl-overflow-hidden"),nowrap:!0,children:[a.jsx(L,{className:F(PL,n,H.br,ee.bb),children:a.jsx(Se,{value:O,onChange:E,options:_,handlerSelected:M=>a.jsxs(a.Fragment,{children:[a.jsx("b",{children:u.t("pageManager.page")}),": ",M.label]})})}),a.jsxs(D,{col:!0,className:F(OL,"gap-5 overflow-y-auto",r),nowrap:!0,children:[!!O&&a.jsxs(a.Fragment,{children:[a.jsx(nt,{size:i,value:h.name,onChange:M=>S({name:M}),label:y("name.label"),description:y("name.description"),required:!0}),!T&&a.jsx(nt,{size:i,value:h.slug,onChange:M=>S({slug:bd(M)}),label:y("slug.label"),description:y("slug.description"),required:!0})]}),a.jsx(nt,{size:i,value:h.title,onChange:M=>S({title:M}),label:y("title.label"),description:y("title.description")}),a.jsx(Ng,{size:i,value:h.description,onChange:M=>S({description:M}),label:y("description.label"),description:y("description.description")}),a.jsx(di,{size:i,clear:C,value:h.favicon,onChange:M=>S({favicon:M}),onOpen:()=>{x.Assets.open({select(M){S({favicon:M.getSrc()}),x.Assets.close()}})},label:y("favicon.label"),description:y("favicon.description")}),a.jsx(nt,{size:i,value:h.keywords,onChange:M=>S({keywords:M}),label:y("keywords.label"),description:y("keywords.description")}),a.jsx(nt,{size:i,value:h.socialTitle,onChange:M=>S({socialTitle:M}),label:y("socialTitle.label"),description:y("socialTitle.description")}),a.jsx(di,{size:i,clear:C,value:h.socialImage,onChange:M=>S({socialImage:M}),onOpen:()=>{x.Assets.open({select(M){S({socialImage:M.getSrc()}),x.Assets.close()}})},label:y("socialImage.label"),description:y("socialImage.description")}),a.jsx(Ng,{size:i,value:h.socialDescription,onChange:M=>S({socialDescription:M}),label:y("socialDescription.label"),description:y("socialDescription.description")}),a.jsx(Nr,{language:"html",value:h.customCodeHead,onChange:M=>S({customCodeHead:M}),label:y("customCodeHead.label"),description:y("customCodeHead.description"),...w},`head-${O}`),a.jsx(Nr,{language:"html",value:h.customCodeBody,onChange:M=>S({customCodeBody:M}),label:y("customCodeBody.label"),description:y("customCodeBody.description"),...w},`body-${O}`)]}),a.jsx(D,{className:F(_L,"mt-auto",s,H.br,ee.bt),children:a.jsx(ze,{type:"submit",variant:"pr",size:"m2",full:!0,children:v})})]})})}),TL="gs-panel-page-settings",AL=p.memo(re(function({className:t,page:n,...r}){return a.jsx(An,{className:W(TL,"gs-utl-overflow-hidden",t),classNameAccordion:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...r,children:a.jsx(bs,{children:a.jsx(Qb,{className:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),page:n,size:Vl.s,classNameHeader:Pe.s,classNameContent:Pe.s,classNameFooter:Pe.s})})})})),cu="gs-page-item",ML=re(function({page:t,rename:n,setRename:r,commandItems:s}){const o=pe(),i=Oe(),l=o.editor,{Pages:c}=l,{sdkPagesConfig:u}=o,d=u==null?void 0:u.settings,f=w=>i.t(`pageManager.${w}`),h=w=>c.select(w),g=w=>c.getSelected()===w,v=w=>w===n,m=w=>w.getName()||w.getId(),b=w=>{n==null||n.set({name:w}),r(void 0)},y=F("group-hover:gs-utl-opacity-100 opacity-0 cursor-pointer transition-opacity"),x=()=>l.runCommand(fe.setPageSettings,{page:t,isOpen:!0});return a.jsxs(D,{space:"s",items:"center",onClick:()=>h(t),className:F([cu,"group cursor-default",Pe.xy,g(t)&&H.bgH,!g(t)&&H.hBgH2]),children:[a.jsx(L,{className:F(`${cu}__name truncate`),grow:!0,children:v(t)?a.jsx(Tp,{value:m(t),onChange:b}):a.jsx(a.Fragment,{children:m(t)})}),a.jsxs(D,{className:`${cu}__actions`,space:"xs",onClick:ti,items:"center",children:[!n&&d!==!1&&a.jsx(At,{className:y,size:"xs",border:!1,title:f("settings.label"),onClick:x,block:!0,children:a.jsx(J,{icon:Y.cog,size:oe.s3x})}),g(t)&&!!s.length&&a.jsx(Cr,{placement:"right-start",handler:a.jsx(J,{icon:Y.dotsVertical,size:oe.s}),title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:w})=>s.map(S=>a.jsx(Rl,{label:rt(S.label)?S.label({editor:l}):S.label,action:()=>{var j;w(),(j=S.cmd)==null||j.call(S,{page:t,editor:l})}},S.id))})]})]},t.getId())}),RL=({items:e,editor:t,sdkPageConfig:n})=>{const r=n==null?void 0:n.commandItems;return r===!1?[]:rt(r)?r({items:e,editor:t}):r||e},uu="gs-panel-page-manager",e0=re(function({pages:t,select:n,add:r,remove:s,header:o,resizable:i={bottom:!0},height:l=200}){const c=pe(),u=Tn(),d=Oe(),{sdkPagesConfig:f}=c,h=c.editor,[g,v]=p.useState(),m=k=>d.t(`pageManager.${k}`),b=f==null?void 0:f.add,y=f==null?void 0:f.duplicate,x=f==null?void 0:f.remove,w=k=>{if(ti(k),b)return b({editor:h,rename:v});const B=t.length+1,z=r({name:`${m("page")} ${B}`,component:`<div>${m("newPage")} ${B}</div>`},{select:!0});z&&v(z)},S=({page:k})=>{if(x)return x({editor:h,page:k});u.confirm({title:m("deletePage"),content:m("confirmDelete"),confirmButton:{variant:"danger",children:m("deletePage")},onConfirm:()=>{const B=t.indexOf(k),z=t[B+1]||t[0];n(z),s(k)}})},j=({page:k})=>{if(y)return y({editor:h,page:k,rename:v});const B=k.getMainComponent(),z=r({name:`${k.getName()} (${m("copy")})`,component:B.clone()},{select:!0});z&&v(z)},C=[{id:"rename",label:m("rename"),cmd:({page:k})=>v(k)},y!==!1&&{id:"duplicate",label:m("duplicate"),cmd:j},t.length>1&&x!==!1&&{id:"remove",label:m("delete"),cmd:S}].filter(Boolean),O=RL({items:C,editor:h,sdkPageConfig:f}),E=Ub(o,{collapsible:!0,label:m("pages"),icon:Y.textBoxMultiple}),T=i?i===!0?{top:!0,right:!0,bottom:!0,left:!0}:i:void 0,_=t.map(k=>a.jsx(ML,{page:k,commandItems:O,rename:g,setRename:v},k.getId())),M=T?a.jsx(Ql,{className:R([`${uu}__content`,"text-sm overflow-auto",ee.bt,H.br]),height:l,...T,children:_}):_;return a.jsx(ys,{classNameWrap:uu,className:R(`${uu}__header`,Pe.xy,o===!1&&"gs-utl-hidden"),disabled:E&&E.collapsible===!1,handler:a.jsxs(D,{space:"s",items:"center",children:[!!E.icon&&a.jsx(L,{children:a.jsx(J,{icon:E.icon,size:oe.s})}),a.jsx(L,{grow:!0,children:E.label}),b!==!1&&a.jsx(lt,{title:m("add"),children:a.jsx(D,{onClick:w,className:R("cursor-pointer"),children:a.jsx(J,{icon:Y.plus,size:oe.s})})})]}),open:E?E.collapsed!==!0:!0,children:M})}),zp=p.forwardRef(function({children:t,className:n,...r},s){return a.jsx("div",{className:W(F("gs-page-manager-after"),n),ref:s,...r,children:t})}),Up=p.forwardRef(function({children:t,className:n,...r},s){return a.jsx("div",{className:W(F("gs-page-manager-before"),n),ref:s,...r,children:t})}),kL="gs-panel-pages",t0=p.memo(re(function({className:t,header:n,height:r,resizable:s,...o}){const i=pe().sdkProps.children;return a.jsx(Ss,{className:W(kL,t),...o,children:a.jsx(pp,{children:l=>a.jsxs(a.Fragment,{children:[Nt(i,Up),a.jsx(e0,{header:n,height:r,resizable:s,...l}),Nt(i,zp)]})})})})),LL="gs-panel-pages-layers",$L=p.memo(re(function({className:t,panelPagesProps:n,panelLayersProps:r,...s}){const{showPages:o}=pe(),i=Oe(),{className:l,...c}=n||{},u=Ub(r==null?void 0:r.header,{icon:Y.layers,collapsible:!1,label:i.t("layerManager.layers"),className:W(ee.bb,H.br)});return a.jsxs(An,{className:W(LL,"gs-utl-flex gs-utl-flex-col gs-utl-h-full",t),...s,children:[o&&a.jsx(t0,{className:W(l,ee.bb,H.br),...c}),a.jsx(Zb,{...r,header:u})]})})),NL="gs-trait-custom",DL=re(function({trait:t,editor:n}){const[,r]=p.useState(0),s=p.useRef(null),o=t.get("component"),i=t.get("render"),l=t.target,c=s.current;return p.useEffect(()=>{if(l){let u=()=>{},d=()=>{};const f=()=>{d(),r(h=>++h)};if(l.on("change",f),!o&&i&&c){const h=m=>c.appendChild(m),g=m=>c.removeChild(m),v=i({editor:n,component:l,trait:t,addEl:h,removeEl:g,onUpdate:m=>{d=m}});v instanceof HTMLElement?(h(v),u=()=>g(v)):rt(v)&&(u=()=>v())}return()=>{l.off("change",f),u()}}},[l,c]),l?o?a.jsx(o,{trait:t,component:l,editor:n}):i?a.jsx("div",{className:NL,ref:s}):null:null});function n0({className:e,options:t,value:n,name:r,label:s,border:o,hideCaret:i,size:l="s",autoFocus:c,open:u,allowNew:d,onChange:f,onBlur:h,placeholder:g}){const[v,m]=p.useState(null),[b,y]=p.useState(null),{styles:x,attributes:w}=ao(v,b,ip),[S,j]=p.useState(""),C=vp(),O=S===""?t:t.filter(z=>z.label.toLowerCase().includes(S.toLowerCase())),E=z=>j(z.target.value),T=z=>z==null?void 0:z.label,_=d&&S.length>0&&!O.some(z=>z.label===S),M=rt(d)?d(S):d,k={minWidth:`${v==null?void 0:v.offsetWidth}px`,maxHeight:200},B=()=>h==null?void 0:h();return a.jsxs("div",{className:R("w-full",e),children:[!!s&&a.jsx(wt,{size:l,children:s}),a.jsxs(_s,{value:n,onChange:f,name:r,nullable:!0,children:[a.jsx(Jb,{size:l,ref:m,border:o,children:a.jsxs(D,{nowrap:!0,children:[a.jsx(_s.Input,{autoFocus:c,className:C,displayValue:T,onChange:E,onBlur:B,placeholder:g}),!i&&a.jsx(_s.Button,{children:a.jsx(J,{icon:Y.chevronDown,size:oe.sx})})]})}),a.jsx(_s.Options,{static:u,className:K1,ref:y,style:x.popper,...w.popper,children:a.jsxs(Ht,{className:R("h-full"),padding:!1,style:k,children:[_&&a.jsx(_s.Option,{value:{id:null,label:S},children:({active:z})=>a.jsx(Gf,{option:{id:null,label:M},active:z,selected:n})}),!_&&O.length===0&&a.jsx("div",{className:R(Pe.xy),children:"No items found"}),O.map(z=>a.jsx(_s.Option,{value:z,children:({active:P})=>a.jsx(Gf,{option:z,active:P,selected:n})},z.id))]})})]})]})}const IL="page://",r0="#",_a="mailto:",du="subject=",sd="tel:",Ig=e=>e.startsWith(sd)?"phone":e.startsWith(_a)?"email":e.startsWith(IL)?"pages":e.startsWith(r0)?"elements":"url",Vg=e=>`${e.getName()} - #${e.getId()}`,VL=re(function({trait:t}){const n=t.getValue(),r=pe(),{isSelectingTarget:s}=r,[,o]=p.useState(0),[i,l]=p.useState(()=>Ig(n)),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,g]=p.useState(""),[v,m]=p.useState(!0),[b,y]=p.useState([]),x=Mt(),w=Oe(),S=x.Pages.getAll(),j=w.tScoped("traitManager.traits.labels"),C=()=>o(A=>++A),O=A=>{t.setValue(A)},E=A=>{l(A),u(""),f(""),g(""),O("")},T=A=>{O(A),C()},_=A=>{A&&(O(A.id),C())},M=A=>{O(`${sd}${A}`),g(A)},k=A=>{O(`${_a}${A}${d?`?${du}${d}`:""}`),u(A)},B=A=>{O(`${_a}${c}${A?`?${du}${A}`:""}`),f(A)},z=()=>{r.setSelectingTarget(!s)},P=A=>{const $=A.replace(r0,""),N=x.Components.componentsById[$];return{id:A,label:N?Vg(N):A}};return p.useEffect(()=>{var $;const A=[];if(v){const N=["path","br","b","u","i","strike"],I=($=x.Pages.getSelected())==null?void 0:$.getMainComponent();I==null||I.forEachChild(V=>{!V.is("comment")&&!V.is("textnode")&&!N.includes(V.get("tagName"))&&A.push({id:`#${V.getId()}`,label:Vg(V)})})}y(A)},[v]),p.useEffect(()=>{let A=()=>{};const $=()=>{A(),x.stopCommand(Ka)};return s&&(A=px($),x.runCommand(Ka,{onSelect:N=>O(`#${N.getId()}`)})),$},[s]),p.useEffect(()=>{if(!n)return;const A=Ig(n);switch(A){case"phone":g(n.replace(sd,""));break;case"email":{const[$,N=""]=n.replace(_a,"").split("?");u($),f(N.replace(du,""));break}}l(A)},[n]),a.jsx(xs,{onChange:E,classNamePanel:R("gjs-p-1"),value:i,tabs:[{id:"url",label:a.jsx(J,{icon:Y.link,size:oe.s}),content:a.jsx(nt,{placeholder:"eg. https://google.com",value:n,label:"URL",onChange:O,size:"s",type:"url"})},{id:"pages",label:a.jsx(J,{icon:Y.textBoxMultiple,size:oe.s}),content:a.jsx(Se,{size:"s",options:S.map(A=>({id:`page://${A.getId()}`,label:A.getName()})),value:n,onChange:T,label:"Page"})},{id:"elements",label:a.jsx(J,{icon:Y.viewDayOutline,size:oe.s}),content:a.jsxs(D,{space:"s",col:!0,children:[a.jsx(wt,{size:"s",children:"Element ID"}),a.jsxs(D,{space:"xs",nowrap:!0,children:[v?a.jsx(n0,{options:b,onChange:_,value:P(n),placeholder:w.t("selectList")}):a.jsx(nt,{size:"s",placeholder:"eg. #my-element-in-page",value:n,onChange:O,className:R("flex-1")}),a.jsx(At,{title:w.t("selectTarget"),size:"m2",active:s,onClick:z,className:R("h-7"),children:a.jsx(J,{icon:Y.target,size:oe.sx})})]}),a.jsx(Za,{value:v,onChange:m,label:j("showList")})]})},{id:"email",label:a.jsx(J,{icon:Y.email,size:oe.s}),content:a.jsxs(D,{space:"s",col:!0,children:[a.jsx(nt,{placeholder:"eg. mail@gmail.com",value:c,onChange:k,size:"s",label:"Email",type:"email"}),a.jsx(nt,{placeholder:"eg. My subject",value:d,onChange:B,label:"Subject",size:"s"})]})},{id:"phone",label:a.jsx(J,{icon:Y.phone,size:oe.s}),content:a.jsx(nt,{size:"s",type:"tel",label:"Phone",placeholder:"eg. +55123456789",value:h,onChange:M})}]},i)});function HL({trait:e}){const[t,n]=p.useState(),r=e.get("properties"),s=e.get("addItem"),o=e.get("labelItem"),i=e.getValue(),l=i.findIndex(c=>c.id===(t==null?void 0:t.id));return a.jsx(sr,{items:i,selected:l>-1?t:null,add:()=>{const c=i.length+1,u=s?s(c):{id:`opt${c}`,label:`New option ${c}`};e.setValue([...i,u])},select:n,move:(c,u)=>{const d=e.getValue().filter(f=>f.id!==c.id);d.splice(u,0,c),e.setValue(d)},remove:c=>{const u=e.getValue().filter(d=>d.id!==c.id);e.setValue(u,{removed:c})},label:e.getLabel({locale:!0}),renderItem:c=>o?o(c):c.label,children:a.jsx(D,{space:"m",col:!0,children:!!t&&r.map(c=>{const{name:u,getValue:d}=c,f=c.setValue,h=c.label||u,g=i[l];if(!g)return null;const v=g[u],m=d?d(v):v,b=x=>{const w={...g};g[u]=f?f(x,m):x,e.setValue([...i],{item:g,previous:w}),u==="id"&&n(g)};let y=a.jsx(nt,{label:h,value:m,onChange:b});switch(c.type){case"select":y=a.jsx(Se,{label:h,options:c.options,value:m,onChange:b})}return a.jsx(p.Fragment,{children:y},u)})})})}const BL="gs-trait-custom-type",FL=re(function({trait:t,editor:n}){const r=p.useRef(null),s=t.getType(),o=t.target,{Traits:i}=n,l=i.getType(s),c=!!(o&&l),u=r.current;return p.useEffect(()=>{if(l&&u&&o){const d=new l({model:t,config:i.getConfig(),attributes:t.get("attributes")}),f=d.render().el;return u.appendChild(f),d.listenTo(o,"change",()=>d.postUpdate()),()=>{u.removeChild(f),d.removeView()}}},[u]),c&&a.jsx("div",{className:BL,ref:r})}),nc=e=>lr((e||"").replace(/-/g," ")),s0=e=>({size:"s",tip:e.get("tip")}),Fs=(e,t)=>({...s0(e),type:e.getType(),value:e.getValue(),label:e.get("label")!==!1&&nc(e.getLabel({locale:!0})),placeholder:(t==null?void 0:t.t(`traitManager.traits.attributes.${e.getId()}.placeholder`))||e.get("placeholder")||"",onChange:(n,r)=>e.setValue(n,{partial:r})}),Hg=e=>{const t=e.get("labelToTitle");return{...Fs(e),options:e.getOptions().map(n=>{const r=n.labelReact||n.name||n.label||n.value;return xt(n)?{id:n,label:n}:{id:n.id||n.value,title:t?r:n.title,icon:n.icon,label:t?"":r}}),onChange:n=>e.setValue(n)}},zL=e=>({...Fs(e),min:e.get("min"),max:e.get("max"),step:e.get("step"),units:e.get("units"),onChange:(t,n)=>{e.setValue(n?t:parseFloat(t),{partial:n})}}),UL=e=>({children:nc(e.getLabel()||e.get("text")||e.get("labelButton")),onClick:()=>{const t=e.em.Editor,n=e.get("command");xt(n)?t.runCommand(n):n==null||n(t,e)},full:!0}),WL=e=>({...s0(e),value:!!e.getValue({useType:!0}),label:nc(e.getLabel()),onChange:t=>e.setValue(t)}),GL=e=>({language:"css",...e.get("typeProps")||{},value:e.getValue(),label:nc(e.getLabel()),onChange:n=>e.setValue(n)}),KL=(e,t)=>{const n=e.get("typeProps")||{};return{...Fs(e,t),isContain:!0,onOpen(){const r=t==null?void 0:t.Assets;r==null||r.open({select(s){e.setValue(s.getSrc()),r.close()}})},btnLabel:e.get("text"),...n}};function qL(e,t,n={}){var o;const r=e.get("visible"),s=e.getType();if(rt(r)&&r({component:e.target,trait:e})===!1)return null;switch(s){case"text":return a.jsx(nt,{...Fs(e,t)});case"select":return a.jsx(Se,{...Hg(e)});case"number":return a.jsx(Ce,{...zL(e)});case"checkbox":return a.jsx(Za,{...WL(e)});case"color":return a.jsx(xr,{...Fs(e)});case"button":return a.jsx(ze,{...UL(e)});case"radio":return a.jsx(_t,{...Hg(e)});case"code":return a.jsx(Nr,{...GL(e),...n},((o=t==null?void 0:t.getSelected())==null?void 0:o.getId())||"");case"image":case"file":return a.jsx(di,{...KL(e,t)});case"stack":return a.jsx(HL,{trait:e});case"href":return a.jsx(VL,{trait:e});case"custom":return a.jsx(DL,{editor:t,trait:e});default:return!!t.Traits.getType(s)?a.jsx(FL,{editor:t,trait:e}):a.jsx(nt,{...Fs(e,t)})}}const od="gs-trait-manager",Bg=({trait:e,isDarkTheme:t})=>a.jsx(L,{className:R(`${od}-field gs-utl-mb-2 gs-utl-w-full`),children:qL(e,e.em.getEditor(),{isDarkTheme:t})});function YL({traits:e,className:t}){var c;const n=Mt(),{isDarkTheme:r}=Zt(),s=n.Traits.getTraitsByCategory(e),o=(c=s.find(u=>!u.category))==null?void 0:c.items,i=s.filter(u=>u.category),l=R("gs-utl-text-center");return a.jsx(D,{className:R(od,t),col:!0,children:n.getSelected()?e.length?a.jsxs(a.Fragment,{children:[o==null?void 0:o.map(u=>a.jsx(Bg,{trait:u,isDarkTheme:r},u.id)),i.map(({category:u,items:d},f)=>a.jsx(ys,{open:!!(u!=null&&u.get("open")),onChange:({open:h})=>u==null?void 0:u.set({open:h}),handler:u==null?void 0:u.getLabel(),handlerIcon:u==null?void 0:u.get("icon"),classNameContent:"gs-utl-p-2",classNameWrap:`${od}-category -gs-utl-mx-2`,className:h=>R(Cd.itemList({index:f+(o?1:0),open:h,length:i.length})),children:d.map(h=>a.jsx(Bg,{trait:h,isDarkTheme:r},h.id))},u==null?void 0:u.id))]}):a.jsx(L,{className:l,children:"No properties available"}):a.jsx(L,{className:l,children:n.t("traitManager.empty")})})}const id=re(YL),XL="gs-panel-properties",ZL=p.memo(re(function({className:t,...n}){return a.jsx(An,{className:W(XL,"gs-utl-overflow-auto gs-utl-h-full",t),classNameAccordion:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:W("gs-utl-overflow-auto"),...n,children:a.jsx(Fu,{children:r=>a.jsx(id,{...r})})})})),JL=async({html:e="",css:t="",el:n})=>{const r=`<span style="color: initial; display: inline-block;"><style> body { margin: 0; } ${t}</style>${e}</span>`,s={};if(document.body.attachShadow){const o=n.shadowRoot||n.attachShadow({mode:"open"});o.innerHTML=r}return s},QL=re(function({rule:t,onSelect:n,onRemove:r,className:s}){const o=p.useRef(null),l=pe().editor,c=Oe(),u=t.getDevice(),d=t.getState(),{isDarkTheme:f}=Zt(),[h,g]=p.useState(t.toCSS({allowEmpty:!0})),[v,m]=p.useState(h),b=t.selectorsToString(),y=()=>{l.select(),setTimeout(()=>l.Selectors.select(t)),n==null||n()},x=()=>{l.Css.remove(t),r==null||r()},w=()=>{if(v){const S=l.Parser.parseCss(v)[0];S&&(t.setStyle(S.style),g(v))}};return p.useEffect(()=>{if(o.current){const S=o.current;JL({el:S,html:'<div class="prv-rule">Preview</div>',css:`
        .prv-rule {
          background-color: #fff;
          padding: 5px;
        }
        .prv-rule, ${h}
        `})}},[o,h]),a.jsx(Ht,{padding:!1,className:F("overflow-hidden max-w-full group",s),children:a.jsxs(D,{col:!0,space:"xs",children:[a.jsx(D,{className:F("bg-checker gjs-p-3 overflow-auto overflow-x-hidden h-20"),justify:"center",items:"center",children:a.jsx("div",{ref:o,className:F("relative flex items-center justify-center")})}),a.jsxs(D,{className:F("gjs-p-1 w-full"),col:!0,space:"s",children:[a.jsxs(D,{nowrap:!0,items:"center",space:"xs",full:!0,children:[a.jsx(L,{grow:!0,children:a.jsx("pre",{className:F("text-xs bg-white/10",H.txt,ee.rnd,Pe.xyS),children:b})}),!!u&&u.getWidthMedia()&&a.jsx(L,{children:a.jsx(lt,{title:a.jsxs(a.Fragment,{children:[c.t("deviceManager.device"),": ",a.jsx("b",{children:u.getName()})]}),children:a.jsx(J,{icon:Y.cellphoneLink,size:oe.sx})})}),!!d&&a.jsx(L,{children:a.jsx(lt,{title:a.jsxs(a.Fragment,{children:[c.t("selectorManager.state"),": ",a.jsx("b",{children:d.getLabel()})]}),children:a.jsx(J,{icon:Y.flare,size:oe.sx})})})]}),a.jsxs(D,{nowrap:!0,className:F(qe.txtEllips),space:"s",children:[a.jsx(L,{className:F("group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),grow:!0,children:a.jsx(ze,{onClick:y,className:F("text-sm gjs-mr-auto"),size:"m2",full:!0,children:c.t("select")})}),a.jsx(Cr,{overlay:!0,title:!1,padding:!1,buttonAs:"span",handler:a.jsx(At,{title:c.t("selectorManager.showCSS"),children:a.jsx(J,{icon:Y.codeBraces,size:oe.sx})}),children:({close:S})=>a.jsxs(D,{className:F("relative w-80 h-48"),col:!0,children:[a.jsx(L,{grow:!0,children:a.jsx(Nr,{value:Ip(h),onChange:m,language:"css",padding:5,isDarkTheme:f,clean:!0})}),a.jsx(ze,{className:F("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:()=>{w(),S()},children:c.t("update")})]})}),a.jsx(Hp,{onConfirm:x,className:F("w-48"),children:a.jsx(At,{title:c.t("selectorManager.deleteStyle"),children:a.jsx(J,{icon:Y.delete,size:oe.sx})})})]})]})]},t.cid)})}),e$=re(function(){const[t]=Wl(),n=Tn(),r=Oe(),[s,o]=p.useState(""),[i,l]=p.useState(""),u=pe().editor,[d,f]=p.useState(u.Css.getRules("")),h=u.Devices.getDevices().map(m=>({id:m.id,label:m.getName()})),g=d.filter(m=>{var b;return!(s&&!Ns(m.selectorsToString(),s)||i&&((b=m.getDevice())==null?void 0:b.id)!==i)}),v=()=>f(u.Css.getRules(""));return a.jsxs(D,{col:!0,space:"m",children:[a.jsxs(D,{items:"center",space:"m",children:[a.jsx(L,{children:a.jsx(nt,{size:"s",type:"search",value:s,onInput:o,placeholder:`${r.t("selectorManager.searchStyle")}...`})}),a.jsx(L,{children:a.jsx(Se,{includeEmpty:!0,size:"s",value:i,options:h,onChange:l,emptyState:r.t("deviceManager.allDevices"),handlerSelected:m=>a.jsxs(D,{space:"s",items:"center",children:[a.jsx(J,{icon:Y.cellphoneLink,size:oe.sx}),a.jsx("span",{children:m.label})]})})})]}),a.jsx(L,{className:F("gs-utl-h-[75vh] w-full overflow-auto"),children:g.length?a.jsx($i,{data:g,listClassName:F("grid grid-cols-4 gap-2 gjs-pr-2"),itemContent:(m,b)=>a.jsx(QL,{rule:b,onRemove:v,onSelect:n.close},b.cid)},t):a.jsx(D,{justify:"center",children:r.t("modals.styleCatalog.noStyles")})})]})}),t$=re(function({selector:t,className:n,removable:r,toggleable:s}){const o=Oe(),i=pe(),[l,c]=p.useState(),[u,d]=p.useState(t.getActive()),f=i.editor,{Selectors:h}=f,g=t.getLabel(),v=a.jsx(J,{icon:Y.dotsVertical,size:oe.sx}),m=()=>{h.removeSelected(t)},b=C=>{l&&h.rename(l,C),c(void 0)},y=()=>{h.duplicateSelected(t)},x=()=>{const C=!t.getActive();d(C),t.setActive(C)},S=[{id:"rename",label:o.t("rename"),action:()=>c(t)},{id:"duplicate",label:o.t("duplicate"),action:y},r&&{id:"delete",label:o.t("delete"),action:m},s&&{id:"active",label:o.t(u?"disable":"enable"),action:x}].filter(Boolean),j=(C,O)=>E=>{C(),rt(O)&&O(E)};return a.jsx(ct,{className:F(["gjs-ml-1 gjs-my-1 group overflow-hidden cursor-default relative",H.sel,n]),s:"s",children:a.jsxs(D,{items:"center",children:[a.jsx(L,{className:F("gjs-mr-4",!l&&!u&&"opacity-50 line-through"),children:a.jsx(hb,{value:g,onChange:b,active:!!l,unstyled:!0})}),a.jsx(D,{className:F("absolute h-full right-0 transition-opacity",H.sel,H.selBr,ee.bl),children:a.jsx(Cr,{handler:v,title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:C})=>S.map(O=>a.jsx(Rl,{className:F(H.txt),label:O.label,action:j(C,O.action)},O.id))})})]})})}),n$=e=>{var r,s;let t=(r=e==null?void 0:e.selectorsToString)==null?void 0:r.call(e);const n=(s=e==null?void 0:e.getAtRule)==null?void 0:s.call(e);return t&&n&&(t=`${n} {
	${t}
}`),t},o0=re(function({selectedState:t,states:n,addSelector:r,setState:s,styleCatalog:o,stateSelector:i}){var K,Q,ce;const l=Oe(),c=Tn(),[u,d]=p.useState(!1),{toggleCssPanel:f,isCssPanelActive:h,editor:g}=pe();if(!g)return null;const{Selectors:v,Styles:m}=g,b=v.getComponentFirst(),y=v.getSelectedAll(),x=v.getAll({array:!0}),w=g.getSelectedAll(),S=n.map(te=>({id:te.getName(),label:te.getLabel()})),j=g.getModel(),C=m.getSelected(),O=(K=C==null?void 0:C.getDevice)==null?void 0:K.call(C),E=(Q=C==null?void 0:C.getState)==null?void 0:Q.call(C),T=y.reduce((te,G)=>{const Z=te.indexOf(G);return Z>=0&&te.splice(Z,1),te},x),_=R("overflow-hidden gjs-mb-2",ee.b,ee.rnd,H.br),M=R(H.bA),k=R("flex h-full cursor-pointer gjs-p-2",ee.br,H.br),B=`${H.bgA}`,z=n$(C),P=y.length>0,A=w.length>0,$=P||A,N=b&&A||!b&&!P,I=N?"Components":"Selectors",V=te=>l.t(`selectorManager.${te}`),U=l.t("modals.styleCatalog.title"),X=()=>c.open({title:U,content:a.jsx(e$,{})}),ne=T.filter(te=>te.isClass()).map(te=>({id:te,label:te.getLabel()}));return a.jsxs(a.Fragment,{children:[a.jsxs(D,{items:"center",className:R("gjs-mb-2"),children:[a.jsx(L,{grow:!0,children:a.jsxs(D,{items:"center",space:"s",children:[a.jsx(L,{children:V("selection")}),o!==!1&&a.jsx(L,{children:a.jsx(lt,{className:R("cursor-pointer"),onClick:X,title:U,children:a.jsx(J,{icon:Y.paletteSwatch,size:oe.s})})})]})}),!!C&&i!==!1&&a.jsx(L,{children:a.jsx(Se,{size:"s",value:t,options:S,includeEmpty:!0,onChange:s,emptyState:`- ${V("state")} -`,className:R([t&&H.bA])})})]}),$?a.jsxs(a.Fragment,{children:[a.jsxs(D,{items:"stretch",space:"xs",className:R(_,!N&&M),children:[a.jsx(lt,{title:V(P?"applyOnSelector":"noSelectors"),className:R(k,!N&&B),onClick:()=>P&&v.setComponentFirst(!1),children:a.jsx(D,{className:R("h-full"),items:"center",children:a.jsx(J,{icon:Y.tag,size:oe.sx})})}),a.jsx(L,{grow:!0,children:a.jsx(D,{className:R("h-full gjs-pr-1"),items:"center",children:u?a.jsx(n0,{autoFocus:!0,open:!0,hideCaret:!0,border:!1,options:ne,allowNew:V("addNewSelector"),onBlur:()=>setTimeout(()=>d(!1),100),onChange:te=>{te&&(r(te.id||te.label),d(!1))}}):a.jsxs(a.Fragment,{children:[A&&a.jsx(lt,{title:V("addNewSelector"),children:a.jsx(ze,{variant:"out",size:"s",onClick:()=>d(!0),children:a.jsx(J,{icon:Y.plus,size:oe.s})})}),y.map(te=>a.jsx(t$,{selector:te,removable:A,toggleable:A&&y.filter(G=>G.getActive()||G===te).length>1},te.toString()))]})})})]}),a.jsxs(D,{items:"stretch",space:"xs",className:R(_,N&&M),children:[a.jsx(lt,{title:V(A?"applyOnComponents":"noComponents"),onClick:()=>A&&v.setComponentFirst(!0),className:R(k,N&&B),children:a.jsx(D,{className:R("h-full"),items:"center",children:a.jsx(J,{icon:Y.targetVariant,size:oe.sx})})}),a.jsx(L,{grow:!0,className:R("gjs-py-0.5"),children:a.jsx(D,{className:R("h-full gjs-pr-1"),items:"center",children:w.map(te=>a.jsx(ct,{s:"s",className:R(["gjs-ml-1 gjs-my-0.5 cursor-default",H.cmp]),onPointerEnter:()=>j.setHovered(te),onPointerOut:()=>j.setHovered(),label:te.getName()},te.getId()))})})]}),a.jsxs(D,{space:"s",items:"center",justify:"between",children:[a.jsx(lt,{title:a.jsxs(a.Fragment,{children:[a.jsx("div",{children:V("selected")}),a.jsx("pre",{className:R("gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-text-gray-400",ee.rnd,Pe.xyS),children:z}),a.jsx("div",{className:R("gs-utl-text-xs gs-utl-mt-1.5"),children:V("currentSelection")})]}),children:a.jsx(ct,{className:R(ee.b,ee.rnd,H.br),s:"xs",nopad:!0,block:!0,children:a.jsx(J,{icon:Y.target,size:oe.sx})})}),a.jsx(L,{className:R("text-sm"),children:a.jsx(ct,{className:R(ee.b,ee.rnd,H.br),s:"xs",nopad:!0,children:a.jsxs(D,{space:"xs",items:"center",nowrap:!0,children:[!!O&&O.getWidthMedia()&&a.jsxs(a.Fragment,{children:[a.jsx(lt,{title:a.jsxs(a.Fragment,{children:[V("device"),": ",a.jsx("b",{children:O.getName()})]}),children:a.jsx(J,{icon:Y.cellphoneLink,size:oe.sx})}),a.jsx(L,{className:R("opacity-30"),children:"|"})]}),a.jsx(lt,{title:a.jsxs(a.Fragment,{children:[V("target"),": ",a.jsx("b",{children:I}),a.jsxs("span",{className:R("text-xs opacity-75"),children:[" ",(ce=C==null?void 0:C.selectorsToString)==null?void 0:ce.call(C,{skipState:1})]})]}),children:a.jsx(J,{icon:N?Y.targetVariant:Y.tag,size:oe.sx})}),!!E&&a.jsxs(a.Fragment,{children:[a.jsx(L,{className:R("opacity-30"),children:"|"}),a.jsx(lt,{title:a.jsxs(a.Fragment,{children:[V("state"),": ",a.jsx("b",{children:E.getLabel()})]}),children:a.jsx(J,{icon:Y.flare,size:oe.sx})})]})]})})}),a.jsx(At,{title:l.t("toggleCss"),onClick:f,active:h,size:"s",children:a.jsx(J,{icon:Y.codeBraces,size:oe.sx})})]})]}):a.jsxs(D,{className:R("text-sm leading-6 gjs-my-5"),col:!0,children:[a.jsx(L,{children:V("noSelecton")}),a.jsxs("ul",{className:R("list-disc gjs-pl-5 gjs-mt-2"),children:[a.jsx("li",{children:V("selectFromCanvas")}),a.jsx("li",{children:V("selectFromList")})]})]})]})}),r$="gs-panel-selectors",s$=p.memo(re(function({className:t,styleCatalog:n,stateSelector:r,...s}){return a.jsx(An,{className:W(r$,t),...s,children:a.jsx(fp,{children:o=>a.jsx(o0,{...o,styleCatalog:n,stateSelector:r})})})})),i0=p.forwardRef(function({children:t,className:n,content:r,...s},o){return a.jsx("div",{className:W(F("gs-design-manager-tab"),n),ref:o,...s,children:t})}),pu=R("overflow-y-auto overflow-x-hidden max-w-full"),a0=re(function(){var w,S,j;const{isCssPanelActive:t,selectedDesignerTab:n,showSelectors:r,setSelectedDesignerTab:s,sdkProps:o,sdkOptions:i,isProjectTypeEmail:l}=pe(),c=Oe(),u=R(t&&"hidden"),f=(((w=Nt(o.children,i0))==null?void 0:w.filter(Boolean))||[]).map(({props:C},O)=>({id:C.id,label:C.label,content:a.jsx(bs,{children:C.children}),order:C.order??2+O+1})),h=(S=i.designPanel)==null?void 0:S.propsInStyles,g=(j=i.designPanel)==null?void 0:j.hideTabs,v=h===!0||l&&h!==!1,m=g===!0||l&&g!==!1,b=c.t("traitManager.panelLabel"),x=[{id:"style",label:c.t("styleManager.panelLabel"),order:1,content:a.jsxs(D,{col:!0,full:!0,children:[!!r&&a.jsx(L,{className:R(Pe.s,ee.bb,H.br),children:a.jsx(fp,{children:C=>a.jsx(o0,{...C})})}),v&&a.jsx(L,{className:pu,children:a.jsx(ys,{handler:b,className:ib(!1),sticky:!0,open:!0,children:a.jsx(Fu,{children:C=>a.jsx(id,{...C,className:R("gjs-p-2",H.br,ee.bb)})})})}),a.jsx(L,{className:pu,grow:!0,children:a.jsx(kv,{children:C=>a.jsxs(a.Fragment,{children:[t&&a.jsx(Vb,{}),a.jsx(ab,{className:u,...C})]})})})]})},!v&&{id:"props",label:b,order:2,content:a.jsx(D,{col:!0,full:!0,children:a.jsx(L,{className:R(Pe.s,pu),children:a.jsx(Fu,{children:C=>a.jsx(id,{...C})})})})},...f].filter(Boolean).sort((C,O)=>C.order-O.order);return a.jsx(D,{col:!0,full:!0,nowrap:!0,children:a.jsx(xs,{value:n,onChange:s,tabs:x,className:R(m&&"hidden")})})}),o$="gs-panel-sidebar-tabs",i$=p.memo(re(function({className:t,...n}){return a.jsx(An,{className:W(o$,"gs-utl-h-full",t),...n,children:a.jsx(a0,{})})})),a$="gs-panel-styles",l$=p.memo(re(function({className:t,...n}){const{isCssPanelActive:r}=pe(),s=W(r&&" gs-utl-hidden");return a.jsx(An,{className:W(a$,"gs-utl-overflow-auto gs-utl-h-full",t),classNameAccordion:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:W("gs-utl-overflow-auto"),...n,children:a.jsx(kv,{children:o=>a.jsxs(a.Fragment,{children:[r&&a.jsx(Vb,{}),a.jsx(ab,{className:s,...o})]})})})})),c$="gs-panel-templates",u$=p.memo(re(function({className:t,templates:n,content:r,onSelect:s,...o}){const i=lv(),{projectTypeFilter:l}=i;let c=n??i.templates;return c=c==null?void 0:c.map(u=>({...u,isTemplate:!0})),p.useEffect(()=>{n||i.loadTemplates()},[n]),a.jsx(An,{className:W(c$,"gs-utl-overflow-hidden gs-utl-h-full",t),classNameAccordion:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:W("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...o,children:a.jsx(D,{className:F("relative gs-utl-h-full"),nowrap:!0,col:!0,space:"m",children:a.jsx(D,{className:F("gs-utl-h-[75vh] gs-utl-flex-grow"),nowrap:!0,col:!0,space:"m",children:a.jsx(Hb,{templates:c,projectType:Ne[l],content:r,onSelect:s,skipProjectNamePopover:!0})})})})})),d$="gs-cmp-row",p$=p.memo(function({className:t,children:n,full:r,...s}){return a.jsx(Ss,{className:W(d$,H.bg,"gs-utl-flex",r&&"gs-utl-w-full",t),...s,children:vn(n)})}),f$="gs-cmp-select-field",h$=p.memo(re(function({className:t,style:n,label:r,name:s,value:o,options:i,size:l,onChange:c,required:u,disabled:d,emptyState:f,editorEvents:h}){const{editor:g}=pe(),[v,m]=p.useState(()=>({required:u,disabled:d,style:n,className:t,label:r,name:s,value:o,options:i,size:l,emptyState:f})),b=y=>{c({value:y,editor:g,state:v,setState:x=>m(w=>({...w,...x}))})};return rc({editor:g,editorEvents:h,localState:v,setLocalState:m}),a.jsx(Se,{classNameContainer:W(f$,v.className),style:v.style,label:v.label,name:v.name,value:v.value??"",options:v.options??[],size:v.size,required:v.required,disabled:v.disabled,emptyState:v.emptyState,onChange:b})})),g$="gs-sidebar-bottom",m$=p.memo(re(function({children:t,className:n,style:r,height:s,...o}){const{isInPreview:i,isBottomSidebarOpen:l}=pe(),c=s??35,u=p.useMemo(()=>({height:c,marginBottom:i||!l?`-${c}px`:0,...r}),[i,l,r]);return a.jsx(Ss,{className:W(g$,"gs-utl-flex gs-utl-transition-spacing",ee.bt,H.br,n),style:u,...o,children:t?vn(t):void 0})})),v$=re(function(t){var b;const{leftSidebarSize:n,setLeftSidebarSize:r,editor:s,isInPreview:o,isLeftSidebarOpen:i,sdkProps:l,showPages:c}=pe(),u=l.children,d=((b=t.style)==null?void 0:b.width)??t.width,f=d??n,h=p.useMemo(()=>({marginLeft:o||!i?`-${f}px`:0,...t.style}),[f,o,i,t.style]),g=()=>s==null?void 0:s.refresh(),v=(y,x,w)=>{r(w.getBoundingClientRect().width)},m=t.resizable!==!1;return a.jsx(Ql,{className:W(t.className,R(["h-full transition-spacing",ee.br,H.br])),right:m,enable:t.resizable===!1?!1:void 0,style:h,height:"100%",width:f,minWidth:d??200,maxWidth:d??400,onResize:g,onResizeStop:v,children:t.children??a.jsxs(D,{full:!0,col:!0,children:[c&&a.jsx(L,{className:R(["w-full",ee.bb,H.br]),children:a.jsx(pp,{children:y=>a.jsxs(a.Fragment,{children:[Nt(u,Up),a.jsx(e0,{...y}),Nt(u,zp)]})})}),a.jsx(L,{className:R(["w-full overflow-hidden flex flex-col"]),grow:!0,children:a.jsx(dp,{children:y=>a.jsxs(a.Fragment,{children:[Nt(u,Fp),a.jsx(Xb,{...y}),Nt(u,Bp)]})})})]})})}),b$="gs-sidebar-left",y$=p.memo(re(function({children:t,width:n,resizable:r,...s}){return a.jsx(v$,{className:W(b$,"gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap",Zl(s)),width:n,resizable:r,style:Jl(s),children:t?vn(t):void 0})})),x$=re(function(t){const{rightSidebarSize:n,setRightSidebarSize:r,editor:s,isInPreview:o,isRightSidebarOpen:i}=pe(),l=p.useMemo(()=>({marginRight:o||!i?`-${n}px`:0,...t.style}),[n,o,i,t.style]),c=()=>{s==null||s.refresh()},u=(d,f,h)=>{r(h.getBoundingClientRect().width)};return a.jsx(Ql,{className:W(R(["h-full transition-spacing",ee.bl,H.br]),t.className),left:!0,style:l,height:"100%",width:n,minWidth:200,maxWidth:400,onResize:c,onResizeStop:u,children:t.children??a.jsx(a0,{})})}),w$="gs-sidebar-right",S$=p.memo(re(function({children:t,...n}){return a.jsx(x$,{className:W(w$,"gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap",Zl(n)),style:Jl(n),children:t?vn(t):void 0})})),j$=re(function({className:t,variant:n,value:r,tabs:s,style:o,editorEvents:i,onChange:l}){const{editor:c}=pe(),[u,d]=p.useState(()=>({tabs:s,style:o,value:r,variant:n,className:t})),f=p.useMemo(()=>{var g;return((g=u.tabs)==null?void 0:g.map(v=>({...v,content:vn(v.children)})))||[]},[u.tabs]),h=g=>{l&&c?l({value:g,editor:c,state:u,setState:v=>d(m=>({...m,...v}))}):d(v=>({...v,value:g}))};return rc({editor:c,editorEvents:i,localState:u,setLocalState:d}),a.jsx(xs,{tabs:f,className:W(u.className),variant:u.variant,value:u.value,style:u.style,onChange:h})}),C$="gs-cmp-text",E$=p.memo(function({className:t,content:n,children:r,...s}){return a.jsx(Ss,{className:W(C$,t),...s,children:r||n})}),P$="gs-cmp-virtual-list",O$=re(function({id:t,items:n,itemLayout:r,itemsPerRow:s=12,className:o,style:i,htmlAttrs:l}){const{editor:c}=pe(),u=Vp(s);return a.jsx($i,{...l,data:n,className:W(P$,"gs-utl-h-full",o),listClassName:`gs-utl-grid gs-utl-gap-2 gs-utl-pr-2 ${u}`,style:i,itemContent:(d,f)=>a.jsx(p.Fragment,{children:r?vn(r({item:f,editor:c})):a.jsx("pre",{children:JSON.stringify(f,void 0,2)})},f.id??d)},t)});var ad=(e=>(e.text="text",e.row="row",e.column="column",e.button="button",e.buttonGroupField="buttonGroupField",e.inputField="inputField",e.selectField="selectField",e.tabs="tabs",e.devices="devices",e.custom="custom",e.panelLayers="panelLayers",e.panelPages="panelPages",e.panelSelectors="panelSelectors",e.panelStyles="panelStyles",e.panelProperties="panelProperties",e.panelSidebarTabs="panelSidebarTabs",e.panelPagesLayers="panelPagesLayers",e.panelBlocks="panelBlocks",e.panelPageSettings="panelPageSettings",e.panelGlobalStyles="panelGlobalStyles",e.panelAssets="panelAssets",e.panelTemplates="panelTemplates",e.sidebarLeft="sidebarLeft",e.sidebarRight="sidebarRight",e.sidebarTop="sidebarTop",e.sidebarBottom="sidebarBottom",e.canvas="canvas",e.canvasSidebarTop="canvasSidebarTop",e.virtualList="virtualList",e))(ad||{});const _$={row:p$,column:Hk,text:E$,tabs:j$,button:Np,buttonGroupField:B3,inputField:Fk,selectField:h$,devices:Bb,panelPages:t0,panelPageSettings:AL,panelLayers:Zb,panelPagesLayers:$L,panelBlocks:uL,panelGlobalStyles:yL,panelSelectors:s$,panelStyles:l$,panelProperties:ZL,panelSidebarTabs:i$,panelAssets:lL,panelTemplates:u$,sidebarRight:S$,sidebarLeft:y$,sidebarTop:Fb,sidebarBottom:m$,canvas:Db,canvasSidebarTop:Ik,virtualList:O$},vn=e=>{const t=Array.isArray(e)?e:e?[e]:[],n=DO();return t.filter(Boolean).map((r,s)=>{const{id:o="",type:i,...l}=xt(r)?{type:ad.text,content:r}:r||{},c=_$[i],u=n.layoutChildren.get(o),d=o||s;return u?a.jsx(Ua,{id:o,...u},d):i===ad.custom?a.jsx(Ua,{id:o,...l},d):c?a.jsx(c,{id:o,...l},d):null})},rc=e=>{const{editorEvents:t,editor:n,localState:r,setLocalState:s}=e;p.useEffect(()=>{if(!t||!n)return;const o=Object.keys(t).reduce((l,c)=>(l[c]=(u={})=>{const d=t[c];d({fromEvent:u,editor:n,state:r,setState:f=>s(h=>({...h,...f}))})},l),{}),i=Object.keys(o);return i.forEach(l=>n.on(l,o[l])),()=>{i.forEach(l=>n.off(l,o[l]))}},[n,r])},As="gs-layout-panel",T$=p.memo(re(function({className:t,layout:n,children:r}){const s=cp(),o=Tn(),[i,l]=p.useState(!1),[c,u]=p.useState(null),{id:d,header:f,layout:h,props:g,full:v=!0,style:m,toRemove:b,disablePropagation:y}=n,x=()=>{l(!1),setTimeout(()=>s.remove(d,{force:!0}),150)},w=n.placer||{type:Yr.absolute,position:qr.left},S=w.type===Yr.absolute?w:null,j=w.type===Yr.popover?w:null,C=w.type===Yr.static?w:null,O=w.type===Yr.dialog?w:null,E=(S==null?void 0:S.position)===qr.left,T=(S==null?void 0:S.position)===qr.right,_=(S==null?void 0:S.position)===qr.top,M=(S==null?void 0:S.position)===qr.bottom,k=C||O,B=xt(h)?{type:h}:h,z=!!S,{x:P,y:A}=j||{},$=(j==null?void 0:j.w)||(j==null?void 0:j.width),N=(j==null?void 0:j.h)||(j==null?void 0:j.height),I=p.useMemo(()=>({clientWidth:0,clientHeight:0,getBoundingClientRect:()=>new DOMRect(P,A,$,N)}),[P,A,$,N,i]),V=ao(I,c,{...q1,placement:"auto",...j==null?void 0:j.options}),U=W(As,H.br,H.bg,H.txt,"gs-utl-z-10",z&&"gs-utl-absolute gs-utl-transition",(E||_)&&"gs-utl-top-0 gs-utl-left-0",T&&"gs-utl-top-0 gs-utl-right-0",M&&"gs-utl-bottom-0 gs-utl-left-0",z&&v&&(E||T?"gs-utl-h-full":"gs-utl-w-full"),!i&&z?"gs-utl-opacity-0":"gs-utl-opacity-100",!i&&E&&"-gs-utl-translate-x-full",!i&&T&&"gs-utl-translate-x-full",!i&&_&&"-gs-utl-translate-y-full",!i&&M&&"gs-utl-translate-y-full",j&&ee.rnd,j&&ee.b,n.className,t);p.useEffect(()=>{const Q=setTimeout(()=>l(!0));return()=>clearTimeout(Q)},[]),p.useEffect(()=>{b&&x()},[b]);const X={...m,width:(m==null?void 0:m.width)||(E||T?240:void 0)};z1({current:c},{onTrigger:x,enabled:(j==null?void 0:j.closeOnClickAway)&&i});const ne=Q=>{y&&Q.nativeEvent.stopImmediatePropagation()},K=a.jsxs(D,{className:U,style:X,col:!0,nowrap:!0,onPointerDown:ne,onMouseDown:ne,children:[f!==!1&&a.jsx(L,{className:W(`${As}__header`,f==null?void 0:f.className),style:f==null?void 0:f.style,children:a.jsx(Ap,{onClose:(f==null?void 0:f.close)!==!1?x:void 0,className:F(Pe.s),title:a.jsxs(D,{className:`${As}__title`,space:"s",items:"center",children:[!!(f!=null&&f.icon)&&a.jsx(J,{icon:f.icon,size:oe.s}),!!(f!=null&&f.label)&&a.jsx(L,{grow:!0,children:f.label})]})})}),a.jsx(L,{className:W(`${As}__content`,"gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),grow:!0,children:h||d?vn({...g,id:d,...B}):r})]});return p.useEffect(()=>{if(i){if(C){const Q=s.layoutsById.get(C.layoutId);if(Q)return Q.setState({children:K}),()=>{!n.placer.skipCleanup&&Q.setState({children:null})}}else if(O)return o.open({content:()=>K,disablePropagation:y,title:O.title,size:O.size,onClose:x}),()=>{o.close()}}},[i]),k?null:j?a.jsx("div",{className:F(As,`${As}-popover`,"gs-utl-z-20"),ref:u,style:V.styles.popper,...V.attributes.popper,children:a.jsx(Gn,{show:i,...yi,unmount:!1,children:K})}):K})),A$=re(function({className:t,...n}){const{layouts:r}=cp();return a.jsx("div",{className:W("gs-layout-panel-container",t),...n,children:r.map(s=>a.jsx(T$,{layout:s},s.id))})}),nr="gs-cmp-modal";function l0({open:e=!1,title:t,disablePropagation:n,isDarkTheme:r,description:s,children:o,onClose:i,closable:l=!0,fullH:c,buttons:u=[],size:d}){const f=()=>l&&i(),h=W(Dm,`${nr} gs-utl-fixed gs-utl-z-20 gs-utl-inset-0 gs-utl-overflow-y-auto`,r&&Hu),g=W(`${nr}-wrapper gs-utl-relative gs-utl-flex gs-utl-justify-center gs-utl-min-h-screen`,c?"gs-utl-items-stretch":"gs-utl-items-center"),v=W(`${nr}-container`,"gs-utl-relative gs-utl-w-full gs-utl-p-5 gs-utl-my-8 gs-utl-overflow-hidden gs-utl-shadow-xl gs-utl-rounded-xl gs-utl-flex gs-utl-flex-col",ee.b,H.br,H.bg,H.txt,d==="lg"?"gs-utl-max-w-lg":d==="l"?"gs-utl-max-w-5xl":d==="s"?"gs-utl-max-w-sm":"gs-utl-max-w-md"),m=W(`${nr}-overlay gs-utl-absolute gs-utl-inset-0 gs-utl-bg-black/50 gs-utl-transition-opacity`),b=W(`${nr}-close gs-utl-absolute gs-utl-top-0 gs-utl-right-0 gs-utl-m-3`),y=W(`${nr}-title gs-utl-text-lg gs-utl-font-medium gs-utl-leading-6 gs-utl-m-0`),x=W(`${nr}-desc gs-utl-m-0`),w=W(`${nr}-content gs-utl-mt-4 gs-utl-h-full`),S=W(`${nr}-buttons gs-utl-mt-4`),j=C=>{n&&C.nativeEvent.stopImmediatePropagation()};return a.jsx(Gn,{show:e,as:p.Fragment,children:a.jsx(Co,{onClose:f,className:h,onPointerDown:j,onMouseDown:j,children:a.jsxs("div",{className:g,children:[a.jsx(Gn.Child,{as:p.Fragment,...yi,children:a.jsx(Co.Overlay,{className:m})}),a.jsx(Gn.Child,{as:p.Fragment,...Sd,children:a.jsxs("div",{className:v,children:[l&&a.jsx("div",{className:b,children:a.jsx(At,{block:!0,border:!1,onClick:f,children:a.jsx(J,{icon:Y.close,size:1})})}),a.jsx(Co.Title,{as:"h3",className:y,children:t}),a.jsx(Co.Description,{className:x,children:s}),a.jsx("div",{className:w,children:o}),u.length>0&&a.jsx(D,{className:S,space:"m",items:"center",justify:"end",children:u.map((C,O)=>a.jsx(ze,{...C},O))})]})}),a.jsx(Co,{onClose:()=>{},open:!1})]})})})}const M$=re(function(){const{isOpen:t,close:n,content:r,modalProps:s}=Tn(),{isDarkTheme:o}=Zt();return a.jsx(l0,{open:t,onClose:n,isDarkTheme:o,...s,children:rt(r)?r():r})}),R$="gs-panel-page-settings-cnt",k$=re(function(){const t=Oe(),n=pe(),{panelPageSettings:r}=n,s=t.tScoped("pageManager.settings"),{isOpen:o,page:i,width:l}=r,c=R(R$,"absolute left-0 top-0 h-full transition-transform z-10",!o&&"-translate-x-full",ee.br,H.br,H.bg),u=R(Pe.s),d=()=>n.setPanelPageSettings({isOpen:!1});return a.jsxs(D,{className:c,style:{width:l},col:!0,nowrap:!0,children:[a.jsx(L,{children:a.jsx(Ap,{title:s("title"),onClose:d,className:u})}),a.jsx(bs,{children:a.jsx(L,{className:R("overflow-hidden"),grow:!0,children:r.isOpen&&a.jsx(Qb,{page:i,size:Vl.s,classNameHeader:u,classNameContent:u,classNameFooter:u})})})]})}),Fg="gs-cmp-custom-rte",L$=re(function({items:t}){const n=r=>r.nativeEvent.stopImmediatePropagation();return a.jsx(Ht,{className:W(Fg,"gs-utl-m-2"),size:"s",onPointerDown:n,onMouseDown:n,classNameBody:W(`${Fg}__body`,"gs-utl-flex gs-utl-gap-1 gs-utl-items-center"),children:vn(t)})});function $$({children:e}){const t=up(),[n,r]=p.useState({enabled:!1,actions:[],Container:()=>null});p.useEffect(()=>{if(!t)return;const c=t.RichTextEditor,u=c.events.custom,d=f=>{let h;const g=c.customRte,v=g==null?void 0:g.toolbar,m=c.model.attributes.currentView;v&&(m!=null&&m.model)&&(h=v({editor:t,view:m,component:m.model,el:m.getChildrenContainer()}));const b=c.getAll().map(y=>({id:y.name,icon:y.icon,run:()=>c.run(y),state:y.currentState}));r({customRte:g,customToolbar:h,enabled:f.enabled,Container:Lb(f.container),actions:b})};return t.on(u,d),()=>{t.off(u,d)}},[t]);const{Container:s,customToolbar:o,customRte:i}=n,l=o?a.jsx(L$,{items:o}):null;return t&&s?a.jsx(s,{children:i?l:e(n)}):null}function N$(){return a.jsx($$,{children:({actions:e})=>a.jsx(D,{className:R(H.bg,ee.b,ee.rnd,H.br,"gjs-m-2"),nowrap:!0,children:e.map((t,n)=>a.jsx(ze,{border:!1,rounded:!1,active:t.state===1,disabled:t.state===-1,className:R("w-6",H.br,n!==0&&ee.bl),dangerouslySetInnerHTML:{__html:t.icon},onClick:t.run},t.id))})})}const D$=re(e=>{const{select:t,close:n,Container:r}=e,s=Mi(),{editor:o}=pe();if(!o)return a.jsx(r,{children:null});const{providers:i,onSelect:l,typeId:c,providerId:u,types:d,optionalType:f,content:h}=o.Assets.__customData().options;return a.jsx(r,{children:a.jsx(zb,{panelId:s.mainPanelId,onSelect:l??(({asset:g})=>t(g)),close:n,types:d,providers:i,typeId:c,providerId:u,optionalType:f,content:h})})}),I$=re(function(){var y,x;const t=pe(),n=Mi(),{projectType:r,editorKey:s,setEditor:o,sdkProps:i,sdkOptions:l,sdkCurrentLayout:c}=t,{isDarkTheme:u}=Zt(),d=!!((x=(y=l.gjsOptions)==null?void 0:y.assetManager)!=null&&x.custom),f=_p(),[h,g]=p.useMemo(()=>[oR(r,l),f.getPluginsToLoad(r,t)],[r,s]),v=w=>{var S,j;o(w),n.onEditor(),(S=i.onEditor)==null||S.call(i,w),(j=l.onEditor)==null||j.call(l,w),w.on("destroy",()=>{var C;o(),(C=l.onDestroy)==null||C.call(l,w),t.setIsReady(!1)})},m=w=>{var S,j;(S=i.onReady)==null||S.call(i,w),(j=l.onReady)==null||j.call(l,w),t.setIsReady(!0)},b=(w,S)=>{var j,C;(j=i.onUpdate)==null||j.call(i,w,S),(C=l.onUpdate)==null||C.call(l,w,S)};return a.jsxs(f5,{className:R("gs-editor-gjs h-full w-full",ee.b,H.br),grapesjs:l.gjsScript,grapesjsCss:l.gjsStyle,options:h,plugins:g,onEditor:v,onReady:m,onUpdate:b,children:[vn(c),a.jsx(A$,{}),a.jsx(E3,{}),a.jsx(k$,{}),!d&&a.jsx(o5,{children:w=>a.jsx(D$,{...w})}),a.jsx(h5,{children:({open:w,title:S,close:j,content:C})=>a.jsx(l0,{open:w,onClose:j,title:a.jsx(a.Fragment,{children:S}),isDarkTheme:u,size:"l",children:a.jsx(a.Fragment,{children:C})})}),a.jsx(I3,{}),a.jsx(N$,{}),a.jsx(M$,{})]},s)}),c0="0.22.5",V$=`https://unpkg.com/grapesjs@${c0}/dist/grapes.min.js`,H$=`https://unpkg.com/grapesjs@${c0}/dist/css/grapes.min.css`,B$=!1,F$=re(function(){const t=pe(),{updateAppShell:n}=Zt(),{editor:r,editorKey:s,sdkLicenseError:o,sdkMisconfigurationError:i,isReady:l,licenseCheckStarted:c,rootElWidth:u}=t,d=Tn(),f=Oe(),h=_p();cv();const g=!!s&&!!u;return p.useEffect(()=>{n&&document.querySelector("body").classList.add(...F(H.bg,"overflow-hidden").split(" "))},[]),p.useEffect(()=>{if(l&&!c&&!vd()){const v=setTimeout(()=>t.loadLicense(),100);return()=>clearTimeout(v)}},[l,c]),p.useEffect(()=>{i&&console.error(i)},[i]),p.useEffect(()=>{if(!r)return;"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(async b=>{if(!b.files.length)return;const w=await(await b.files[0].getFile()).text();t.loadProjectData(JSON.parse(w))});const{plg:v}=t.queryParams;v&&!h.selectedShown&&d.open({fullH:!0,title:f.t("pluginManager.plugins"),content:()=>a.jsx(Mb,{selectedId:v})});const m=lo(()=>t.refreshEditorCanvas(),100);return window.addEventListener("scroll",m,!0),()=>window.removeEventListener("scroll",m,!0)},[r]),p.useEffect(()=>{},[]),a.jsxs(D,{className:F("relative transition-colors h-full",H.bg,H.txt),justify:"center",items:"center",col:!0,children:[g&&(o?a.jsxs(D,{col:!0,justify:"center",items:"center",children:[a.jsx("div",{children:"SDK License Error"}),a.jsx("span",{className:F("text-sm"),children:o})]}):i?a.jsx(D,{col:!0,justify:"center",items:"center",children:a.jsx("div",{children:"SDK Misconfiguration Error"})}):a.jsx(I$,{})),a.jsx(Gn,{show:!g,as:p.Fragment,...yi,children:a.jsx(Ni,{className:F("z-10",H.bg),abs:!0})})]})}),ld={licenseKey:"",settingsMenu:{about:!1,embed:!1,openProject:!1,saveProject:!1,loadProject:!1,installApp:!1}},z$=p.forwardRef(function(t,n){var c;const{options:r=ld}=t,s={theme:r.theme},o=r.localStorage,i=o?fv(o,s):s,l={localSettingsStore:{...i,key:o,updateAppShell:r.updateAppShell,rootEl:r.root},appEditorStore:{isDev:B$,isStage:!!r.stg,licenseKey:r.licenseKey,projectType:(i==null?void 0:i.lastProjectType)||((c=r.project)==null?void 0:c.type)||Ne.web,sdkProps:{...t,options:{...ld,gjsScript:V$,gjsStyle:H$,...r}}}};return a.jsx(dR,{initialState:l,children:a.jsx(jR,{ref:n,children:a.jsx(F$,{})})})});const u0=z$;exports.AssetStorageType=Ha;exports.AssetType=kl;exports.BlockManagerAfter=Lp;exports.BlockManagerBefore=$p;exports.BuiltInActionButtons=nn;exports.ComponentContextMenuItem=rr;exports.ComponentContextMenuSource=Ml;exports.DesignManagerTab=i0;exports.GlobalStyleFieldType=X1;exports.IconNames=Y;exports.LayerManagerAfter=Bp;exports.LayerManagerBefore=Fp;exports.LayersProvider=dp;exports.LayoutPlacers=Yr;exports.LayoutPosition=qr;exports.PageManagerAfter=zp;exports.PageManagerBefore=Up;exports.PagesProvider=pp;exports.ProjectStorageType=Ba;exports.SelectorsProvider=fp;exports.StudioCommands=fe;exports.StudioCustomLayout=Ua;exports.StudioEditor=u0;exports.StudioEvents=vr;exports.ThemeValue=gr;exports.ToastVariant=jt;exports.default=u0;exports.useEditor=Mt;
